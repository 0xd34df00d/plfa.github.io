<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Subtyping: records | Programming Language Foundations in Agda
</title><!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="Subtyping: records" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Programming Language Foundations in Agda" />
<meta property="og:description" content="Programming Language Foundations in Agda" />
<link rel="canonical" href="https://plfa.github.io/Subtyping/" />
<meta property="og:url" content="https://plfa.github.io/Subtyping/" />
<meta property="og:site_name" content="Programming Language Foundations in Agda" />
<script type="application/ld+json">
{"description":"Programming Language Foundations in Agda","@type":"WebPage","url":"https://plfa.github.io/Subtyping/","headline":"Subtyping: records","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"></head>
<body><header class="site-header" role="banner">

    <div class="wrapper">

        <a class="site-title" href="/">Programming Language Foundations in Agda
</a>

        <nav class="site-nav">
            <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </span>

            <div class="trigger">
                <a class="page-link" href="/">The Book</a>
                <a class="page-link" href="/Announcements/">Announcements</a>
                <a class="page-link" href="/GettingStarted/">Getting Started</a>
                <a class="page-link" href="/Citing/">Citing</a>
                <a class="page-link" href="https://agda-zh.github.io/PLFA-zh/">中文</a>
            </div>
        </nav>

    </div>

</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
      <h1 class="post-title">Subtyping: records</h1>
  </header>

  <p style="text-align:center;">
    
    <a alt="Previous chapter" href="/More/">Prev</a>
    
    
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/plfa/plfa.github.io/blob/dev/src/plfa/part2/Subtyping.lagda.md">Source</a>
    
    
    &bullet;
    
    
    <a alt="Next chapter" href="/Bisimulation/">Next</a>
    
</p>


  <div class="post-content">
      <pre class="Agda"><a id="134" class="Keyword">module</a> <a id="141" href="/Subtyping/" class="Module">plfa.part2.Subtyping</a> <a id="162" class="Keyword">where</a>
</pre>
<p>This chapter introduces <em>subtyping</em>, a concept that plays an important
role in object-oriented languages. Subtyping enables code to be more
reusable by allowing code work on objects of many different
types. Thus, subtyping provides a kind of polymorphism. In general, a
type <code class="language-plaintext highlighter-rouge">A</code> can be a subtype of another type <code class="language-plaintext highlighter-rouge">B</code>, written <code class="language-plaintext highlighter-rouge">A &lt;: B</code>, when
an object of type <code class="language-plaintext highlighter-rouge">A</code> has all the capabilities expected of something
of type <code class="language-plaintext highlighter-rouge">B</code>. Or put another way, a type <code class="language-plaintext highlighter-rouge">A</code> can be a subtype of type
<code class="language-plaintext highlighter-rouge">B</code> when it is safe to substitute something of type <code class="language-plaintext highlighter-rouge">A</code> into code that
is expected something of type <code class="language-plaintext highlighter-rouge">B</code>.  This is know as the <em>Liskov
Substitution Principle</em>. Given this semantic meaning of subtyping, a
subtype relation should always be reflexive and transitive. Given a
subtype relation <code class="language-plaintext highlighter-rouge">A &lt;: B</code>, we refer to <code class="language-plaintext highlighter-rouge">B</code> as the supertype of <code class="language-plaintext highlighter-rouge">A</code>.</p>

<p>To formulate a type system for a language with subtyping, one simply
adds the <em>subsumption rule</em>, which states that a term of type <code class="language-plaintext highlighter-rouge">A</code>
can also have type <code class="language-plaintext highlighter-rouge">B</code> if <code class="language-plaintext highlighter-rouge">A</code> is a subtype of <code class="language-plaintext highlighter-rouge">B</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>⊢&lt;: : ∀{Γ M A B}
  → Γ ⊢ M ⦂ A  →  A &lt;: B
    --------------------
  → Γ ⊢ M ⦂ B
</code></pre></div></div>

<p>In this chapter we study subtyping in the relatively simple context of
records and record types.  A <em>record</em> is a grouping of named values,
called <em>fields</em>. For example, one could represent a point on the
cartesian plane with the following record.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ x = 4, y = 1 }
</code></pre></div></div>

<p>A <em>record type</em> gives a type for each field. In the following, we
specify that the fields <code class="language-plaintext highlighter-rouge">x</code> and <code class="language-plaintext highlighter-rouge">y</code> both have type ``ℕ`.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ x : `ℕ,  y : `ℕ }
</code></pre></div></div>

<p>One record type is a subtype of another if it has all of the fields of
the supertype and if the types of those fields are subtypes of the
corresponding fields in the supertype. So, for example, a point in
three dimensions is a subtype of a point in two dimensions.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ x : `ℕ,  y : `ℕ, z : `ℕ } &lt;: { x : `ℕ,  y : `ℕ }
</code></pre></div></div>

<p>The elimination for for records is field access (aka. projection),
written <code class="language-plaintext highlighter-rouge">M # l</code>, and whose dynamic semantics is defined by the
following reduction rule, which says that accessing the field <code class="language-plaintext highlighter-rouge">lⱼ</code>
returns the value stored at that field.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{l₁=v₁, ..., lⱼ=vⱼ, ..., lᵢ=vᵢ} # lⱼ —→  vⱼ 
</code></pre></div></div>

<p>In this chapter we add records and record types to the simply typed
lambda calculus (STLC) and prove type safety. The choice between
extrinsic and intrinsic typing is made more interesting by the
presense of subtyping. If we wish to include the subsumption rule,
then we cannot use intrinsicly typed terms, as intrinsic terms only
allow for syntax-directed rules, and subsumption is not syntax
directed.  A standard alternative to the subsumption rule is to
instead use subtyping in the typing rules for the elimination forms,
an approach called algorithmic typing. Here we choose to include the
subsumption rule and use extrinsic typing, but we give an exercise at
the end for the reader to explore algorithmic typing with intrinsic
terms.</p>

<h2 id="imports">Imports</h2>

<pre class="Agda"><a id="3066" class="Keyword">open</a> <a id="3071" class="Keyword">import</a> <a id="3078" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="3089" class="Keyword">using</a> <a id="3095" class="Symbol">(</a><a id="3096" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#279" class="Datatype">⊥</a><a id="3097" class="Symbol">;</a> <a id="3099" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a><a id="3105" class="Symbol">)</a>
<a id="3107" class="Keyword">open</a> <a id="3112" class="Keyword">import</a> <a id="3119" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.Irrelevant.html" class="Module">Data.Empty.Irrelevant</a> <a id="3141" class="Keyword">renaming</a> <a id="3150" class="Symbol">(</a><a id="3151" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.Irrelevant.html#327" class="Function">⊥-elim</a> <a id="3158" class="Symbol">to</a> <a id="3161" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.Irrelevant.html#327" class="Function">⊥-elimi</a><a id="3168" class="Symbol">)</a>
<a id="3170" class="Keyword">open</a> <a id="3175" class="Keyword">import</a> <a id="3182" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.html" class="Module">Data.Fin</a> <a id="3191" class="Keyword">using</a> <a id="3197" class="Symbol">(</a><a id="3198" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1000" class="Datatype">Fin</a><a id="3201" class="Symbol">;</a> <a id="3203" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1022" class="InductiveConstructor">zero</a><a id="3207" class="Symbol">;</a> <a id="3209" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1053" class="InductiveConstructor">suc</a><a id="3212" class="Symbol">)</a>
<a id="3214" class="Keyword">open</a> <a id="3219" class="Keyword">import</a> <a id="3226" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="3235" class="Keyword">using</a> <a id="3241" class="Symbol">(</a><a id="3242" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="3243" class="Symbol">;</a> <a id="3245" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a><a id="3249" class="Symbol">;</a> <a id="3251" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a><a id="3254" class="Symbol">;</a> <a id="3256" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Base.html#895" class="Datatype Operator">_≤_</a><a id="3259" class="Symbol">;</a> <a id="3261" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Base.html#918" class="InductiveConstructor">z≤n</a><a id="3264" class="Symbol">;</a> <a id="3266" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Base.html#960" class="InductiveConstructor">s≤s</a><a id="3269" class="Symbol">;</a> <a id="3271" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Base.html#1005" class="Function Operator">_&lt;_</a><a id="3274" class="Symbol">;</a> <a id="3276" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">_+_</a><a id="3279" class="Symbol">)</a>
<a id="3281" class="Keyword">open</a> <a id="3286" class="Keyword">import</a> <a id="3293" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="3313" class="Keyword">using</a> <a id="3319" class="Symbol">(</a><a id="3320" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Properties.html#15115" class="Function">m+n≤o⇒m≤o</a><a id="3329" class="Symbol">;</a> <a id="3331" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Properties.html#15250" class="Function">m+n≤o⇒n≤o</a><a id="3340" class="Symbol">;</a> <a id="3342" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Properties.html#6284" class="Function">n≤0⇒n≡0</a><a id="3349" class="Symbol">;</a> <a id="3351" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Properties.html#3355" class="Function">≤-pred</a><a id="3357" class="Symbol">;</a> <a id="3359" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Properties.html#3632" class="Function">≤-refl</a><a id="3365" class="Symbol">)</a>
<a id="3367" class="Keyword">open</a> <a id="3372" class="Keyword">import</a> <a id="3379" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html" class="Module">Data.Product</a> <a id="3392" class="Keyword">using</a> <a id="3398" class="Symbol">(</a><a id="3399" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1162" class="Function Operator">_×_</a><a id="3402" class="Symbol">;</a> <a id="3404" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a><a id="3409" class="Symbol">;</a> <a id="3411" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a><a id="3416" class="Symbol">;</a> <a id="3418" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ-syntax</a><a id="3426" class="Symbol">)</a> <a id="3428" class="Keyword">renaming</a> <a id="3437" class="Symbol">(</a><a id="3438" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">_,_</a> <a id="3442" class="Symbol">to</a> <a id="3445" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="3450" class="Symbol">)</a>
<a id="3452" class="Keyword">open</a> <a id="3457" class="Keyword">import</a> <a id="3464" href="https://agda.github.io/agda-stdlib/v1.1/Data.String.html" class="Module">Data.String</a> <a id="3476" class="Keyword">using</a> <a id="3482" class="Symbol">(</a><a id="3483" href="Agda.Builtin.String.html#206" class="Postulate">String</a><a id="3489" class="Symbol">;</a> <a id="3491" href="https://agda.github.io/agda-stdlib/v1.1/Data.String.Properties.html#2569" class="Function Operator">_≟_</a><a id="3494" class="Symbol">)</a>
<a id="3496" class="Keyword">open</a> <a id="3501" class="Keyword">import</a> <a id="3508" href="https://agda.github.io/agda-stdlib/v1.1/Data.Unit.html" class="Module">Data.Unit</a> <a id="3518" class="Keyword">using</a> <a id="3524" class="Symbol">(</a><a id="3525" href="Agda.Builtin.Unit.html#137" class="Record">⊤</a><a id="3526" class="Symbol">;</a> <a id="3528" href="Agda.Builtin.Unit.html#174" class="InductiveConstructor">tt</a><a id="3530" class="Symbol">)</a>
<a id="3532" class="Keyword">open</a> <a id="3537" class="Keyword">import</a> <a id="3544" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.html" class="Module">Data.Vec</a> <a id="3553" class="Keyword">using</a> <a id="3559" class="Symbol">(</a><a id="3560" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a><a id="3563" class="Symbol">;</a> <a id="3565" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#971" class="InductiveConstructor">[]</a><a id="3567" class="Symbol">;</a> <a id="3569" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">_∷_</a><a id="3572" class="Symbol">;</a> <a id="3574" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a><a id="3580" class="Symbol">)</a>
<a id="3582" class="Keyword">open</a> <a id="3587" class="Keyword">import</a> <a id="3594" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Membership.Propositional.html" class="Module">Data.Vec.Membership.Propositional</a> <a id="3628" class="Keyword">using</a> <a id="3634" class="Symbol">(</a><a id="3635" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Membership.Setoid.html#824" class="Function Operator">_∈_</a><a id="3638" class="Symbol">)</a>
<a id="3640" class="Keyword">open</a> <a id="3645" class="Keyword">import</a> <a id="3652" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Membership.DecPropositional.html" class="Module">Data.Vec.Membership.DecPropositional</a> <a id="3689" href="https://agda.github.io/agda-stdlib/v1.1/Data.String.Properties.html#2569" class="Function Operator">_≟_</a> <a id="3693" class="Keyword">using</a> <a id="3699" class="Symbol">(</a>_∈?_<a id="3704" class="Symbol">)</a>
<a id="3706" class="Keyword">open</a> <a id="3711" class="Keyword">import</a> <a id="3718" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Membership.Propositional.Properties.html" class="Module">Data.Vec.Membership.Propositional.Properties</a> <a id="3763" class="Keyword">using</a> <a id="3769" class="Symbol">(</a><a id="3770" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Membership.Propositional.Properties.html#1165" class="Function">∈-lookup</a><a id="3778" class="Symbol">)</a>
<a id="3780" class="Keyword">open</a> <a id="3785" class="Keyword">import</a> <a id="3792" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Relation.Unary.Any.html" class="Module">Data.Vec.Relation.Unary.Any</a> <a id="3820" class="Keyword">using</a> <a id="3826" class="Symbol">(</a><a id="3827" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Relation.Unary.Any.html#991" class="InductiveConstructor">here</a><a id="3831" class="Symbol">;</a> <a id="3833" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Relation.Unary.Any.html#1058" class="InductiveConstructor">there</a><a id="3838" class="Symbol">)</a>
<a id="3840" class="Keyword">import</a> <a id="3847" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="3885" class="Symbol">as</a> <a id="3888" class="Module">Eq</a>
<a id="3891" class="Keyword">open</a> <a id="3896" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="3899" class="Keyword">using</a> <a id="3905" class="Symbol">(</a><a id="3906" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">_≡_</a><a id="3909" class="Symbol">;</a> <a id="3911" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="3915" class="Symbol">;</a> <a id="3917" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#939" class="Function">sym</a><a id="3920" class="Symbol">;</a> <a id="3922" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#984" class="Function">trans</a><a id="3927" class="Symbol">;</a> <a id="3929" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#1090" class="Function">cong</a><a id="3933" class="Symbol">)</a>
<a id="3935" class="Keyword">open</a> <a id="3940" class="Keyword">import</a> <a id="3947" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="3964" class="Keyword">using</a> <a id="3970" class="Symbol">(</a><a id="3971" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#605" class="Datatype">Dec</a><a id="3974" class="Symbol">;</a> <a id="3976" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a><a id="3979" class="Symbol">;</a> <a id="3981" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a><a id="3983" class="Symbol">;</a> <a id="3985" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬_</a><a id="3987" class="Symbol">)</a>
</pre>
<h2 id="syntax">Syntax</h2>

<p>The syntax includes that of the STLC with a few additions regarding
records that we explain in the following sections.</p>

<pre class="Agda"><a id="4129" class="Keyword">infix</a>  <a id="4136" class="Number">4</a> <a id="4138" href="/Subtyping/#15555" class="Datatype Operator">_⊢_⦂_</a>
<a id="4144" class="Keyword">infix</a> <a id="4150" class="Number">4</a> <a id="4152" href="/Subtyping/#15491" class="Datatype Operator">_⊢*_⦂_</a>
<a id="4159" class="Keyword">infix</a>  <a id="4166" class="Number">4</a> <a id="4168" href="/Subtyping/#14785" class="Datatype Operator">_∋_⦂_</a>
<a id="4174" class="Keyword">infixl</a> <a id="4181" class="Number">5</a> <a id="4183" href="/Subtyping/#14702" class="InductiveConstructor Operator">_,_</a>
<a id="4187" class="Keyword">infix</a> <a id="4193" class="Number">5</a> <a id="4195" href="/Subtyping/#18397" class="Function Operator">_[_]</a>

<a id="4201" class="Keyword">infixr</a> <a id="4208" class="Number">7</a> <a id="4210" href="/Subtyping/#8204" class="InductiveConstructor Operator">_⇒_</a>

<a id="4215" class="Keyword">infix</a>  <a id="4222" class="Number">5</a> <a id="4224" href="/Subtyping/#15100" class="InductiveConstructor Operator">ƛ_</a>
<a id="4227" class="Keyword">infix</a>  <a id="4234" class="Number">5</a> <a id="4236" href="/Subtyping/#15314" class="InductiveConstructor Operator">μ_</a>
<a id="4239" class="Keyword">infixl</a> <a id="4246" class="Number">7</a> <a id="4248" href="/Subtyping/#15140" class="InductiveConstructor Operator">_·_</a>
<a id="4252" class="Keyword">infix</a>  <a id="4259" class="Number">8</a> <a id="4261" href="/Subtyping/#15220" class="InductiveConstructor Operator">`suc_</a>
<a id="4267" class="Keyword">infix</a>  <a id="4274" class="Number">9</a> <a id="4276" href="/Subtyping/#15062" class="InductiveConstructor Operator">`_</a>
<a id="4279" class="Keyword">infixl</a> <a id="4286" class="Number">7</a> <a id="4288" href="/Subtyping/#15432" class="InductiveConstructor Operator">_#_</a>

<a id="4293" class="Keyword">infix</a> <a id="4299" class="Number">4</a> <a id="4301" href="/Subtyping/#6884" class="Function Operator">_⊆_</a>
<a id="4305" class="Keyword">infix</a> <a id="4311" class="Number">5</a> <a id="4313" href="/Subtyping/#8248" class="InductiveConstructor Operator">｛_⦂_｝</a>
<a id="4319" class="Keyword">infix</a> <a id="4325" class="Number">5</a> <a id="4327" href="/Subtyping/#15354" class="InductiveConstructor Operator">｛_:=_｝</a>
</pre>
<h2 id="record-fields-and-their-properties">Record Fields and their Properties</h2>

<p>We represent field names as strings.</p>

<pre class="Agda"><a id="Name"></a><a id="4420" href="/Subtyping/#4420" class="Function">Name</a> <a id="4425" class="Symbol">:</a> <a id="4427" class="PrimitiveType">Set</a>
<a id="4431" href="/Subtyping/#4420" class="Function">Name</a> <a id="4436" class="Symbol">=</a> <a id="4438" href="Agda.Builtin.String.html#206" class="Postulate">String</a>
</pre>
<p>A record is traditionally written as follows</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ l₁ = M₁, ..., lᵢ = Mᵢ }
</code></pre></div></div>

<p>so a natural representation is a list of label-term pairs.
However, we find it more convenient to represent records as a pair of
vectors (Agda’s <code class="language-plaintext highlighter-rouge">Vec</code> type), one vector of fields and one vector of terms:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>l₁, ..., lᵢ
M₁, ..., Mᵢ
</code></pre></div></div>

<p>This representation has the advantage that the subscript notation <code class="language-plaintext highlighter-rouge">lᵢ</code>
corresponds to indexing into a vector.</p>

<p>Likewise, a record type, traditionally written as</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ l₁ : A₁, ..., lᵢ : Aᵢ }
</code></pre></div></div>

<p>will be represented as a pair of vectors, one vector of fields and one
vector of types.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>l₁, ..., lᵢ
A₁, ..., Aᵢ
</code></pre></div></div>

<p>The field names of a record type must be distinct, which we define as
follows.</p>
<pre class="Agda"><a id="distinct"></a><a id="5171" href="/Subtyping/#5171" class="Function">distinct</a> <a id="5180" class="Symbol">:</a> <a id="5182" class="Symbol">∀{</a><a id="5184" href="/Subtyping/#5184" class="Bound">A</a> <a id="5186" class="Symbol">:</a> <a id="5188" class="PrimitiveType">Set</a><a id="5191" class="Symbol">}{</a><a id="5193" href="/Subtyping/#5193" class="Bound">n</a><a id="5194" class="Symbol">}</a> <a id="5196" class="Symbol">→</a> <a id="5198" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="5202" href="/Subtyping/#5184" class="Bound">A</a> <a id="5204" href="/Subtyping/#5193" class="Bound">n</a> <a id="5206" class="Symbol">→</a> <a id="5208" class="PrimitiveType">Set</a>
<a id="5212" href="/Subtyping/#5171" class="Function">distinct</a> <a id="5221" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#971" class="InductiveConstructor">[]</a> <a id="5224" class="Symbol">=</a> <a id="5226" href="Agda.Builtin.Unit.html#137" class="Record">⊤</a>
<a id="5228" href="/Subtyping/#5171" class="Function">distinct</a> <a id="5237" class="Symbol">(</a><a id="5238" href="/Subtyping/#5238" class="Bound">x</a> <a id="5240" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="5242" href="/Subtyping/#5242" class="Bound">xs</a><a id="5244" class="Symbol">)</a> <a id="5246" class="Symbol">=</a> <a id="5248" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬</a> <a id="5250" class="Symbol">(</a><a id="5251" href="/Subtyping/#5238" class="Bound">x</a> <a id="5253" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Membership.Setoid.html#824" class="Function Operator">∈</a> <a id="5255" href="/Subtyping/#5242" class="Bound">xs</a><a id="5257" class="Symbol">)</a> <a id="5259" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#1162" class="Function Operator">×</a> <a id="5261" href="/Subtyping/#5171" class="Function">distinct</a> <a id="5270" href="/Subtyping/#5242" class="Bound">xs</a>
</pre>
<p>For vectors of distinct elements, lookup is injective.</p>
<pre class="Agda"><a id="distinct-lookup-inj"></a><a id="5337" href="/Subtyping/#5337" class="Function">distinct-lookup-inj</a> <a id="5357" class="Symbol">:</a> <a id="5359" class="Symbol">∀</a> <a id="5361" class="Symbol">{</a><a id="5362" href="/Subtyping/#5362" class="Bound">n</a><a id="5363" class="Symbol">}{</a><a id="5365" href="/Subtyping/#5365" class="Bound">ls</a> <a id="5368" class="Symbol">:</a> <a id="5370" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="5374" href="/Subtyping/#4420" class="Function">Name</a> <a id="5379" href="/Subtyping/#5362" class="Bound">n</a><a id="5380" class="Symbol">}{</a><a id="5382" href="/Subtyping/#5382" class="Bound">i</a> <a id="5384" href="/Subtyping/#5384" class="Bound">j</a> <a id="5386" class="Symbol">:</a> <a id="5388" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1000" class="Datatype">Fin</a> <a id="5392" href="/Subtyping/#5362" class="Bound">n</a><a id="5393" class="Symbol">}</a>
   <a id="5398" class="Symbol">→</a> <a id="5400" href="/Subtyping/#5171" class="Function">distinct</a> <a id="5409" href="/Subtyping/#5365" class="Bound">ls</a>  <a id="5413" class="Symbol">→</a>  <a id="5416" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="5423" href="/Subtyping/#5365" class="Bound">ls</a> <a id="5426" href="/Subtyping/#5382" class="Bound">i</a> <a id="5428" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="5430" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="5437" href="/Subtyping/#5365" class="Bound">ls</a> <a id="5440" href="/Subtyping/#5384" class="Bound">j</a>
   <a id="5445" class="Symbol">→</a> <a id="5447" href="/Subtyping/#5382" class="Bound">i</a> <a id="5449" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="5451" href="/Subtyping/#5384" class="Bound">j</a>
<a id="5453" href="/Subtyping/#5337" class="Function">distinct-lookup-inj</a> <a id="5473" class="Symbol">{</a><a id="5474" class="Argument">ls</a> <a id="5477" class="Symbol">=</a> <a id="5479" href="/Subtyping/#5479" class="Bound">x</a> <a id="5481" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="5483" href="/Subtyping/#5483" class="Bound">ls</a><a id="5485" class="Symbol">}</a> <a id="5487" class="Symbol">{</a><a id="5488" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1022" class="InductiveConstructor">zero</a><a id="5492" class="Symbol">}</a> <a id="5494" class="Symbol">{</a><a id="5495" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1022" class="InductiveConstructor">zero</a><a id="5499" class="Symbol">}</a> <a id="5501" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="5503" href="/Subtyping/#5503" class="Bound">x∉ls</a> <a id="5508" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5510" href="/Subtyping/#5510" class="Bound">dls</a> <a id="5514" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="5516" href="/Subtyping/#5516" class="Bound">lsij</a> <a id="5521" class="Symbol">=</a> <a id="5523" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
<a id="5528" href="/Subtyping/#5337" class="Function">distinct-lookup-inj</a> <a id="5548" class="Symbol">{</a><a id="5549" class="Argument">ls</a> <a id="5552" class="Symbol">=</a> <a id="5554" href="/Subtyping/#5554" class="Bound">x</a> <a id="5556" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="5558" href="/Subtyping/#5558" class="Bound">ls</a><a id="5560" class="Symbol">}</a> <a id="5562" class="Symbol">{</a><a id="5563" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1022" class="InductiveConstructor">zero</a><a id="5567" class="Symbol">}</a> <a id="5569" class="Symbol">{</a><a id="5570" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1053" class="InductiveConstructor">suc</a> <a id="5574" href="/Subtyping/#5574" class="Bound">j</a><a id="5575" class="Symbol">}</a> <a id="5577" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="5579" href="/Subtyping/#5579" class="Bound">x∉ls</a> <a id="5584" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5586" href="/Subtyping/#5586" class="Bound">dls</a> <a id="5590" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="5592" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="5597" class="Symbol">=</a>
    <a id="5603" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a> <a id="5610" class="Symbol">(</a><a id="5611" href="/Subtyping/#5579" class="Bound">x∉ls</a> <a id="5616" class="Symbol">(</a><a id="5617" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Membership.Propositional.Properties.html#1165" class="Function">∈-lookup</a> <a id="5626" href="/Subtyping/#5574" class="Bound">j</a> <a id="5628" href="/Subtyping/#5558" class="Bound">ls</a><a id="5630" class="Symbol">))</a>
<a id="5633" href="/Subtyping/#5337" class="Function">distinct-lookup-inj</a> <a id="5653" class="Symbol">{</a><a id="5654" class="Argument">ls</a> <a id="5657" class="Symbol">=</a> <a id="5659" href="/Subtyping/#5659" class="Bound">x</a> <a id="5661" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="5663" href="/Subtyping/#5663" class="Bound">ls</a><a id="5665" class="Symbol">}</a> <a id="5667" class="Symbol">{</a><a id="5668" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1053" class="InductiveConstructor">suc</a> <a id="5672" href="/Subtyping/#5672" class="Bound">i</a><a id="5673" class="Symbol">}</a> <a id="5675" class="Symbol">{</a><a id="5676" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1022" class="InductiveConstructor">zero</a><a id="5680" class="Symbol">}</a> <a id="5682" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="5684" href="/Subtyping/#5684" class="Bound">x∉ls</a> <a id="5689" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5691" href="/Subtyping/#5691" class="Bound">dls</a> <a id="5695" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="5697" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="5702" class="Symbol">=</a>
    <a id="5708" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a> <a id="5715" class="Symbol">(</a><a id="5716" href="/Subtyping/#5684" class="Bound">x∉ls</a> <a id="5721" class="Symbol">(</a><a id="5722" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Membership.Propositional.Properties.html#1165" class="Function">∈-lookup</a> <a id="5731" href="/Subtyping/#5672" class="Bound">i</a> <a id="5733" href="/Subtyping/#5663" class="Bound">ls</a><a id="5735" class="Symbol">))</a>
<a id="5738" href="/Subtyping/#5337" class="Function">distinct-lookup-inj</a> <a id="5758" class="Symbol">{</a><a id="5759" class="Argument">ls</a> <a id="5762" class="Symbol">=</a> <a id="5764" href="/Subtyping/#5764" class="Bound">x</a> <a id="5766" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="5768" href="/Subtyping/#5768" class="Bound">ls</a><a id="5770" class="Symbol">}</a> <a id="5772" class="Symbol">{</a><a id="5773" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1053" class="InductiveConstructor">suc</a> <a id="5777" href="/Subtyping/#5777" class="Bound">i</a><a id="5778" class="Symbol">}</a> <a id="5780" class="Symbol">{</a><a id="5781" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1053" class="InductiveConstructor">suc</a> <a id="5785" href="/Subtyping/#5785" class="Bound">j</a><a id="5786" class="Symbol">}</a> <a id="5788" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="5790" href="/Subtyping/#5790" class="Bound">x∉ls</a> <a id="5795" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5797" href="/Subtyping/#5797" class="Bound">dls</a> <a id="5801" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="5803" href="/Subtyping/#5803" class="Bound">lsij</a> <a id="5808" class="Symbol">=</a>
    <a id="5814" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#1090" class="Function">cong</a> <a id="5819" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1053" class="InductiveConstructor">suc</a> <a id="5823" class="Symbol">(</a><a id="5824" href="/Subtyping/#5337" class="Function">distinct-lookup-inj</a> <a id="5844" href="/Subtyping/#5797" class="Bound">dls</a> <a id="5848" href="/Subtyping/#5803" class="Bound">lsij</a><a id="5852" class="Symbol">)</a>
</pre>
<p>We shall need to convert from an irrelevent proof of distinctness to a
relevant one. In general, the laundering of irrelevant proofs into
relevant ones is easy to do when the predicate in question is
decidable. The following is a decision procedure for whether a vector
is distinct.</p>
<pre class="Agda"><a id="distinct?"></a><a id="6146" href="/Subtyping/#6146" class="Function">distinct?</a> <a id="6156" class="Symbol">:</a> <a id="6158" class="Symbol">∀{</a><a id="6160" href="/Subtyping/#6160" class="Bound">n</a><a id="6161" class="Symbol">}</a> <a id="6163" class="Symbol">→</a> <a id="6165" class="Symbol">(</a><a id="6166" href="/Subtyping/#6166" class="Bound">xs</a> <a id="6169" class="Symbol">:</a> <a id="6171" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="6175" href="/Subtyping/#4420" class="Function">Name</a> <a id="6180" href="/Subtyping/#6160" class="Bound">n</a><a id="6181" class="Symbol">)</a> <a id="6183" class="Symbol">→</a> <a id="6185" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#605" class="Datatype">Dec</a> <a id="6189" class="Symbol">(</a><a id="6190" href="/Subtyping/#5171" class="Function">distinct</a> <a id="6199" href="/Subtyping/#6166" class="Bound">xs</a><a id="6201" class="Symbol">)</a>
<a id="6203" href="/Subtyping/#6146" class="Function">distinct?</a> <a id="6213" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#971" class="InductiveConstructor">[]</a> <a id="6216" class="Symbol">=</a> <a id="6218" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="6222" href="Agda.Builtin.Unit.html#174" class="InductiveConstructor">tt</a>
<a id="6225" href="/Subtyping/#6146" class="Function">distinct?</a> <a id="6235" class="Symbol">(</a><a id="6236" href="/Subtyping/#6236" class="Bound">x</a> <a id="6238" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="6240" href="/Subtyping/#6240" class="Bound">xs</a><a id="6242" class="Symbol">)</a>
    <a id="6248" class="Keyword">with</a> <a id="6253" href="/Subtyping/#6236" class="Bound">x</a> <a id="6255" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Membership.DecSetoid.html#834" class="Function Operator">∈?</a> <a id="6258" href="/Subtyping/#6240" class="Bound">xs</a>
<a id="6261" class="Symbol">...</a> <a id="6265" class="Symbol">|</a> <a id="6267" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="6271" href="/Subtyping/#6271" class="Bound">x∈xs</a> <a id="6276" class="Symbol">=</a> <a id="6278" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="6281" class="Symbol">λ</a> <a id="6283" href="/Subtyping/#6283" class="Bound">z</a> <a id="6285" class="Symbol">→</a> <a id="6287" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="6293" href="/Subtyping/#6283" class="Bound">z</a> <a id="6295" href="/Subtyping/#6271" class="Bound">x∈xs</a>
<a id="6300" class="Symbol">...</a> <a id="6304" class="Symbol">|</a> <a id="6306" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="6309" href="/Subtyping/#6309" class="Bound">x∉xs</a>
    <a id="6319" class="Keyword">with</a> <a id="6324" href="/Subtyping/#6146" class="Function">distinct?</a> <a id="6334" class="Bound">xs</a>
<a id="6337" class="Symbol">...</a> <a id="6341" class="Symbol">|</a> <a id="6343" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="6347" href="/Subtyping/#6347" class="Bound">dxs</a> <a id="6351" class="Symbol">=</a> <a id="6353" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="6357" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="6359" class="Bound">x∉xs</a> <a id="6365" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6367" href="/Subtyping/#6347" class="Bound">dxs</a> <a id="6371" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="6373" class="Symbol">...</a> <a id="6377" class="Symbol">|</a> <a id="6379" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="6382" href="/Subtyping/#6382" class="Bound">¬dxs</a> <a id="6387" class="Symbol">=</a> <a id="6389" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="6392" class="Symbol">λ</a> <a id="6394" href="/Subtyping/#6394" class="Bound">x₁</a> <a id="6397" class="Symbol">→</a> <a id="6399" href="/Subtyping/#6382" class="Bound">¬dxs</a> <a id="6404" class="Symbol">(</a><a id="6405" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="6411" href="/Subtyping/#6394" class="Bound">x₁</a><a id="6413" class="Symbol">)</a>
</pre>
<p>With this decision procedure in hand, the define the following
function for laundering irrelevant proofs of distinctness into
relevant ones.</p>
<pre class="Agda"><a id="distinct-relevant"></a><a id="6565" href="/Subtyping/#6565" class="Function">distinct-relevant</a> <a id="6583" class="Symbol">:</a> <a id="6585" class="Symbol">∀</a> <a id="6587" class="Symbol">{</a><a id="6588" href="/Subtyping/#6588" class="Bound">n</a><a id="6589" class="Symbol">}{</a><a id="6591" href="/Subtyping/#6591" class="Bound">fs</a> <a id="6594" class="Symbol">:</a> <a id="6596" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="6600" href="/Subtyping/#4420" class="Function">Name</a> <a id="6605" href="/Subtyping/#6588" class="Bound">n</a><a id="6606" class="Symbol">}</a> <a id="6608" class="Symbol">.(</a><a id="6610" href="/Subtyping/#6610" class="Bound">d</a> <a id="6612" class="Symbol">:</a> <a id="6614" href="/Subtyping/#5171" class="Function">distinct</a> <a id="6623" href="/Subtyping/#6591" class="Bound">fs</a><a id="6625" class="Symbol">)</a> <a id="6627" class="Symbol">→</a> <a id="6629" href="/Subtyping/#5171" class="Function">distinct</a> <a id="6638" href="/Subtyping/#6591" class="Bound">fs</a>
<a id="6641" href="/Subtyping/#6565" class="Function">distinct-relevant</a> <a id="6659" class="Symbol">{</a><a id="6660" href="/Subtyping/#6660" class="Bound">n</a><a id="6661" class="Symbol">}{</a><a id="6663" href="/Subtyping/#6663" class="Bound">fs</a><a id="6665" class="Symbol">}</a> <a id="6667" href="/Subtyping/#6667" class="Bound">d</a>
    <a id="6673" class="Keyword">with</a> <a id="6678" href="/Subtyping/#6146" class="Function">distinct?</a> <a id="6688" href="/Subtyping/#6663" class="Bound">fs</a>
<a id="6691" class="Symbol">...</a> <a id="6695" class="Symbol">|</a> <a id="6697" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#641" class="InductiveConstructor">yes</a> <a id="6701" href="/Subtyping/#6701" class="Bound">dfs</a> <a id="6705" class="Symbol">=</a> <a id="6707" href="/Subtyping/#6701" class="Bound">dfs</a>
<a id="6711" class="Symbol">...</a> <a id="6715" class="Symbol">|</a> <a id="6717" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="6720" href="/Subtyping/#6720" class="Bound">¬dfs</a> <a id="6725" class="Symbol">=</a> <a id="6727" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.Irrelevant.html#327" class="Function">⊥-elimi</a> <a id="6735" class="Symbol">(</a><a id="6736" href="/Subtyping/#6720" class="Bound">¬dfs</a> <a id="6741" class="Bound">d</a><a id="6742" class="Symbol">)</a>
</pre>
<p>The fields of one record are a <em>subset</em> of the fields of another
record if every field of the first is also a field of the second.</p>
<pre class="Agda"><a id="_⊆_"></a><a id="6884" href="/Subtyping/#6884" class="Function Operator">_⊆_</a> <a id="6888" class="Symbol">:</a> <a id="6890" class="Symbol">∀{</a><a id="6892" href="/Subtyping/#6892" class="Bound">n</a> <a id="6894" href="/Subtyping/#6894" class="Bound">m</a><a id="6895" class="Symbol">}</a> <a id="6897" class="Symbol">→</a> <a id="6899" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="6903" href="/Subtyping/#4420" class="Function">Name</a> <a id="6908" href="/Subtyping/#6892" class="Bound">n</a> <a id="6910" class="Symbol">→</a> <a id="6912" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="6916" href="/Subtyping/#4420" class="Function">Name</a> <a id="6921" href="/Subtyping/#6894" class="Bound">m</a> <a id="6923" class="Symbol">→</a> <a id="6925" class="PrimitiveType">Set</a>
<a id="6929" href="/Subtyping/#6929" class="Bound">xs</a> <a id="6932" href="/Subtyping/#6884" class="Function Operator">⊆</a> <a id="6934" href="/Subtyping/#6934" class="Bound">ys</a> <a id="6937" class="Symbol">=</a> <a id="6939" class="Symbol">(</a><a id="6940" href="/Subtyping/#6940" class="Bound">x</a> <a id="6942" class="Symbol">:</a> <a id="6944" href="/Subtyping/#4420" class="Function">Name</a><a id="6948" class="Symbol">)</a> <a id="6950" class="Symbol">→</a> <a id="6952" href="/Subtyping/#6940" class="Bound">x</a> <a id="6954" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Membership.Setoid.html#824" class="Function Operator">∈</a> <a id="6956" href="/Subtyping/#6929" class="Bound">xs</a> <a id="6959" class="Symbol">→</a> <a id="6961" href="/Subtyping/#6940" class="Bound">x</a> <a id="6963" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Membership.Setoid.html#824" class="Function Operator">∈</a> <a id="6965" href="/Subtyping/#6934" class="Bound">ys</a>
</pre>
<p>This subset relation is reflexive and transitive.</p>
<pre class="Agda"><a id="⊆-refl"></a><a id="7027" href="/Subtyping/#7027" class="Function">⊆-refl</a> <a id="7034" class="Symbol">:</a> <a id="7036" class="Symbol">∀{</a><a id="7038" href="/Subtyping/#7038" class="Bound">n</a><a id="7039" class="Symbol">}{</a><a id="7041" href="/Subtyping/#7041" class="Bound">ls</a> <a id="7044" class="Symbol">:</a> <a id="7046" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="7050" href="/Subtyping/#4420" class="Function">Name</a> <a id="7055" href="/Subtyping/#7038" class="Bound">n</a><a id="7056" class="Symbol">}</a> <a id="7058" class="Symbol">→</a> <a id="7060" href="/Subtyping/#7041" class="Bound">ls</a> <a id="7063" href="/Subtyping/#6884" class="Function Operator">⊆</a> <a id="7065" href="/Subtyping/#7041" class="Bound">ls</a>
<a id="7068" href="/Subtyping/#7027" class="Function">⊆-refl</a> <a id="7075" class="Symbol">{</a><a id="7076" href="/Subtyping/#7076" class="Bound">n</a><a id="7077" class="Symbol">}{</a><a id="7079" href="/Subtyping/#7079" class="Bound">ls</a><a id="7081" class="Symbol">}</a> <a id="7083" class="Symbol">=</a> <a id="7085" class="Symbol">λ</a> <a id="7087" href="/Subtyping/#7087" class="Bound">x</a> <a id="7089" href="/Subtyping/#7089" class="Bound">x∈ls</a> <a id="7094" class="Symbol">→</a> <a id="7096" href="/Subtyping/#7089" class="Bound">x∈ls</a>

<a id="⊆-trans"></a><a id="7102" href="/Subtyping/#7102" class="Function">⊆-trans</a> <a id="7110" class="Symbol">:</a> <a id="7112" class="Symbol">∀{</a><a id="7114" href="/Subtyping/#7114" class="Bound">l</a> <a id="7116" href="/Subtyping/#7116" class="Bound">n</a> <a id="7118" href="/Subtyping/#7118" class="Bound">m</a><a id="7119" class="Symbol">}{</a><a id="7121" href="/Subtyping/#7121" class="Bound">ns</a>  <a id="7125" class="Symbol">:</a> <a id="7127" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="7131" href="/Subtyping/#4420" class="Function">Name</a> <a id="7136" href="/Subtyping/#7116" class="Bound">n</a><a id="7137" class="Symbol">}{</a><a id="7139" href="/Subtyping/#7139" class="Bound">ms</a>  <a id="7143" class="Symbol">:</a> <a id="7145" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="7149" href="/Subtyping/#4420" class="Function">Name</a> <a id="7154" href="/Subtyping/#7118" class="Bound">m</a><a id="7155" class="Symbol">}{</a><a id="7157" href="/Subtyping/#7157" class="Bound">ls</a>  <a id="7161" class="Symbol">:</a> <a id="7163" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="7167" href="/Subtyping/#4420" class="Function">Name</a> <a id="7172" href="/Subtyping/#7114" class="Bound">l</a><a id="7173" class="Symbol">}</a>
   <a id="7178" class="Symbol">→</a> <a id="7180" href="/Subtyping/#7121" class="Bound">ns</a> <a id="7183" href="/Subtyping/#6884" class="Function Operator">⊆</a> <a id="7185" href="/Subtyping/#7139" class="Bound">ms</a>  <a id="7189" class="Symbol">→</a>  <a id="7192" href="/Subtyping/#7139" class="Bound">ms</a> <a id="7195" href="/Subtyping/#6884" class="Function Operator">⊆</a> <a id="7197" href="/Subtyping/#7157" class="Bound">ls</a>  <a id="7201" class="Symbol">→</a>  <a id="7204" href="/Subtyping/#7121" class="Bound">ns</a> <a id="7207" href="/Subtyping/#6884" class="Function Operator">⊆</a> <a id="7209" href="/Subtyping/#7157" class="Bound">ls</a>
<a id="7212" href="/Subtyping/#7102" class="Function">⊆-trans</a> <a id="7220" class="Symbol">{</a><a id="7221" href="/Subtyping/#7221" class="Bound">l</a><a id="7222" class="Symbol">}{</a><a id="7224" href="/Subtyping/#7224" class="Bound">n</a><a id="7225" class="Symbol">}{</a><a id="7227" href="/Subtyping/#7227" class="Bound">m</a><a id="7228" class="Symbol">}{</a><a id="7230" href="/Subtyping/#7230" class="Bound">ns</a><a id="7232" class="Symbol">}{</a><a id="7234" href="/Subtyping/#7234" class="Bound">ms</a><a id="7236" class="Symbol">}{</a><a id="7238" href="/Subtyping/#7238" class="Bound">ls</a><a id="7240" class="Symbol">}</a> <a id="7242" href="/Subtyping/#7242" class="Bound">ns⊆ms</a> <a id="7248" href="/Subtyping/#7248" class="Bound">ms⊆ls</a> <a id="7254" class="Symbol">=</a> <a id="7256" class="Symbol">λ</a> <a id="7258" href="/Subtyping/#7258" class="Bound">x</a> <a id="7260" href="/Subtyping/#7260" class="Bound">z</a> <a id="7262" class="Symbol">→</a> <a id="7264" href="/Subtyping/#7248" class="Bound">ms⊆ls</a> <a id="7270" href="/Subtyping/#7258" class="Bound">x</a> <a id="7272" class="Symbol">(</a><a id="7273" href="/Subtyping/#7242" class="Bound">ns⊆ms</a> <a id="7279" href="/Subtyping/#7258" class="Bound">x</a> <a id="7281" href="/Subtyping/#7260" class="Bound">z</a><a id="7282" class="Symbol">)</a>
</pre>
<p>If <code class="language-plaintext highlighter-rouge">y</code> is an element of vector <code class="language-plaintext highlighter-rouge">xs</code>, then <code class="language-plaintext highlighter-rouge">y</code> is at some index <code class="language-plaintext highlighter-rouge">i</code> of
the vector.</p>
<pre class="Agda"><a id="lookup-∈"></a><a id="7375" href="/Subtyping/#7375" class="Function">lookup-∈</a> <a id="7384" class="Symbol">:</a> <a id="7386" class="Symbol">∀{</a><a id="7388" href="/Subtyping/#7388" class="Bound">ℓ</a><a id="7389" class="Symbol">}{</a><a id="7391" href="/Subtyping/#7391" class="Bound">A</a> <a id="7393" class="Symbol">:</a> <a id="7395" class="PrimitiveType">Set</a> <a id="7399" href="/Subtyping/#7388" class="Bound">ℓ</a><a id="7400" class="Symbol">}{</a><a id="7402" href="/Subtyping/#7402" class="Bound">n</a><a id="7403" class="Symbol">}</a> <a id="7405" class="Symbol">{</a><a id="7406" href="/Subtyping/#7406" class="Bound">xs</a> <a id="7409" class="Symbol">:</a> <a id="7411" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="7415" href="/Subtyping/#7391" class="Bound">A</a> <a id="7417" href="/Subtyping/#7402" class="Bound">n</a><a id="7418" class="Symbol">}{</a><a id="7420" href="/Subtyping/#7420" class="Bound">y</a><a id="7421" class="Symbol">}</a>
   <a id="7426" class="Symbol">→</a> <a id="7428" href="/Subtyping/#7420" class="Bound">y</a> <a id="7430" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Membership.Setoid.html#824" class="Function Operator">∈</a> <a id="7432" href="/Subtyping/#7406" class="Bound">xs</a>
   <a id="7438" class="Symbol">→</a> <a id="7440" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="7443" href="/Subtyping/#7443" class="Bound">i</a> <a id="7445" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="7447" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1000" class="Datatype">Fin</a> <a id="7451" href="/Subtyping/#7402" class="Bound">n</a> <a id="7453" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="7455" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="7462" href="/Subtyping/#7406" class="Bound">xs</a> <a id="7465" href="/Subtyping/#7443" class="Bound">i</a> <a id="7467" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="7469" href="/Subtyping/#7420" class="Bound">y</a>
<a id="7471" href="/Subtyping/#7375" class="Function">lookup-∈</a> <a id="7480" class="Symbol">{</a><a id="7481" class="Argument">xs</a> <a id="7484" class="Symbol">=</a> <a id="7486" href="/Subtyping/#7486" class="Bound">x</a> <a id="7488" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="7490" href="/Subtyping/#7490" class="Bound">xs</a><a id="7492" class="Symbol">}</a> <a id="7494" class="Symbol">(</a><a id="7495" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Relation.Unary.Any.html#991" class="InductiveConstructor">here</a> <a id="7500" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="7504" class="Symbol">)</a> <a id="7506" class="Symbol">=</a> <a id="7508" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="7510" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1022" class="InductiveConstructor">zero</a> <a id="7515" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7517" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="7522" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="7524" href="/Subtyping/#7375" class="Function">lookup-∈</a> <a id="7533" class="Symbol">{</a><a id="7534" class="Argument">xs</a> <a id="7537" class="Symbol">=</a> <a id="7539" href="/Subtyping/#7539" class="Bound">x</a> <a id="7541" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="7543" href="/Subtyping/#7543" class="Bound">xs</a><a id="7545" class="Symbol">}</a> <a id="7547" class="Symbol">(</a><a id="7548" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Relation.Unary.Any.html#1058" class="InductiveConstructor">there</a> <a id="7554" href="/Subtyping/#7554" class="Bound">y∈xs</a><a id="7558" class="Symbol">)</a>
    <a id="7564" class="Keyword">with</a> <a id="7569" href="/Subtyping/#7375" class="Function">lookup-∈</a> <a id="7578" href="/Subtyping/#7554" class="Bound">y∈xs</a>
<a id="7583" class="Symbol">...</a> <a id="7587" class="Symbol">|</a> <a id="7589" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="7591" href="/Subtyping/#7591" class="Bound">i</a> <a id="7593" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7595" href="/Subtyping/#7595" class="Bound">xs[i]=y</a> <a id="7603" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="7605" class="Symbol">=</a> <a id="7607" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="7609" class="Symbol">(</a><a id="7610" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1053" class="InductiveConstructor">suc</a> <a id="7614" href="/Subtyping/#7591" class="Bound">i</a><a id="7615" class="Symbol">)</a> <a id="7617" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7619" href="/Subtyping/#7595" class="Bound">xs[i]=y</a> <a id="7627" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
</pre>
<p>If one vector <code class="language-plaintext highlighter-rouge">ns</code> is a subset of another <code class="language-plaintext highlighter-rouge">ms</code>, then for any element
<code class="language-plaintext highlighter-rouge">lookup ns i</code>, there is an equal element in <code class="language-plaintext highlighter-rouge">ms</code> at some index.</p>
<pre class="Agda"><a id="lookup-⊆"></a><a id="7771" href="/Subtyping/#7771" class="Function">lookup-⊆</a> <a id="7780" class="Symbol">:</a> <a id="7782" class="Symbol">∀{</a><a id="7784" href="/Subtyping/#7784" class="Bound">n</a> <a id="7786" href="/Subtyping/#7786" class="Bound">m</a> <a id="7788" class="Symbol">:</a> <a id="7790" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="7791" class="Symbol">}{</a><a id="7793" href="/Subtyping/#7793" class="Bound">ns</a> <a id="7796" class="Symbol">:</a> <a id="7798" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="7802" href="/Subtyping/#4420" class="Function">Name</a> <a id="7807" href="/Subtyping/#7784" class="Bound">n</a><a id="7808" class="Symbol">}{</a><a id="7810" href="/Subtyping/#7810" class="Bound">ms</a> <a id="7813" class="Symbol">:</a> <a id="7815" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="7819" href="/Subtyping/#4420" class="Function">Name</a> <a id="7824" href="/Subtyping/#7786" class="Bound">m</a><a id="7825" class="Symbol">}{</a><a id="7827" href="/Subtyping/#7827" class="Bound">i</a> <a id="7829" class="Symbol">:</a> <a id="7831" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1000" class="Datatype">Fin</a> <a id="7835" href="/Subtyping/#7784" class="Bound">n</a><a id="7836" class="Symbol">}</a>
   <a id="7841" class="Symbol">→</a> <a id="7843" href="/Subtyping/#7793" class="Bound">ns</a> <a id="7846" href="/Subtyping/#6884" class="Function Operator">⊆</a> <a id="7848" href="/Subtyping/#7810" class="Bound">ms</a>
   <a id="7854" class="Symbol">→</a> <a id="7856" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">Σ[</a> <a id="7859" href="/Subtyping/#7859" class="Bound">k</a> <a id="7861" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">∈</a> <a id="7863" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1000" class="Datatype">Fin</a> <a id="7867" href="/Subtyping/#7786" class="Bound">m</a> <a id="7869" href="https://agda.github.io/agda-stdlib/v1.1/Data.Product.html#911" class="Function">]</a> <a id="7871" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="7878" href="/Subtyping/#7793" class="Bound">ns</a> <a id="7881" href="/Subtyping/#7827" class="Bound">i</a> <a id="7883" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="7885" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="7892" href="/Subtyping/#7810" class="Bound">ms</a> <a id="7895" href="/Subtyping/#7859" class="Bound">k</a>
<a id="7897" href="/Subtyping/#7771" class="Function">lookup-⊆</a> <a id="7906" class="Symbol">{</a><a id="7907" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="7911" href="/Subtyping/#7911" class="Bound">n</a><a id="7912" class="Symbol">}</a> <a id="7914" class="Symbol">{</a><a id="7915" href="/Subtyping/#7915" class="Bound">m</a><a id="7916" class="Symbol">}</a> <a id="7918" class="Symbol">{</a><a id="7919" href="/Subtyping/#7919" class="Bound">x</a> <a id="7921" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="7923" href="/Subtyping/#7923" class="Bound">ns</a><a id="7925" class="Symbol">}</a> <a id="7927" class="Symbol">{</a><a id="7928" href="/Subtyping/#7928" class="Bound">ms</a><a id="7930" class="Symbol">}</a> <a id="7932" class="Symbol">{</a><a id="7933" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1022" class="InductiveConstructor">zero</a><a id="7937" class="Symbol">}</a> <a id="7939" href="/Subtyping/#7939" class="Bound">ns⊆ms</a> 
    <a id="7950" class="Keyword">with</a> <a id="7955" href="/Subtyping/#7375" class="Function">lookup-∈</a> <a id="7964" class="Symbol">(</a><a id="7965" href="/Subtyping/#7939" class="Bound">ns⊆ms</a> <a id="7971" href="/Subtyping/#7919" class="Bound">x</a> <a id="7973" class="Symbol">(</a><a id="7974" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Relation.Unary.Any.html#991" class="InductiveConstructor">here</a> <a id="7979" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="7983" class="Symbol">))</a>
<a id="7986" class="Symbol">...</a> <a id="7990" class="Symbol">|</a> <a id="7992" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="7994" href="/Subtyping/#7994" class="Bound">k</a> <a id="7996" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7998" href="/Subtyping/#7998" class="Bound">ms[k]=x</a> <a id="8006" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="8008" class="Symbol">=</a>     
      <a id="8021" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="8023" href="/Subtyping/#7994" class="Bound">k</a> <a id="8025" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="8027" class="Symbol">(</a><a id="8028" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#939" class="Function">sym</a> <a id="8032" href="/Subtyping/#7998" class="Bound">ms[k]=x</a><a id="8039" class="Symbol">)</a> <a id="8041" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
<a id="8043" href="/Subtyping/#7771" class="Function">lookup-⊆</a> <a id="8052" class="Symbol">{</a><a id="8053" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="8057" href="/Subtyping/#8057" class="Bound">n</a><a id="8058" class="Symbol">}</a> <a id="8060" class="Symbol">{</a><a id="8061" href="/Subtyping/#8061" class="Bound">m</a><a id="8062" class="Symbol">}</a> <a id="8064" class="Symbol">{</a><a id="8065" href="/Subtyping/#8065" class="Bound">x</a> <a id="8067" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="8069" href="/Subtyping/#8069" class="Bound">ns</a><a id="8071" class="Symbol">}</a> <a id="8073" class="Symbol">{</a><a id="8074" href="/Subtyping/#8074" class="Bound">ms</a><a id="8076" class="Symbol">}</a> <a id="8078" class="Symbol">{</a><a id="8079" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1053" class="InductiveConstructor">suc</a> <a id="8083" href="/Subtyping/#8083" class="Bound">i</a><a id="8084" class="Symbol">}</a> <a id="8086" href="/Subtyping/#8086" class="Bound">x∷ns⊆ms</a> <a id="8094" class="Symbol">=</a>
    <a id="8100" href="/Subtyping/#7771" class="Function">lookup-⊆</a> <a id="8109" class="Symbol">{</a><a id="8110" href="/Subtyping/#8057" class="Bound">n</a><a id="8111" class="Symbol">}</a> <a id="8113" class="Symbol">{</a><a id="8114" href="/Subtyping/#8061" class="Bound">m</a><a id="8115" class="Symbol">}</a> <a id="8117" class="Symbol">{</a><a id="8118" href="/Subtyping/#8069" class="Bound">ns</a><a id="8120" class="Symbol">}</a> <a id="8122" class="Symbol">{</a><a id="8123" href="/Subtyping/#8074" class="Bound">ms</a><a id="8125" class="Symbol">}</a> <a id="8127" class="Symbol">{</a><a id="8128" href="/Subtyping/#8083" class="Bound">i</a><a id="8129" class="Symbol">}</a> <a id="8131" class="Symbol">(λ</a> <a id="8134" href="/Subtyping/#8134" class="Bound">x</a> <a id="8136" href="/Subtyping/#8136" class="Bound">z</a> <a id="8138" class="Symbol">→</a> <a id="8140" href="/Subtyping/#8086" class="Bound">x∷ns⊆ms</a> <a id="8148" href="/Subtyping/#8134" class="Bound">x</a> <a id="8150" class="Symbol">(</a><a id="8151" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Relation.Unary.Any.html#1058" class="InductiveConstructor">there</a> <a id="8157" href="/Subtyping/#8136" class="Bound">z</a><a id="8158" class="Symbol">))</a>
</pre>
<h2 id="types">Types</h2>

<pre class="Agda"><a id="8180" class="Keyword">data</a> <a id="Type"></a><a id="8185" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="8190" class="Symbol">:</a> <a id="8192" class="PrimitiveType">Set</a> <a id="8196" class="Keyword">where</a>
  <a id="Type._⇒_"></a><a id="8204" href="/Subtyping/#8204" class="InductiveConstructor Operator">_⇒_</a>   <a id="8210" class="Symbol">:</a> <a id="8212" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="8217" class="Symbol">→</a> <a id="8219" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="8224" class="Symbol">→</a> <a id="8226" href="/Subtyping/#8185" class="Datatype">Type</a>
  <a id="Type.`ℕ"></a><a id="8233" href="/Subtyping/#8233" class="InductiveConstructor">`ℕ</a>    <a id="8239" class="Symbol">:</a> <a id="8241" href="/Subtyping/#8185" class="Datatype">Type</a>
  <a id="Type.｛_⦂_｝"></a><a id="8248" href="/Subtyping/#8248" class="InductiveConstructor Operator">｛_⦂_｝</a> <a id="8254" class="Symbol">:</a> <a id="8256" class="Symbol">{</a><a id="8257" href="/Subtyping/#8257" class="Bound">n</a> <a id="8259" class="Symbol">:</a> <a id="8261" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="8262" class="Symbol">}</a> <a id="8264" class="Symbol">(</a><a id="8265" href="/Subtyping/#8265" class="Bound">ls</a> <a id="8268" class="Symbol">:</a> <a id="8270" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="8274" href="/Subtyping/#4420" class="Function">Name</a> <a id="8279" href="/Subtyping/#8257" class="Bound">n</a><a id="8280" class="Symbol">)</a> <a id="8282" class="Symbol">(</a><a id="8283" href="/Subtyping/#8283" class="Bound">As</a> <a id="8286" class="Symbol">:</a> <a id="8288" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="8292" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="8297" href="/Subtyping/#8257" class="Bound">n</a><a id="8298" class="Symbol">)</a> <a id="8300" class="Symbol">→</a> <a id="8302" class="Symbol">.{</a><a id="8304" href="/Subtyping/#8304" class="Bound">d</a> <a id="8306" class="Symbol">:</a> <a id="8308" href="/Subtyping/#5171" class="Function">distinct</a> <a id="8317" href="/Subtyping/#8265" class="Bound">ls</a><a id="8319" class="Symbol">}</a> <a id="8321" class="Symbol">→</a> <a id="8323" href="/Subtyping/#8185" class="Datatype">Type</a> 
</pre>
<p>In addition to function types <code class="language-plaintext highlighter-rouge">A ⇒ B</code> and natural numbers ``ℕ<code class="language-plaintext highlighter-rouge">, we
have the record type </code>｛ ls ⦂ As ｝<code class="language-plaintext highlighter-rouge">, where </code>ls<code class="language-plaintext highlighter-rouge"> is a vector of field
names and </code>As<code class="language-plaintext highlighter-rouge"> is a vector of types, as discussed above.  We require
that the field names be distinct, but we do not want the details of
the proof of distinctness to affect whether two record types are
equal, so we declare that parameter to be irrelevant by placing a </code>.`
in front of it.</p>

<h2 id="subtyping">Subtyping</h2>

<pre class="Agda"><a id="8777" class="Keyword">infix</a> <a id="8783" class="Number">5</a> <a id="8785" href="/Subtyping/#8796" class="Datatype Operator">_&lt;:_</a>

<a id="8791" class="Keyword">data</a> <a id="_&lt;:_"></a><a id="8796" href="/Subtyping/#8796" class="Datatype Operator">_&lt;:_</a> <a id="8801" class="Symbol">:</a> <a id="8803" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="8808" class="Symbol">→</a> <a id="8810" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="8815" class="Symbol">→</a> <a id="8817" class="PrimitiveType">Set</a> <a id="8821" class="Keyword">where</a>
  <a id="_&lt;:_.&lt;:-nat"></a><a id="8829" href="/Subtyping/#8829" class="InductiveConstructor">&lt;:-nat</a> <a id="8836" class="Symbol">:</a> <a id="8838" href="/Subtyping/#8233" class="InductiveConstructor">`ℕ</a> <a id="8841" href="/Subtyping/#8796" class="Datatype Operator">&lt;:</a> <a id="8844" href="/Subtyping/#8233" class="InductiveConstructor">`ℕ</a>

  <a id="_&lt;:_.&lt;:-fun"></a><a id="8850" href="/Subtyping/#8850" class="InductiveConstructor">&lt;:-fun</a> <a id="8857" class="Symbol">:</a> <a id="8859" class="Symbol">∀{</a><a id="8861" href="/Subtyping/#8861" class="Bound">A</a> <a id="8863" href="/Subtyping/#8863" class="Bound">B</a> <a id="8865" href="/Subtyping/#8865" class="Bound">C</a> <a id="8867" href="/Subtyping/#8867" class="Bound">D</a> <a id="8869" class="Symbol">:</a> <a id="8871" href="/Subtyping/#8185" class="Datatype">Type</a><a id="8875" class="Symbol">}</a>
    <a id="8881" class="Symbol">→</a> <a id="8883" href="/Subtyping/#8865" class="Bound">C</a> <a id="8885" href="/Subtyping/#8796" class="Datatype Operator">&lt;:</a> <a id="8888" href="/Subtyping/#8861" class="Bound">A</a>  <a id="8891" class="Symbol">→</a> <a id="8893" href="/Subtyping/#8863" class="Bound">B</a> <a id="8895" href="/Subtyping/#8796" class="Datatype Operator">&lt;:</a> <a id="8898" href="/Subtyping/#8867" class="Bound">D</a>
      <a id="8906" class="Comment">----------------</a>
    <a id="8927" class="Symbol">→</a> <a id="8929" href="/Subtyping/#8861" class="Bound">A</a> <a id="8931" href="/Subtyping/#8204" class="InductiveConstructor Operator">⇒</a> <a id="8933" href="/Subtyping/#8863" class="Bound">B</a> <a id="8935" href="/Subtyping/#8796" class="Datatype Operator">&lt;:</a> <a id="8938" href="/Subtyping/#8865" class="Bound">C</a> <a id="8940" href="/Subtyping/#8204" class="InductiveConstructor Operator">⇒</a> <a id="8942" href="/Subtyping/#8867" class="Bound">D</a>

  <a id="_&lt;:_.&lt;:-rcd"></a><a id="8947" href="/Subtyping/#8947" class="InductiveConstructor">&lt;:-rcd</a> <a id="8954" class="Symbol">:</a>  <a id="8957" class="Symbol">∀{</a><a id="8959" href="/Subtyping/#8959" class="Bound">m</a><a id="8960" class="Symbol">}{</a><a id="8962" href="/Subtyping/#8962" class="Bound">ks</a> <a id="8965" class="Symbol">:</a> <a id="8967" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="8971" href="/Subtyping/#4420" class="Function">Name</a> <a id="8976" href="/Subtyping/#8959" class="Bound">m</a><a id="8977" class="Symbol">}{</a><a id="8979" href="/Subtyping/#8979" class="Bound">Ss</a> <a id="8982" class="Symbol">:</a> <a id="8984" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="8988" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="8993" href="/Subtyping/#8959" class="Bound">m</a><a id="8994" class="Symbol">}.{</a><a id="8997" href="/Subtyping/#8997" class="Bound">d1</a> <a id="9000" class="Symbol">:</a> <a id="9002" href="/Subtyping/#5171" class="Function">distinct</a> <a id="9011" href="/Subtyping/#8962" class="Bound">ks</a><a id="9013" class="Symbol">}</a>
             <a id="9028" class="Symbol">{</a><a id="9029" href="/Subtyping/#9029" class="Bound">n</a><a id="9030" class="Symbol">}{</a><a id="9032" href="/Subtyping/#9032" class="Bound">ls</a> <a id="9035" class="Symbol">:</a> <a id="9037" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="9041" href="/Subtyping/#4420" class="Function">Name</a> <a id="9046" href="/Subtyping/#9029" class="Bound">n</a><a id="9047" class="Symbol">}{</a><a id="9049" href="/Subtyping/#9049" class="Bound">Ts</a> <a id="9052" class="Symbol">:</a> <a id="9054" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="9058" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="9063" href="/Subtyping/#9029" class="Bound">n</a><a id="9064" class="Symbol">}.{</a><a id="9067" href="/Subtyping/#9067" class="Bound">d2</a> <a id="9070" class="Symbol">:</a> <a id="9072" href="/Subtyping/#5171" class="Function">distinct</a> <a id="9081" href="/Subtyping/#9032" class="Bound">ls</a><a id="9083" class="Symbol">}</a>
    <a id="9089" class="Symbol">→</a> <a id="9091" href="/Subtyping/#9032" class="Bound">ls</a> <a id="9094" href="/Subtyping/#6884" class="Function Operator">⊆</a> <a id="9096" href="/Subtyping/#8962" class="Bound">ks</a>
    <a id="9103" class="Symbol">→</a> <a id="9105" class="Symbol">(∀{</a><a id="9108" href="/Subtyping/#9108" class="Bound">i</a> <a id="9110" class="Symbol">:</a> <a id="9112" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1000" class="Datatype">Fin</a> <a id="9116" href="/Subtyping/#9029" class="Bound">n</a><a id="9117" class="Symbol">}{</a><a id="9119" href="/Subtyping/#9119" class="Bound">j</a> <a id="9121" class="Symbol">:</a> <a id="9123" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1000" class="Datatype">Fin</a> <a id="9127" href="/Subtyping/#8959" class="Bound">m</a><a id="9128" class="Symbol">}</a> <a id="9130" class="Symbol">→</a> <a id="9132" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="9139" href="/Subtyping/#8962" class="Bound">ks</a> <a id="9142" href="/Subtyping/#9119" class="Bound">j</a> <a id="9144" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="9146" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="9153" href="/Subtyping/#9032" class="Bound">ls</a> <a id="9156" href="/Subtyping/#9108" class="Bound">i</a>
                               <a id="9189" class="Symbol">→</a> <a id="9191" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="9198" href="/Subtyping/#8979" class="Bound">Ss</a> <a id="9201" href="/Subtyping/#9119" class="Bound">j</a> <a id="9203" href="/Subtyping/#8796" class="Datatype Operator">&lt;:</a> <a id="9206" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="9213" href="/Subtyping/#9049" class="Bound">Ts</a> <a id="9216" href="/Subtyping/#9108" class="Bound">i</a><a id="9217" class="Symbol">)</a>
      <a id="9225" class="Comment">------------------------------------------------------</a>
    <a id="9284" class="Symbol">→</a> <a id="9286" href="/Subtyping/#8248" class="InductiveConstructor Operator">｛</a> <a id="9288" href="/Subtyping/#8962" class="Bound">ks</a> <a id="9291" href="/Subtyping/#8248" class="InductiveConstructor Operator">⦂</a> <a id="9293" href="/Subtyping/#8979" class="Bound">Ss</a> <a id="9296" href="/Subtyping/#8248" class="InductiveConstructor Operator">｝</a> <a id="9298" class="Symbol">{</a><a id="9299" href="/Subtyping/#8997" class="Bound">d1</a><a id="9301" class="Symbol">}</a> <a id="9303" href="/Subtyping/#8796" class="Datatype Operator">&lt;:</a> <a id="9306" href="/Subtyping/#8248" class="InductiveConstructor Operator">｛</a> <a id="9308" href="/Subtyping/#9032" class="Bound">ls</a> <a id="9311" href="/Subtyping/#8248" class="InductiveConstructor Operator">⦂</a> <a id="9313" href="/Subtyping/#9049" class="Bound">Ts</a> <a id="9316" href="/Subtyping/#8248" class="InductiveConstructor Operator">｝</a> <a id="9318" class="Symbol">{</a><a id="9319" href="/Subtyping/#9067" class="Bound">d2</a><a id="9321" class="Symbol">}</a>
</pre>
<p>The rule <code class="language-plaintext highlighter-rouge">&lt;:-nat</code> simply states that ``ℕ` is a subtype of itself.</p>

<p>The rule <code class="language-plaintext highlighter-rouge">&lt;:-fun</code> is the traditional rule for function types, which is
best understood with the following diagram. It answers the question,
when can a function of type <code class="language-plaintext highlighter-rouge">A ⇒ B</code> be used in place of a function of
type <code class="language-plaintext highlighter-rouge">C ⇒ D</code>. It shall be called with an argument of type <code class="language-plaintext highlighter-rouge">C</code>, so
we’ll need to convert from <code class="language-plaintext highlighter-rouge">C</code> to <code class="language-plaintext highlighter-rouge">A</code>. We can then call the function
to get the result of type <code class="language-plaintext highlighter-rouge">B</code>. Finally, we need to convert from <code class="language-plaintext highlighter-rouge">B</code> to
<code class="language-plaintext highlighter-rouge">D</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C &lt;: A
⇓    ⇓
D :&gt; B
</code></pre></div></div>

<p>The record subtyping rule (<code class="language-plaintext highlighter-rouge">&lt;:-rcd</code>) characterizes when a record of
one type can safely be used in place of another record type.  The
first premise of the rule expresses <em>width subtyping</em> by requiring
that all the field names in <code class="language-plaintext highlighter-rouge">ls</code> are also in <code class="language-plaintext highlighter-rouge">ks</code>. So it allows the
hiding of fields when going from a subtype to a supertype.
The second premise of the record subtyping rule (<code class="language-plaintext highlighter-rouge">&lt;:-rcd</code>) expresses
<em>depth subtyping</em>, that is, it allows the types of the fields to
change according to subtyping. The following is an abbreviation for
this premise.</p>

<pre class="Agda"><a id="_⦂_&lt;:_⦂_"></a><a id="10401" href="/Subtyping/#10401" class="Function Operator">_⦂_&lt;:_⦂_</a> <a id="10410" class="Symbol">:</a> <a id="10412" class="Symbol">∀</a> <a id="10414" class="Symbol">{</a><a id="10415" href="/Subtyping/#10415" class="Bound">m</a> <a id="10417" href="/Subtyping/#10417" class="Bound">n</a><a id="10418" class="Symbol">}</a> <a id="10420" class="Symbol">→</a> <a id="10422" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="10426" href="/Subtyping/#4420" class="Function">Name</a> <a id="10431" href="/Subtyping/#10415" class="Bound">m</a> <a id="10433" class="Symbol">→</a> <a id="10435" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="10439" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="10444" href="/Subtyping/#10415" class="Bound">m</a> <a id="10446" class="Symbol">→</a> <a id="10448" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="10452" href="/Subtyping/#4420" class="Function">Name</a> <a id="10457" href="/Subtyping/#10417" class="Bound">n</a> <a id="10459" class="Symbol">→</a> <a id="10461" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="10465" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="10470" href="/Subtyping/#10417" class="Bound">n</a> <a id="10472" class="Symbol">→</a> <a id="10474" class="PrimitiveType">Set</a>
<a id="10478" href="/Subtyping/#10401" class="Function Operator">_⦂_&lt;:_⦂_</a> <a id="10487" class="Symbol">{</a><a id="10488" href="/Subtyping/#10488" class="Bound">m</a><a id="10489" class="Symbol">}{</a><a id="10491" href="/Subtyping/#10491" class="Bound">n</a><a id="10492" class="Symbol">}</a> <a id="10494" href="/Subtyping/#10494" class="Bound">ks</a> <a id="10497" href="/Subtyping/#10497" class="Bound">Ss</a> <a id="10500" href="/Subtyping/#10500" class="Bound">ls</a> <a id="10503" href="/Subtyping/#10503" class="Bound">Ts</a> <a id="10506" class="Symbol">=</a> <a id="10508" class="Symbol">(∀{</a><a id="10511" href="/Subtyping/#10511" class="Bound">i</a> <a id="10513" class="Symbol">:</a> <a id="10515" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1000" class="Datatype">Fin</a> <a id="10519" href="/Subtyping/#10491" class="Bound">n</a><a id="10520" class="Symbol">}{</a><a id="10522" href="/Subtyping/#10522" class="Bound">j</a> <a id="10524" class="Symbol">:</a> <a id="10526" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1000" class="Datatype">Fin</a> <a id="10530" href="/Subtyping/#10488" class="Bound">m</a><a id="10531" class="Symbol">}</a>
    <a id="10537" class="Symbol">→</a> <a id="10539" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="10546" href="/Subtyping/#10494" class="Bound">ks</a> <a id="10549" href="/Subtyping/#10522" class="Bound">j</a> <a id="10551" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="10553" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="10560" href="/Subtyping/#10500" class="Bound">ls</a> <a id="10563" href="/Subtyping/#10511" class="Bound">i</a>  <a id="10566" class="Symbol">→</a>  <a id="10569" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="10576" href="/Subtyping/#10497" class="Bound">Ss</a> <a id="10579" href="/Subtyping/#10522" class="Bound">j</a> <a id="10581" href="/Subtyping/#8796" class="Datatype Operator">&lt;:</a> <a id="10584" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="10591" href="/Subtyping/#10503" class="Bound">Ts</a> <a id="10594" href="/Subtyping/#10511" class="Bound">i</a><a id="10595" class="Symbol">)</a>
</pre>
<h2 id="subtyping-is-reflexive">Subtyping is Reflexive</h2>

<p>In this section we prove that subtyping is reflexive, that is, <code class="language-plaintext highlighter-rouge">A &lt;:
A</code> for any type <code class="language-plaintext highlighter-rouge">A</code>. The proof does not go by induction on the type
<code class="language-plaintext highlighter-rouge">A</code> because of the <code class="language-plaintext highlighter-rouge">&lt;:-rcd</code> rule. We instead use induction on the size
of the type. So we first define size of a type, and the size of a
vector of types, as follows.</p>
<pre class="Agda"><a id="ty-size"></a><a id="10936" href="/Subtyping/#10936" class="Function">ty-size</a> <a id="10944" class="Symbol">:</a> <a id="10946" class="Symbol">(</a><a id="10947" href="/Subtyping/#10947" class="Bound">A</a> <a id="10949" class="Symbol">:</a> <a id="10951" href="/Subtyping/#8185" class="Datatype">Type</a><a id="10955" class="Symbol">)</a> <a id="10957" class="Symbol">→</a> <a id="10959" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>
<a id="vec-ty-size"></a><a id="10961" href="/Subtyping/#10961" class="Function">vec-ty-size</a> <a id="10973" class="Symbol">:</a> <a id="10975" class="Symbol">∀</a> <a id="10977" class="Symbol">{</a><a id="10978" href="/Subtyping/#10978" class="Bound">n</a> <a id="10980" class="Symbol">:</a> <a id="10982" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="10983" class="Symbol">}</a> <a id="10985" class="Symbol">→</a> <a id="10987" class="Symbol">(</a><a id="10988" href="/Subtyping/#10988" class="Bound">As</a> <a id="10991" class="Symbol">:</a> <a id="10993" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="10997" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="11002" href="/Subtyping/#10978" class="Bound">n</a><a id="11003" class="Symbol">)</a> <a id="11005" class="Symbol">→</a> <a id="11007" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>

<a id="11010" href="/Subtyping/#10936" class="Function">ty-size</a> <a id="11018" class="Symbol">(</a><a id="11019" href="/Subtyping/#11019" class="Bound">A</a> <a id="11021" href="/Subtyping/#8204" class="InductiveConstructor Operator">⇒</a> <a id="11023" href="/Subtyping/#11023" class="Bound">B</a><a id="11024" class="Symbol">)</a> <a id="11026" class="Symbol">=</a> <a id="11028" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="11032" class="Symbol">(</a><a id="11033" href="/Subtyping/#10936" class="Function">ty-size</a> <a id="11041" href="/Subtyping/#11019" class="Bound">A</a> <a id="11043" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="11045" href="/Subtyping/#10936" class="Function">ty-size</a> <a id="11053" href="/Subtyping/#11023" class="Bound">B</a><a id="11054" class="Symbol">)</a>
<a id="11056" href="/Subtyping/#10936" class="Function">ty-size</a> <a id="11064" href="/Subtyping/#8233" class="InductiveConstructor">`ℕ</a> <a id="11067" class="Symbol">=</a> <a id="11069" class="Number">1</a>
<a id="11071" href="/Subtyping/#10936" class="Function">ty-size</a> <a id="11079" href="/Subtyping/#8248" class="InductiveConstructor Operator">｛</a> <a id="11081" href="/Subtyping/#11081" class="Bound">ls</a> <a id="11084" href="/Subtyping/#8248" class="InductiveConstructor Operator">⦂</a> <a id="11086" href="/Subtyping/#11086" class="Bound">As</a> <a id="11089" href="/Subtyping/#8248" class="InductiveConstructor Operator">｝</a> <a id="11091" class="Symbol">=</a> <a id="11093" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="11097" class="Symbol">(</a><a id="11098" href="/Subtyping/#10961" class="Function">vec-ty-size</a> <a id="11110" href="/Subtyping/#11086" class="Bound">As</a><a id="11112" class="Symbol">)</a>

<a id="11115" href="/Subtyping/#10961" class="Function">vec-ty-size</a> <a id="11127" class="Symbol">{</a><a id="11128" href="/Subtyping/#11128" class="Bound">n</a><a id="11129" class="Symbol">}</a> <a id="11131" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#971" class="InductiveConstructor">[]</a> <a id="11134" class="Symbol">=</a> <a id="11136" class="Number">0</a>
<a id="11138" href="/Subtyping/#10961" class="Function">vec-ty-size</a> <a id="11150" class="Symbol">{</a><a id="11151" href="/Subtyping/#11151" class="Bound">n</a><a id="11152" class="Symbol">}</a> <a id="11154" class="Symbol">(</a><a id="11155" href="/Subtyping/#11155" class="Bound">x</a> <a id="11157" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="11159" href="/Subtyping/#11159" class="Bound">xs</a><a id="11161" class="Symbol">)</a> <a id="11163" class="Symbol">=</a> <a id="11165" href="/Subtyping/#10936" class="Function">ty-size</a> <a id="11173" href="/Subtyping/#11155" class="Bound">x</a> <a id="11175" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="11177" href="/Subtyping/#10961" class="Function">vec-ty-size</a> <a id="11189" href="/Subtyping/#11159" class="Bound">xs</a>
</pre>
<p>The size of a type is always positive.</p>
<pre class="Agda"><a id="ty-size-pos"></a><a id="11240" href="/Subtyping/#11240" class="Function">ty-size-pos</a> <a id="11252" class="Symbol">:</a> <a id="11254" class="Symbol">∀</a> <a id="11256" class="Symbol">{</a><a id="11257" href="/Subtyping/#11257" class="Bound">A</a><a id="11258" class="Symbol">}</a> <a id="11260" class="Symbol">→</a> <a id="11262" class="Number">0</a> <a id="11264" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Base.html#1005" class="Function Operator">&lt;</a> <a id="11266" href="/Subtyping/#10936" class="Function">ty-size</a> <a id="11274" href="/Subtyping/#11257" class="Bound">A</a>
<a id="11276" href="/Subtyping/#11240" class="Function">ty-size-pos</a> <a id="11288" class="Symbol">{</a><a id="11289" href="/Subtyping/#11289" class="Bound">A</a> <a id="11291" href="/Subtyping/#8204" class="InductiveConstructor Operator">⇒</a> <a id="11293" href="/Subtyping/#11293" class="Bound">B</a><a id="11294" class="Symbol">}</a> <a id="11296" class="Symbol">=</a> <a id="11298" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Base.html#960" class="InductiveConstructor">s≤s</a> <a id="11302" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Base.html#918" class="InductiveConstructor">z≤n</a>
<a id="11306" href="/Subtyping/#11240" class="Function">ty-size-pos</a> <a id="11318" class="Symbol">{</a><a id="11319" href="/Subtyping/#8233" class="InductiveConstructor">`ℕ</a><a id="11321" class="Symbol">}</a> <a id="11323" class="Symbol">=</a> <a id="11325" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Base.html#960" class="InductiveConstructor">s≤s</a> <a id="11329" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Base.html#918" class="InductiveConstructor">z≤n</a>
<a id="11333" href="/Subtyping/#11240" class="Function">ty-size-pos</a> <a id="11345" class="Symbol">{</a><a id="11346" href="/Subtyping/#8248" class="InductiveConstructor Operator">｛</a> <a id="11348" href="/Subtyping/#11348" class="Bound">fs</a> <a id="11351" href="/Subtyping/#8248" class="InductiveConstructor Operator">⦂</a> <a id="11353" href="/Subtyping/#11353" class="Bound">As</a> <a id="11356" href="/Subtyping/#8248" class="InductiveConstructor Operator">｝</a> <a id="11358" class="Symbol">}</a> <a id="11360" class="Symbol">=</a> <a id="11362" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Base.html#960" class="InductiveConstructor">s≤s</a> <a id="11366" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Base.html#918" class="InductiveConstructor">z≤n</a>
</pre>
<p>If a vector of types has a size smaller than <code class="language-plaintext highlighter-rouge">n</code>, then so is any type
in the vector.</p>
<pre class="Agda"><a id="lookup-vec-ty-size"></a><a id="11464" href="/Subtyping/#11464" class="Function">lookup-vec-ty-size</a> <a id="11483" class="Symbol">:</a> <a id="11485" class="Symbol">∀{</a><a id="11487" href="/Subtyping/#11487" class="Bound">n</a><a id="11488" class="Symbol">}{</a><a id="11490" href="/Subtyping/#11490" class="Bound">k</a><a id="11491" class="Symbol">}</a> <a id="11493" class="Symbol">{</a><a id="11494" href="/Subtyping/#11494" class="Bound">As</a> <a id="11497" class="Symbol">:</a> <a id="11499" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="11503" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="11508" href="/Subtyping/#11490" class="Bound">k</a><a id="11509" class="Symbol">}</a> <a id="11511" class="Symbol">{</a><a id="11512" href="/Subtyping/#11512" class="Bound">j</a><a id="11513" class="Symbol">}</a>
   <a id="11518" class="Symbol">→</a> <a id="11520" href="/Subtyping/#10961" class="Function">vec-ty-size</a> <a id="11532" href="/Subtyping/#11494" class="Bound">As</a> <a id="11535" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Base.html#895" class="Datatype Operator">≤</a> <a id="11537" href="/Subtyping/#11487" class="Bound">n</a>
   <a id="11542" class="Symbol">→</a> <a id="11544" href="/Subtyping/#10936" class="Function">ty-size</a> <a id="11552" class="Symbol">(</a><a id="11553" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="11560" href="/Subtyping/#11494" class="Bound">As</a> <a id="11563" href="/Subtyping/#11512" class="Bound">j</a><a id="11564" class="Symbol">)</a> <a id="11566" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Base.html#895" class="Datatype Operator">≤</a> <a id="11568" href="/Subtyping/#11487" class="Bound">n</a>
<a id="11570" href="/Subtyping/#11464" class="Function">lookup-vec-ty-size</a> <a id="11589" class="Symbol">{</a><a id="11590" href="/Subtyping/#11590" class="Bound">n</a><a id="11591" class="Symbol">}</a> <a id="11593" class="Symbol">{</a><a id="11594" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="11598" href="/Subtyping/#11598" class="Bound">k</a><a id="11599" class="Symbol">}</a> <a id="11601" class="Symbol">{</a><a id="11602" href="/Subtyping/#11602" class="Bound">A</a> <a id="11604" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="11606" href="/Subtyping/#11606" class="Bound">As</a><a id="11608" class="Symbol">}</a> <a id="11610" class="Symbol">{</a><a id="11611" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1022" class="InductiveConstructor">zero</a><a id="11615" class="Symbol">}</a> <a id="11617" href="/Subtyping/#11617" class="Bound">As≤n</a> <a id="11622" class="Symbol">=</a> <a id="11624" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Properties.html#15115" class="Function">m+n≤o⇒m≤o</a> <a id="11634" class="Symbol">(</a><a id="11635" href="/Subtyping/#10936" class="Function">ty-size</a> <a id="11643" href="/Subtyping/#11602" class="Bound">A</a><a id="11644" class="Symbol">)</a> <a id="11646" href="/Subtyping/#11617" class="Bound">As≤n</a>
<a id="11651" href="/Subtyping/#11464" class="Function">lookup-vec-ty-size</a> <a id="11670" class="Symbol">{</a><a id="11671" href="/Subtyping/#11671" class="Bound">n</a><a id="11672" class="Symbol">}</a> <a id="11674" class="Symbol">{</a><a id="11675" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="11679" href="/Subtyping/#11679" class="Bound">k</a><a id="11680" class="Symbol">}</a> <a id="11682" class="Symbol">{</a><a id="11683" href="/Subtyping/#11683" class="Bound">A</a> <a id="11685" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="11687" href="/Subtyping/#11687" class="Bound">As</a><a id="11689" class="Symbol">}</a> <a id="11691" class="Symbol">{</a><a id="11692" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1053" class="InductiveConstructor">suc</a> <a id="11696" href="/Subtyping/#11696" class="Bound">j</a><a id="11697" class="Symbol">}</a> <a id="11699" href="/Subtyping/#11699" class="Bound">As≤n</a> <a id="11704" class="Symbol">=</a>
    <a id="11710" href="/Subtyping/#11464" class="Function">lookup-vec-ty-size</a> <a id="11729" class="Symbol">{</a><a id="11730" href="/Subtyping/#11671" class="Bound">n</a><a id="11731" class="Symbol">}</a> <a id="11733" class="Symbol">{</a><a id="11734" href="/Subtyping/#11679" class="Bound">k</a><a id="11735" class="Symbol">}</a> <a id="11737" class="Symbol">{</a><a id="11738" href="/Subtyping/#11687" class="Bound">As</a><a id="11740" class="Symbol">}</a> <a id="11742" class="Symbol">(</a><a id="11743" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Properties.html#15250" class="Function">m+n≤o⇒n≤o</a> <a id="11753" class="Symbol">(</a><a id="11754" href="/Subtyping/#10936" class="Function">ty-size</a> <a id="11762" href="/Subtyping/#11683" class="Bound">A</a><a id="11763" class="Symbol">)</a> <a id="11765" href="/Subtyping/#11699" class="Bound">As≤n</a><a id="11769" class="Symbol">)</a>
</pre>
<p>Here is the proof of reflexivity, by induction on the size of the type.</p>
<pre class="Agda"><a id="&lt;:-refl-aux"></a><a id="11852" href="/Subtyping/#11852" class="Function">&lt;:-refl-aux</a> <a id="11864" class="Symbol">:</a> <a id="11866" class="Symbol">∀{</a><a id="11868" href="/Subtyping/#11868" class="Bound">n</a><a id="11869" class="Symbol">}{</a><a id="11871" href="/Subtyping/#11871" class="Bound">A</a><a id="11872" class="Symbol">}{</a><a id="11874" href="/Subtyping/#11874" class="Bound">m</a> <a id="11876" class="Symbol">:</a> <a id="11878" href="/Subtyping/#10936" class="Function">ty-size</a> <a id="11886" href="/Subtyping/#11871" class="Bound">A</a> <a id="11888" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Base.html#895" class="Datatype Operator">≤</a> <a id="11890" href="/Subtyping/#11868" class="Bound">n</a><a id="11891" class="Symbol">}</a> <a id="11893" class="Symbol">→</a> <a id="11895" href="/Subtyping/#11871" class="Bound">A</a> <a id="11897" href="/Subtyping/#8796" class="Datatype Operator">&lt;:</a> <a id="11900" href="/Subtyping/#11871" class="Bound">A</a>
<a id="11902" href="/Subtyping/#11852" class="Function">&lt;:-refl-aux</a> <a id="11914" class="Symbol">{</a><a id="11915" class="Number">0</a><a id="11916" class="Symbol">}{</a><a id="11918" href="/Subtyping/#11918" class="Bound">A</a><a id="11919" class="Symbol">}{</a><a id="11921" href="/Subtyping/#11921" class="Bound">m</a><a id="11922" class="Symbol">}</a>
    <a id="11928" class="Keyword">with</a> <a id="11933" href="/Subtyping/#11240" class="Function">ty-size-pos</a> <a id="11945" class="Symbol">{</a><a id="11946" href="/Subtyping/#11918" class="Bound">A</a><a id="11947" class="Symbol">}</a>
<a id="11949" class="Symbol">...</a> <a id="11953" class="Symbol">|</a> <a id="11955" href="/Subtyping/#11955" class="Bound">pos</a> <a id="11959" class="Keyword">rewrite</a> <a id="11967" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Properties.html#6284" class="Function">n≤0⇒n≡0</a> <a id="11975" class="Bound">m</a>
    <a id="11981" class="Keyword">with</a> <a id="11986" href="/Subtyping/#11955" class="Bound">pos</a>
<a id="11990" class="Symbol">...</a> <a id="11994" class="Symbol">|</a> <a id="11996" class="Symbol">()</a>    
<a id="12003" href="/Subtyping/#11852" class="Function">&lt;:-refl-aux</a> <a id="12015" class="Symbol">{</a><a id="12016" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="12020" href="/Subtyping/#12020" class="Bound">n</a><a id="12021" class="Symbol">}{</a><a id="12023" href="/Subtyping/#8233" class="InductiveConstructor">`ℕ</a><a id="12025" class="Symbol">}{</a><a id="12027" href="/Subtyping/#12027" class="Bound">m</a><a id="12028" class="Symbol">}</a> <a id="12030" class="Symbol">=</a> <a id="12032" href="/Subtyping/#8829" class="InductiveConstructor">&lt;:-nat</a>
<a id="12039" href="/Subtyping/#11852" class="Function">&lt;:-refl-aux</a> <a id="12051" class="Symbol">{</a><a id="12052" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="12056" href="/Subtyping/#12056" class="Bound">n</a><a id="12057" class="Symbol">}{</a><a id="12059" href="/Subtyping/#12059" class="Bound">A</a> <a id="12061" href="/Subtyping/#8204" class="InductiveConstructor Operator">⇒</a> <a id="12063" href="/Subtyping/#12063" class="Bound">B</a><a id="12064" class="Symbol">}{</a><a id="12066" href="/Subtyping/#12066" class="Bound">m</a><a id="12067" class="Symbol">}</a> <a id="12069" class="Symbol">=</a>
  <a id="12073" class="Keyword">let</a> <a id="12077" href="/Subtyping/#12077" class="Bound">A&lt;:A</a> <a id="12082" class="Symbol">=</a> <a id="12084" href="/Subtyping/#11852" class="Function">&lt;:-refl-aux</a> <a id="12096" class="Symbol">{</a><a id="12097" href="/Subtyping/#12056" class="Bound">n</a><a id="12098" class="Symbol">}{</a><a id="12100" href="/Subtyping/#12059" class="Bound">A</a><a id="12101" class="Symbol">}{</a><a id="12103" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Properties.html#15115" class="Function">m+n≤o⇒m≤o</a> <a id="12113" class="Symbol">_</a> <a id="12115" class="Symbol">(</a><a id="12116" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Properties.html#3355" class="Function">≤-pred</a> <a id="12123" href="/Subtyping/#12066" class="Bound">m</a><a id="12124" class="Symbol">)</a> <a id="12126" class="Symbol">}</a> <a id="12128" class="Keyword">in</a>
  <a id="12133" class="Keyword">let</a> <a id="12137" href="/Subtyping/#12137" class="Bound">B&lt;:B</a> <a id="12142" class="Symbol">=</a> <a id="12144" href="/Subtyping/#11852" class="Function">&lt;:-refl-aux</a> <a id="12156" class="Symbol">{</a><a id="12157" href="/Subtyping/#12056" class="Bound">n</a><a id="12158" class="Symbol">}{</a><a id="12160" href="/Subtyping/#12063" class="Bound">B</a><a id="12161" class="Symbol">}{</a><a id="12163" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Properties.html#15250" class="Function">m+n≤o⇒n≤o</a> <a id="12173" class="Symbol">_</a> <a id="12175" class="Symbol">(</a><a id="12176" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Properties.html#3355" class="Function">≤-pred</a> <a id="12183" href="/Subtyping/#12066" class="Bound">m</a><a id="12184" class="Symbol">)</a> <a id="12186" class="Symbol">}</a> <a id="12188" class="Keyword">in</a>
  <a id="12193" href="/Subtyping/#8850" class="InductiveConstructor">&lt;:-fun</a> <a id="12200" href="/Subtyping/#12077" class="Bound">A&lt;:A</a> <a id="12205" href="/Subtyping/#12137" class="Bound">B&lt;:B</a>
<a id="12210" href="/Subtyping/#11852" class="Function">&lt;:-refl-aux</a> <a id="12222" class="Symbol">{</a><a id="12223" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="12227" href="/Subtyping/#12227" class="Bound">n</a><a id="12228" class="Symbol">}{</a><a id="12230" href="/Subtyping/#8248" class="InductiveConstructor Operator">｛</a> <a id="12232" href="/Subtyping/#12232" class="Bound">ls</a> <a id="12235" href="/Subtyping/#8248" class="InductiveConstructor Operator">⦂</a> <a id="12237" href="/Subtyping/#12237" class="Bound">As</a> <a id="12240" href="/Subtyping/#8248" class="InductiveConstructor Operator">｝</a> <a id="12242" class="Symbol">{</a><a id="12243" href="/Subtyping/#12243" class="Bound">d</a><a id="12244" class="Symbol">}</a> <a id="12246" class="Symbol">}{</a><a id="12248" href="/Subtyping/#12248" class="Bound">m</a><a id="12249" class="Symbol">}</a> <a id="12251" class="Symbol">=</a> <a id="12253" href="/Subtyping/#8947" class="InductiveConstructor">&lt;:-rcd</a> <a id="12260" class="Symbol">{</a><a id="12261" class="Argument">d1</a> <a id="12264" class="Symbol">=</a> <a id="12266" href="/Subtyping/#12243" class="Bound">d</a><a id="12267" class="Symbol">}{</a><a id="12269" class="Argument">d2</a> <a id="12272" class="Symbol">=</a> <a id="12274" href="/Subtyping/#12243" class="Bound">d</a><a id="12275" class="Symbol">}</a> <a id="12277" href="/Subtyping/#7027" class="Function">⊆-refl</a> <a id="12284" href="/Subtyping/#12300" class="Function">G</a>
    <a id="12290" class="Keyword">where</a>
    <a id="12300" href="/Subtyping/#12300" class="Function">G</a> <a id="12302" class="Symbol">:</a> <a id="12304" href="/Subtyping/#12232" class="Bound">ls</a> <a id="12307" href="/Subtyping/#10401" class="Function Operator">⦂</a> <a id="12309" href="/Subtyping/#12237" class="Bound">As</a> <a id="12312" href="/Subtyping/#10401" class="Function Operator">&lt;:</a> <a id="12315" href="/Subtyping/#12232" class="Bound">ls</a> <a id="12318" href="/Subtyping/#10401" class="Function Operator">⦂</a> <a id="12320" href="/Subtyping/#12237" class="Bound">As</a>
    <a id="12327" href="/Subtyping/#12300" class="Function">G</a> <a id="12329" class="Symbol">{</a><a id="12330" href="/Subtyping/#12330" class="Bound">i</a><a id="12331" class="Symbol">}{</a><a id="12333" href="/Subtyping/#12333" class="Bound">j</a><a id="12334" class="Symbol">}</a> <a id="12336" href="/Subtyping/#12336" class="Bound">lij</a> <a id="12340" class="Keyword">rewrite</a> <a id="12348" href="/Subtyping/#5337" class="Function">distinct-lookup-inj</a> <a id="12368" class="Symbol">(</a><a id="12369" href="/Subtyping/#6565" class="Function">distinct-relevant</a> <a id="12387" href="/Subtyping/#12243" class="Bound">d</a><a id="12388" class="Symbol">)</a> <a id="12390" href="/Subtyping/#12336" class="Bound">lij</a> <a id="12394" class="Symbol">=</a>
        <a id="12404" class="Keyword">let</a> <a id="12408" href="/Subtyping/#12408" class="Bound">As[i]≤n</a> <a id="12416" class="Symbol">=</a> <a id="12418" href="/Subtyping/#11464" class="Function">lookup-vec-ty-size</a> <a id="12437" class="Symbol">{</a><a id="12438" class="Argument">As</a> <a id="12441" class="Symbol">=</a> <a id="12443" href="/Subtyping/#12237" class="Bound">As</a><a id="12445" class="Symbol">}{</a><a id="12447" href="/Subtyping/#12330" class="Bound">i</a><a id="12448" class="Symbol">}</a> <a id="12450" class="Symbol">(</a><a id="12451" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Properties.html#3355" class="Function">≤-pred</a> <a id="12458" href="/Subtyping/#12248" class="Bound">m</a><a id="12459" class="Symbol">)</a> <a id="12461" class="Keyword">in</a> 
        <a id="12473" href="/Subtyping/#11852" class="Function">&lt;:-refl-aux</a> <a id="12485" class="Symbol">{</a><a id="12486" href="/Subtyping/#12227" class="Bound">n</a><a id="12487" class="Symbol">}{</a><a id="12489" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="12496" href="/Subtyping/#12237" class="Bound">As</a> <a id="12499" href="/Subtyping/#12330" class="Bound">i</a><a id="12500" class="Symbol">}{</a><a id="12502" href="/Subtyping/#12408" class="Bound">As[i]≤n</a><a id="12509" class="Symbol">}</a>
</pre>
<p>The theorem statement uses <code class="language-plaintext highlighter-rouge">n</code> as an upper bound on the size of the type <code class="language-plaintext highlighter-rouge">A</code>
and proceeds by induction on <code class="language-plaintext highlighter-rouge">n</code>.</p>

<ul>
  <li>
    <p>If it is <code class="language-plaintext highlighter-rouge">0</code>, then we have a contradiction because the size of a type is always positive.</p>
  </li>
  <li>
    <p>If it is <code class="language-plaintext highlighter-rouge">suc n</code>, we proceed by cases on the type <code class="language-plaintext highlighter-rouge">A</code>.</p>

    <ul>
      <li>If it is <code class="language-plaintext highlighter-rouge">ℕ`, then we have</code>ℕ &lt;: <code class="language-plaintext highlighter-rouge">ℕ</code> by rule <code class="language-plaintext highlighter-rouge">&lt;:-nat</code>.</li>
      <li>If it is <code class="language-plaintext highlighter-rouge">A ⇒ B</code>, then by induction we have <code class="language-plaintext highlighter-rouge">A &lt;: A</code> and <code class="language-plaintext highlighter-rouge">B &lt;: B</code>.
We conclude that <code class="language-plaintext highlighter-rouge">A ⇒ B &lt;: A ⇒ B</code> by rule <code class="language-plaintext highlighter-rouge">&lt;:-fun</code>.</li>
      <li>If it is <code class="language-plaintext highlighter-rouge">｛ ls ⦂ As ｝</code>, then it suffices to prove that
<code class="language-plaintext highlighter-rouge">ls ⊆ ls</code> and <code class="language-plaintext highlighter-rouge">ls ⦂ As &lt;: ls ⦂ As</code>. The former is proved by <code class="language-plaintext highlighter-rouge">⊆-refl</code>.
Regarding the latter, we need to show that for any <code class="language-plaintext highlighter-rouge">i</code> and <code class="language-plaintext highlighter-rouge">j</code>,
<code class="language-plaintext highlighter-rouge">lookup ls j ≡ lookup ls i</code> implies <code class="language-plaintext highlighter-rouge">lookup As j &lt;: lookup As i</code>.
Because <code class="language-plaintext highlighter-rouge">lookup</code> is injective on distinct vectors, we have <code class="language-plaintext highlighter-rouge">i ≡ j</code>.
We then use the induction hypothesis to show that 
<code class="language-plaintext highlighter-rouge">lookup As i &lt;: lookup As i</code>, noting that the size of
<code class="language-plaintext highlighter-rouge">lookup As i</code> is less-than-or-equal to the size of <code class="language-plaintext highlighter-rouge">As</code>, which
is one smaller than the size of <code class="language-plaintext highlighter-rouge">｛ ls ⦂ As ｝</code>.</li>
    </ul>
  </li>
</ul>

<p>The following corollary packages up reflexivity for ease of use.</p>
<pre class="Agda"><a id="&lt;:-refl"></a><a id="13610" href="/Subtyping/#13610" class="Function">&lt;:-refl</a> <a id="13618" class="Symbol">:</a> <a id="13620" class="Symbol">∀{</a><a id="13622" href="/Subtyping/#13622" class="Bound">A</a><a id="13623" class="Symbol">}</a> <a id="13625" class="Symbol">→</a> <a id="13627" href="/Subtyping/#13622" class="Bound">A</a> <a id="13629" href="/Subtyping/#8796" class="Datatype Operator">&lt;:</a> <a id="13632" href="/Subtyping/#13622" class="Bound">A</a>
<a id="13634" href="/Subtyping/#13610" class="Function">&lt;:-refl</a> <a id="13642" class="Symbol">{</a><a id="13643" href="/Subtyping/#13643" class="Bound">A</a><a id="13644" class="Symbol">}</a> <a id="13646" class="Symbol">=</a> <a id="13648" href="/Subtyping/#11852" class="Function">&lt;:-refl-aux</a> <a id="13660" class="Symbol">{</a><a id="13661" href="/Subtyping/#10936" class="Function">ty-size</a> <a id="13669" href="/Subtyping/#13643" class="Bound">A</a><a id="13670" class="Symbol">}{</a><a id="13672" href="/Subtyping/#13643" class="Bound">A</a><a id="13673" class="Symbol">}{</a><a id="13675" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.Properties.html#3632" class="Function">≤-refl</a><a id="13681" class="Symbol">}</a>
</pre>
<h2 id="subtyping-is-transitive">Subtyping is transitive</h2>

<p>The proof of transitivity is straightforward, given that we’ve
already proved the two lemmas needed in the case for <code class="language-plaintext highlighter-rouge">&lt;:-rcd</code>:
<code class="language-plaintext highlighter-rouge">⊆-trans</code> and <code class="language-plaintext highlighter-rouge">lookup-⊆</code>.</p>

<pre class="Agda"><a id="&lt;:-trans"></a><a id="13873" href="/Subtyping/#13873" class="Function">&lt;:-trans</a> <a id="13882" class="Symbol">:</a> <a id="13884" class="Symbol">∀{</a><a id="13886" href="/Subtyping/#13886" class="Bound">A</a> <a id="13888" href="/Subtyping/#13888" class="Bound">B</a> <a id="13890" href="/Subtyping/#13890" class="Bound">C</a><a id="13891" class="Symbol">}</a>
    <a id="13897" class="Symbol">→</a> <a id="13899" href="/Subtyping/#13886" class="Bound">A</a> <a id="13901" href="/Subtyping/#8796" class="Datatype Operator">&lt;:</a> <a id="13904" href="/Subtyping/#13888" class="Bound">B</a>   <a id="13908" class="Symbol">→</a>   <a id="13912" href="/Subtyping/#13888" class="Bound">B</a> <a id="13914" href="/Subtyping/#8796" class="Datatype Operator">&lt;:</a> <a id="13917" href="/Subtyping/#13890" class="Bound">C</a>
      <a id="13925" class="Comment">-------------------</a>
    <a id="13949" class="Symbol">→</a> <a id="13951" href="/Subtyping/#13886" class="Bound">A</a> <a id="13953" href="/Subtyping/#8796" class="Datatype Operator">&lt;:</a> <a id="13956" href="/Subtyping/#13890" class="Bound">C</a>
<a id="13958" href="/Subtyping/#13873" class="Function">&lt;:-trans</a> <a id="13967" class="Symbol">{</a><a id="13968" href="/Subtyping/#13968" class="Bound">A₁</a> <a id="13971" href="/Subtyping/#8204" class="InductiveConstructor Operator">⇒</a> <a id="13973" href="/Subtyping/#13973" class="Bound">A₂</a><a id="13975" class="Symbol">}</a> <a id="13977" class="Symbol">{</a><a id="13978" href="/Subtyping/#13978" class="Bound">B₁</a> <a id="13981" href="/Subtyping/#8204" class="InductiveConstructor Operator">⇒</a> <a id="13983" href="/Subtyping/#13983" class="Bound">B₂</a><a id="13985" class="Symbol">}</a> <a id="13987" class="Symbol">{</a><a id="13988" href="/Subtyping/#13988" class="Bound">C₁</a> <a id="13991" href="/Subtyping/#8204" class="InductiveConstructor Operator">⇒</a> <a id="13993" href="/Subtyping/#13993" class="Bound">C₂</a><a id="13995" class="Symbol">}</a> <a id="13997" class="Symbol">(</a><a id="13998" href="/Subtyping/#8850" class="InductiveConstructor">&lt;:-fun</a> <a id="14005" href="/Subtyping/#14005" class="Bound">A&lt;:B</a> <a id="14010" href="/Subtyping/#14010" class="Bound">A&lt;:B₁</a><a id="14015" class="Symbol">)</a> <a id="14017" class="Symbol">(</a><a id="14018" href="/Subtyping/#8850" class="InductiveConstructor">&lt;:-fun</a> <a id="14025" href="/Subtyping/#14025" class="Bound">B&lt;:C</a> <a id="14030" href="/Subtyping/#14030" class="Bound">B&lt;:C₁</a><a id="14035" class="Symbol">)</a> <a id="14037" class="Symbol">=</a>
    <a id="14043" href="/Subtyping/#8850" class="InductiveConstructor">&lt;:-fun</a> <a id="14050" class="Symbol">(</a><a id="14051" href="/Subtyping/#13873" class="Function">&lt;:-trans</a> <a id="14060" href="/Subtyping/#14025" class="Bound">B&lt;:C</a> <a id="14065" href="/Subtyping/#14005" class="Bound">A&lt;:B</a><a id="14069" class="Symbol">)</a> <a id="14071" class="Symbol">(</a><a id="14072" href="/Subtyping/#13873" class="Function">&lt;:-trans</a> <a id="14081" href="/Subtyping/#14010" class="Bound">A&lt;:B₁</a> <a id="14087" href="/Subtyping/#14030" class="Bound">B&lt;:C₁</a><a id="14092" class="Symbol">)</a>
<a id="14094" href="/Subtyping/#13873" class="Function">&lt;:-trans</a> <a id="14103" class="Symbol">{</a><a id="14104" class="DottedPattern Symbol">.</a><a id="14105" href="/Subtyping/#8233" class="DottedPattern InductiveConstructor">`ℕ</a><a id="14107" class="Symbol">}</a> <a id="14109" class="Symbol">{</a><a id="14110" href="/Subtyping/#8233" class="InductiveConstructor">`ℕ</a><a id="14112" class="Symbol">}</a> <a id="14114" class="Symbol">{</a><a id="14115" class="DottedPattern Symbol">.</a><a id="14116" href="/Subtyping/#8233" class="DottedPattern InductiveConstructor">`ℕ</a><a id="14118" class="Symbol">}</a> <a id="14120" href="/Subtyping/#8829" class="InductiveConstructor">&lt;:-nat</a> <a id="14127" href="/Subtyping/#8829" class="InductiveConstructor">&lt;:-nat</a> <a id="14134" class="Symbol">=</a> <a id="14136" href="/Subtyping/#8829" class="InductiveConstructor">&lt;:-nat</a>
<a id="14143" href="/Subtyping/#13873" class="Function">&lt;:-trans</a> <a id="14152" class="Symbol">{</a><a id="14153" href="/Subtyping/#8248" class="InductiveConstructor Operator">｛</a> <a id="14155" href="/Subtyping/#14155" class="Bound">ls</a> <a id="14158" href="/Subtyping/#8248" class="InductiveConstructor Operator">⦂</a> <a id="14160" href="/Subtyping/#14160" class="Bound">As</a> <a id="14163" href="/Subtyping/#8248" class="InductiveConstructor Operator">｝</a><a id="14164" class="Symbol">{</a><a id="14165" href="/Subtyping/#14165" class="Bound">d1</a><a id="14167" class="Symbol">}</a> <a id="14169" class="Symbol">}</a> <a id="14171" class="Symbol">{</a><a id="14172" href="/Subtyping/#8248" class="InductiveConstructor Operator">｛</a> <a id="14174" href="/Subtyping/#14174" class="Bound">ms</a> <a id="14177" href="/Subtyping/#8248" class="InductiveConstructor Operator">⦂</a> <a id="14179" href="/Subtyping/#14179" class="Bound">Bs</a> <a id="14182" href="/Subtyping/#8248" class="InductiveConstructor Operator">｝</a> <a id="14184" class="Symbol">{</a><a id="14185" href="/Subtyping/#14185" class="Bound">d2</a><a id="14187" class="Symbol">}</a> <a id="14189" class="Symbol">}</a> <a id="14191" class="Symbol">{</a><a id="14192" href="/Subtyping/#8248" class="InductiveConstructor Operator">｛</a> <a id="14194" href="/Subtyping/#14194" class="Bound">ns</a> <a id="14197" href="/Subtyping/#8248" class="InductiveConstructor Operator">⦂</a> <a id="14199" href="/Subtyping/#14199" class="Bound">Cs</a> <a id="14202" href="/Subtyping/#8248" class="InductiveConstructor Operator">｝</a> <a id="14204" class="Symbol">{</a><a id="14205" href="/Subtyping/#14205" class="Bound">d3</a><a id="14207" class="Symbol">}</a> <a id="14209" class="Symbol">}</a>
    <a id="14215" class="Symbol">(</a><a id="14216" href="/Subtyping/#8947" class="InductiveConstructor">&lt;:-rcd</a> <a id="14223" href="/Subtyping/#14223" class="Bound">ms⊆ls</a> <a id="14229" href="/Subtyping/#14229" class="Bound">As&lt;:Bs</a><a id="14235" class="Symbol">)</a> <a id="14237" class="Symbol">(</a><a id="14238" href="/Subtyping/#8947" class="InductiveConstructor">&lt;:-rcd</a> <a id="14245" href="/Subtyping/#14245" class="Bound">ns⊆ms</a> <a id="14251" href="/Subtyping/#14251" class="Bound">Bs&lt;:Cs</a><a id="14257" class="Symbol">)</a> <a id="14259" class="Symbol">=</a>
    <a id="14265" href="/Subtyping/#8947" class="InductiveConstructor">&lt;:-rcd</a> <a id="14272" class="Symbol">(</a><a id="14273" href="/Subtyping/#7102" class="Function">⊆-trans</a> <a id="14281" href="/Subtyping/#14245" class="Bound">ns⊆ms</a> <a id="14287" href="/Subtyping/#14223" class="Bound">ms⊆ls</a><a id="14292" class="Symbol">)</a> <a id="14294" href="/Subtyping/#14315" class="Function">As&lt;:Cs</a>
    <a id="14305" class="Keyword">where</a>
    <a id="14315" href="/Subtyping/#14315" class="Function">As&lt;:Cs</a> <a id="14322" class="Symbol">:</a> <a id="14324" href="/Subtyping/#14155" class="Bound">ls</a> <a id="14327" href="/Subtyping/#10401" class="Function Operator">⦂</a> <a id="14329" href="/Subtyping/#14160" class="Bound">As</a> <a id="14332" href="/Subtyping/#10401" class="Function Operator">&lt;:</a> <a id="14335" href="/Subtyping/#14194" class="Bound">ns</a> <a id="14338" href="/Subtyping/#10401" class="Function Operator">⦂</a> <a id="14340" href="/Subtyping/#14199" class="Bound">Cs</a>
    <a id="14347" href="/Subtyping/#14315" class="Function">As&lt;:Cs</a> <a id="14354" class="Symbol">{</a><a id="14355" href="/Subtyping/#14355" class="Bound">i</a><a id="14356" class="Symbol">}{</a><a id="14358" href="/Subtyping/#14358" class="Bound">j</a><a id="14359" class="Symbol">}</a> <a id="14361" href="/Subtyping/#14361" class="Bound">lij</a>
        <a id="14373" class="Keyword">with</a> <a id="14378" href="/Subtyping/#7771" class="Function">lookup-⊆</a> <a id="14387" class="Symbol">{</a><a id="14388" class="Argument">i</a> <a id="14390" class="Symbol">=</a> <a id="14392" href="/Subtyping/#14355" class="Bound">i</a><a id="14393" class="Symbol">}</a> <a id="14395" href="/Subtyping/#14245" class="Bound">ns⊆ms</a> 
    <a id="14406" class="Symbol">...</a> <a id="14410" class="Symbol">|</a> <a id="14412" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="14414" href="/Subtyping/#14414" class="Bound">k</a> <a id="14416" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="14418" href="/Subtyping/#14418" class="Bound">lik</a> <a id="14422" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
        <a id="14432" class="Keyword">with</a> <a id="14437" href="/Subtyping/#7771" class="Function">lookup-⊆</a> <a id="14446" class="Symbol">{</a><a id="14447" class="Argument">i</a> <a id="14449" class="Symbol">=</a> <a id="14451" href="/Subtyping/#14414" class="Bound">k</a><a id="14452" class="Symbol">}</a> <a id="14454" href="/Subtyping/#14223" class="Bound">ms⊆ls</a>
    <a id="14464" class="Symbol">...</a> <a id="14468" class="Symbol">|</a> <a id="14470" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="14472" href="/Subtyping/#14472" class="Bound">j&#39;</a> <a id="14475" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="14477" href="/Subtyping/#14477" class="Bound">lkj&#39;</a> <a id="14482" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="14484" class="Keyword">rewrite</a> <a id="14492" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#939" class="Function">sym</a> <a id="14496" href="/Subtyping/#14477" class="Bound">lkj&#39;</a> <a id="14501" class="Symbol">|</a> <a id="14503" class="Bound">lij</a> <a id="14507" class="Symbol">|</a> <a id="14509" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#939" class="Function">sym</a> <a id="14513" class="Bound">lik</a>  <a id="14518" class="Symbol">=</a>
        <a id="14528" class="Keyword">let</a> <a id="14532" href="/Subtyping/#14532" class="Bound">ab</a> <a id="14535" class="Symbol">=</a> <a id="14537" href="/Subtyping/#14229" class="Bound">As&lt;:Bs</a> <a id="14544" class="Symbol">{</a><a id="14545" class="Bound">k</a><a id="14546" class="Symbol">}{</a><a id="14548" class="Bound">j</a><a id="14549" class="Symbol">}</a> <a id="14551" class="Symbol">(</a><a id="14552" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#984" class="Function">trans</a> <a id="14558" class="Bound">lij</a> <a id="14562" class="Bound">lik</a><a id="14565" class="Symbol">)</a> <a id="14567" class="Keyword">in</a>
        <a id="14578" class="Keyword">let</a> <a id="14582" href="/Subtyping/#14582" class="Bound">bc</a> <a id="14585" class="Symbol">=</a> <a id="14587" href="/Subtyping/#14251" class="Bound">Bs&lt;:Cs</a> <a id="14594" class="Symbol">{</a><a id="14595" class="Bound">i</a><a id="14596" class="Symbol">}{</a><a id="14598" class="Bound">k</a><a id="14599" class="Symbol">}</a> <a id="14601" class="Symbol">(</a><a id="14602" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#939" class="Function">sym</a> <a id="14606" class="Bound">lik</a><a id="14609" class="Symbol">)</a> <a id="14611" class="Keyword">in</a>
        <a id="14622" href="/Subtyping/#13873" class="Function">&lt;:-trans</a> <a id="14631" href="/Subtyping/#14532" class="Bound">ab</a> <a id="14634" href="/Subtyping/#14582" class="Bound">bc</a>
</pre>
<h2 id="contexts">Contexts</h2>

<pre class="Agda"><a id="14659" class="Keyword">data</a> <a id="Context"></a><a id="14664" href="/Subtyping/#14664" class="Datatype">Context</a> <a id="14672" class="Symbol">:</a> <a id="14674" class="PrimitiveType">Set</a> <a id="14678" class="Keyword">where</a>
  <a id="Context.∅"></a><a id="14686" href="/Subtyping/#14686" class="InductiveConstructor">∅</a>   <a id="14690" class="Symbol">:</a> <a id="14692" href="/Subtyping/#14664" class="Datatype">Context</a>
  <a id="Context._,_"></a><a id="14702" href="/Subtyping/#14702" class="InductiveConstructor Operator">_,_</a> <a id="14706" class="Symbol">:</a> <a id="14708" href="/Subtyping/#14664" class="Datatype">Context</a> <a id="14716" class="Symbol">→</a> <a id="14718" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="14723" class="Symbol">→</a> <a id="14725" href="/Subtyping/#14664" class="Datatype">Context</a>
</pre>
<h2 id="variables-and-the-lookup-judgment">Variables and the lookup judgment</h2>

<pre class="Agda"><a id="14780" class="Keyword">data</a> <a id="_∋_⦂_"></a><a id="14785" href="/Subtyping/#14785" class="Datatype Operator">_∋_⦂_</a> <a id="14791" class="Symbol">:</a> <a id="14793" href="/Subtyping/#14664" class="Datatype">Context</a> <a id="14801" class="Symbol">→</a> <a id="14803" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="14805" class="Symbol">→</a> <a id="14807" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="14812" class="Symbol">→</a> <a id="14814" class="PrimitiveType">Set</a> <a id="14818" class="Keyword">where</a>

  <a id="_∋_⦂_.Z"></a><a id="14827" href="/Subtyping/#14827" class="InductiveConstructor">Z</a> <a id="14829" class="Symbol">:</a> <a id="14831" class="Symbol">∀</a> <a id="14833" class="Symbol">{</a><a id="14834" href="/Subtyping/#14834" class="Bound">Γ</a> <a id="14836" href="/Subtyping/#14836" class="Bound">A</a><a id="14837" class="Symbol">}</a>
      <a id="14845" class="Comment">------------------</a>
    <a id="14868" class="Symbol">→</a> <a id="14870" href="/Subtyping/#14834" class="Bound">Γ</a> <a id="14872" href="/Subtyping/#14702" class="InductiveConstructor Operator">,</a> <a id="14874" href="/Subtyping/#14836" class="Bound">A</a> <a id="14876" href="/Subtyping/#14785" class="Datatype Operator">∋</a> <a id="14878" class="Number">0</a> <a id="14880" href="/Subtyping/#14785" class="Datatype Operator">⦂</a> <a id="14882" href="/Subtyping/#14836" class="Bound">A</a>

  <a id="_∋_⦂_.S"></a><a id="14887" href="/Subtyping/#14887" class="InductiveConstructor">S</a> <a id="14889" class="Symbol">:</a> <a id="14891" class="Symbol">∀</a> <a id="14893" class="Symbol">{</a><a id="14894" href="/Subtyping/#14894" class="Bound">Γ</a> <a id="14896" href="/Subtyping/#14896" class="Bound">x</a> <a id="14898" href="/Subtyping/#14898" class="Bound">A</a> <a id="14900" href="/Subtyping/#14900" class="Bound">B</a><a id="14901" class="Symbol">}</a>
    <a id="14907" class="Symbol">→</a> <a id="14909" href="/Subtyping/#14894" class="Bound">Γ</a> <a id="14911" href="/Subtyping/#14785" class="Datatype Operator">∋</a> <a id="14913" href="/Subtyping/#14896" class="Bound">x</a> <a id="14915" href="/Subtyping/#14785" class="Datatype Operator">⦂</a> <a id="14917" href="/Subtyping/#14898" class="Bound">A</a>
      <a id="14925" class="Comment">------------------</a>
    <a id="14948" class="Symbol">→</a> <a id="14950" href="/Subtyping/#14894" class="Bound">Γ</a> <a id="14952" href="/Subtyping/#14702" class="InductiveConstructor Operator">,</a> <a id="14954" href="/Subtyping/#14900" class="Bound">B</a> <a id="14956" href="/Subtyping/#14785" class="Datatype Operator">∋</a> <a id="14958" class="Symbol">(</a><a id="14959" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="14963" href="/Subtyping/#14896" class="Bound">x</a><a id="14964" class="Symbol">)</a> <a id="14966" href="/Subtyping/#14785" class="Datatype Operator">⦂</a> <a id="14968" href="/Subtyping/#14898" class="Bound">A</a>
</pre>
<h2 id="terms-and-the-typing-judgment">Terms and the typing judgment</h2>

<pre class="Agda"><a id="Id"></a><a id="15013" href="/Subtyping/#15013" class="Function">Id</a> <a id="15016" class="Symbol">:</a> <a id="15018" class="PrimitiveType">Set</a>
<a id="15022" href="/Subtyping/#15013" class="Function">Id</a> <a id="15025" class="Symbol">=</a> <a id="15027" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>
</pre>
<pre class="Agda"><a id="15038" class="Keyword">data</a> <a id="Term"></a><a id="15043" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="15048" class="Symbol">:</a> <a id="15050" class="PrimitiveType">Set</a> <a id="15054" class="Keyword">where</a>
  <a id="Term.`_"></a><a id="15062" href="/Subtyping/#15062" class="InductiveConstructor Operator">`_</a>                      <a id="15086" class="Symbol">:</a> <a id="15088" href="/Subtyping/#15013" class="Function">Id</a> <a id="15091" class="Symbol">→</a> <a id="15093" href="/Subtyping/#15043" class="Datatype">Term</a>
  <a id="Term.ƛ_"></a><a id="15100" href="/Subtyping/#15100" class="InductiveConstructor Operator">ƛ_</a>                      <a id="15124" class="Symbol">:</a> <a id="15126" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="15131" class="Symbol">→</a> <a id="15133" href="/Subtyping/#15043" class="Datatype">Term</a>
  <a id="Term._·_"></a><a id="15140" href="/Subtyping/#15140" class="InductiveConstructor Operator">_·_</a>                     <a id="15164" class="Symbol">:</a> <a id="15166" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="15171" class="Symbol">→</a> <a id="15173" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="15178" class="Symbol">→</a> <a id="15180" href="/Subtyping/#15043" class="Datatype">Term</a>
  <a id="Term.`zero"></a><a id="15187" href="/Subtyping/#15187" class="InductiveConstructor">`zero</a>                   <a id="15211" class="Symbol">:</a> <a id="15213" href="/Subtyping/#15043" class="Datatype">Term</a>
  <a id="Term.`suc_"></a><a id="15220" href="/Subtyping/#15220" class="InductiveConstructor Operator">`suc_</a>                   <a id="15244" class="Symbol">:</a> <a id="15246" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="15251" class="Symbol">→</a> <a id="15253" href="/Subtyping/#15043" class="Datatype">Term</a>
  <a id="Term.case_[zero⇒_|suc⇒_]"></a><a id="15260" href="/Subtyping/#15260" class="InductiveConstructor Operator">case_[zero⇒_|suc⇒_]</a>     <a id="15284" class="Symbol">:</a> <a id="15286" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="15291" class="Symbol">→</a> <a id="15293" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="15298" class="Symbol">→</a> <a id="15300" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="15305" class="Symbol">→</a> <a id="15307" href="/Subtyping/#15043" class="Datatype">Term</a>
  <a id="Term.μ_"></a><a id="15314" href="/Subtyping/#15314" class="InductiveConstructor Operator">μ_</a>                      <a id="15338" class="Symbol">:</a> <a id="15340" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="15345" class="Symbol">→</a> <a id="15347" href="/Subtyping/#15043" class="Datatype">Term</a>
  <a id="Term.｛_:=_｝"></a><a id="15354" href="/Subtyping/#15354" class="InductiveConstructor Operator">｛_:=_｝</a>                 <a id="15377" class="Symbol">:</a> <a id="15379" class="Symbol">{</a><a id="15380" href="/Subtyping/#15380" class="Bound">n</a> <a id="15382" class="Symbol">:</a> <a id="15384" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="15385" class="Symbol">}</a> <a id="15387" class="Symbol">(</a><a id="15388" href="/Subtyping/#15388" class="Bound">ls</a> <a id="15391" class="Symbol">:</a> <a id="15393" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="15397" href="/Subtyping/#4420" class="Function">Name</a> <a id="15402" href="/Subtyping/#15380" class="Bound">n</a><a id="15403" class="Symbol">)</a> <a id="15405" class="Symbol">(</a><a id="15406" href="/Subtyping/#15406" class="Bound">Ms</a> <a id="15409" class="Symbol">:</a> <a id="15411" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="15415" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="15420" href="/Subtyping/#15380" class="Bound">n</a><a id="15421" class="Symbol">)</a> <a id="15423" class="Symbol">→</a> <a id="15425" href="/Subtyping/#15043" class="Datatype">Term</a>
  <a id="Term._#_"></a><a id="15432" href="/Subtyping/#15432" class="InductiveConstructor Operator">_#_</a>                     <a id="15456" class="Symbol">:</a> <a id="15458" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="15463" class="Symbol">→</a> <a id="15465" href="/Subtyping/#4420" class="Function">Name</a> <a id="15470" class="Symbol">→</a> <a id="15472" href="/Subtyping/#15043" class="Datatype">Term</a>
</pre>
<pre class="Agda"><a id="15486" class="Keyword">data</a> <a id="_⊢*_⦂_"></a><a id="15491" href="/Subtyping/#15491" class="Datatype Operator">_⊢*_⦂_</a> <a id="15498" class="Symbol">:</a> <a id="15500" href="/Subtyping/#14664" class="Datatype">Context</a> <a id="15508" class="Symbol">→</a> <a id="15510" class="Symbol">∀</a> <a id="15512" class="Symbol">{</a><a id="15513" href="/Subtyping/#15513" class="Bound">n</a><a id="15514" class="Symbol">}</a> <a id="15516" class="Symbol">→</a> <a id="15518" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="15522" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="15527" href="/Subtyping/#15513" class="Bound">n</a> <a id="15529" class="Symbol">→</a> <a id="15531" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="15535" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="15540" href="/Subtyping/#15513" class="Bound">n</a> <a id="15542" class="Symbol">→</a> <a id="15544" class="PrimitiveType">Set</a> 

<a id="15550" class="Keyword">data</a> <a id="_⊢_⦂_"></a><a id="15555" href="/Subtyping/#15555" class="Datatype Operator">_⊢_⦂_</a> <a id="15561" class="Symbol">:</a> <a id="15563" href="/Subtyping/#14664" class="Datatype">Context</a> <a id="15571" class="Symbol">→</a> <a id="15573" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="15578" class="Symbol">→</a> <a id="15580" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="15585" class="Symbol">→</a> <a id="15587" class="PrimitiveType">Set</a> <a id="15591" class="Keyword">where</a>

  <a id="_⊢_⦂_.⊢`"></a><a id="15600" href="/Subtyping/#15600" class="InductiveConstructor">⊢`</a> <a id="15603" class="Symbol">:</a> <a id="15605" class="Symbol">∀</a> <a id="15607" class="Symbol">{</a><a id="15608" href="/Subtyping/#15608" class="Bound">Γ</a> <a id="15610" href="/Subtyping/#15610" class="Bound">x</a> <a id="15612" href="/Subtyping/#15612" class="Bound">A</a><a id="15613" class="Symbol">}</a>
    <a id="15619" class="Symbol">→</a> <a id="15621" href="/Subtyping/#15608" class="Bound">Γ</a> <a id="15623" href="/Subtyping/#14785" class="Datatype Operator">∋</a> <a id="15625" href="/Subtyping/#15610" class="Bound">x</a> <a id="15627" href="/Subtyping/#14785" class="Datatype Operator">⦂</a> <a id="15629" href="/Subtyping/#15612" class="Bound">A</a>
      <a id="15637" class="Comment">-----------</a>
    <a id="15653" class="Symbol">→</a> <a id="15655" href="/Subtyping/#15608" class="Bound">Γ</a> <a id="15657" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="15659" href="/Subtyping/#15062" class="InductiveConstructor Operator">`</a> <a id="15661" href="/Subtyping/#15610" class="Bound">x</a> <a id="15663" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="15665" href="/Subtyping/#15612" class="Bound">A</a>

  <a id="_⊢_⦂_.⊢ƛ"></a><a id="15670" href="/Subtyping/#15670" class="InductiveConstructor">⊢ƛ</a>  <a id="15674" class="Symbol">:</a> <a id="15676" class="Symbol">∀</a> <a id="15678" class="Symbol">{</a><a id="15679" href="/Subtyping/#15679" class="Bound">Γ</a> <a id="15681" href="/Subtyping/#15681" class="Bound">A</a> <a id="15683" href="/Subtyping/#15683" class="Bound">B</a> <a id="15685" href="/Subtyping/#15685" class="Bound">N</a><a id="15686" class="Symbol">}</a>
    <a id="15692" class="Symbol">→</a> <a id="15694" class="Symbol">(</a><a id="15695" href="/Subtyping/#15679" class="Bound">Γ</a> <a id="15697" href="/Subtyping/#14702" class="InductiveConstructor Operator">,</a> <a id="15699" href="/Subtyping/#15681" class="Bound">A</a><a id="15700" class="Symbol">)</a> <a id="15702" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="15704" href="/Subtyping/#15685" class="Bound">N</a> <a id="15706" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="15708" href="/Subtyping/#15683" class="Bound">B</a>
      <a id="15716" class="Comment">---------------</a>
    <a id="15736" class="Symbol">→</a> <a id="15738" href="/Subtyping/#15679" class="Bound">Γ</a> <a id="15740" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="15742" class="Symbol">(</a><a id="15743" href="/Subtyping/#15100" class="InductiveConstructor Operator">ƛ</a> <a id="15745" href="/Subtyping/#15685" class="Bound">N</a><a id="15746" class="Symbol">)</a> <a id="15748" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="15750" href="/Subtyping/#15681" class="Bound">A</a> <a id="15752" href="/Subtyping/#8204" class="InductiveConstructor Operator">⇒</a> <a id="15754" href="/Subtyping/#15683" class="Bound">B</a>

  <a id="_⊢_⦂_.⊢·"></a><a id="15759" href="/Subtyping/#15759" class="InductiveConstructor">⊢·</a> <a id="15762" class="Symbol">:</a> <a id="15764" class="Symbol">∀</a> <a id="15766" class="Symbol">{</a><a id="15767" href="/Subtyping/#15767" class="Bound">Γ</a> <a id="15769" href="/Subtyping/#15769" class="Bound">A</a> <a id="15771" href="/Subtyping/#15771" class="Bound">B</a> <a id="15773" href="/Subtyping/#15773" class="Bound">L</a> <a id="15775" href="/Subtyping/#15775" class="Bound">M</a><a id="15776" class="Symbol">}</a>
    <a id="15782" class="Symbol">→</a> <a id="15784" href="/Subtyping/#15767" class="Bound">Γ</a> <a id="15786" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="15788" href="/Subtyping/#15773" class="Bound">L</a> <a id="15790" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="15792" href="/Subtyping/#15769" class="Bound">A</a> <a id="15794" href="/Subtyping/#8204" class="InductiveConstructor Operator">⇒</a> <a id="15796" href="/Subtyping/#15771" class="Bound">B</a>
    <a id="15802" class="Symbol">→</a> <a id="15804" href="/Subtyping/#15767" class="Bound">Γ</a> <a id="15806" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="15808" href="/Subtyping/#15775" class="Bound">M</a> <a id="15810" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="15812" href="/Subtyping/#15769" class="Bound">A</a>
      <a id="15820" class="Comment">-------------</a>
    <a id="15838" class="Symbol">→</a> <a id="15840" href="/Subtyping/#15767" class="Bound">Γ</a> <a id="15842" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="15844" href="/Subtyping/#15773" class="Bound">L</a> <a id="15846" href="/Subtyping/#15140" class="InductiveConstructor Operator">·</a> <a id="15848" href="/Subtyping/#15775" class="Bound">M</a> <a id="15850" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="15852" href="/Subtyping/#15771" class="Bound">B</a>

  <a id="_⊢_⦂_.⊢zero"></a><a id="15857" href="/Subtyping/#15857" class="InductiveConstructor">⊢zero</a> <a id="15863" class="Symbol">:</a> <a id="15865" class="Symbol">∀</a> <a id="15867" class="Symbol">{</a><a id="15868" href="/Subtyping/#15868" class="Bound">Γ</a><a id="15869" class="Symbol">}</a>
      <a id="15877" class="Comment">--------------</a>
    <a id="15896" class="Symbol">→</a> <a id="15898" href="/Subtyping/#15868" class="Bound">Γ</a> <a id="15900" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="15902" href="/Subtyping/#15187" class="InductiveConstructor">`zero</a> <a id="15908" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="15910" href="/Subtyping/#8233" class="InductiveConstructor">`ℕ</a>

  <a id="_⊢_⦂_.⊢suc"></a><a id="15916" href="/Subtyping/#15916" class="InductiveConstructor">⊢suc</a> <a id="15921" class="Symbol">:</a> <a id="15923" class="Symbol">∀</a> <a id="15925" class="Symbol">{</a><a id="15926" href="/Subtyping/#15926" class="Bound">Γ</a> <a id="15928" href="/Subtyping/#15928" class="Bound">M</a><a id="15929" class="Symbol">}</a>
    <a id="15935" class="Symbol">→</a> <a id="15937" href="/Subtyping/#15926" class="Bound">Γ</a> <a id="15939" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="15941" href="/Subtyping/#15928" class="Bound">M</a> <a id="15943" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="15945" href="/Subtyping/#8233" class="InductiveConstructor">`ℕ</a>
      <a id="15954" class="Comment">---------------</a>
    <a id="15974" class="Symbol">→</a> <a id="15976" href="/Subtyping/#15926" class="Bound">Γ</a> <a id="15978" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="15980" href="/Subtyping/#15220" class="InductiveConstructor Operator">`suc</a> <a id="15985" href="/Subtyping/#15928" class="Bound">M</a> <a id="15987" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="15989" href="/Subtyping/#8233" class="InductiveConstructor">`ℕ</a>

  <a id="_⊢_⦂_.⊢case"></a><a id="15995" href="/Subtyping/#15995" class="InductiveConstructor">⊢case</a> <a id="16001" class="Symbol">:</a> <a id="16003" class="Symbol">∀</a> <a id="16005" class="Symbol">{</a><a id="16006" href="/Subtyping/#16006" class="Bound">Γ</a> <a id="16008" href="/Subtyping/#16008" class="Bound">A</a> <a id="16010" href="/Subtyping/#16010" class="Bound">L</a> <a id="16012" href="/Subtyping/#16012" class="Bound">M</a> <a id="16014" href="/Subtyping/#16014" class="Bound">N</a><a id="16015" class="Symbol">}</a>
    <a id="16021" class="Symbol">→</a> <a id="16023" href="/Subtyping/#16006" class="Bound">Γ</a> <a id="16025" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="16027" href="/Subtyping/#16010" class="Bound">L</a> <a id="16029" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="16031" href="/Subtyping/#8233" class="InductiveConstructor">`ℕ</a>
    <a id="16038" class="Symbol">→</a> <a id="16040" href="/Subtyping/#16006" class="Bound">Γ</a> <a id="16042" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="16044" href="/Subtyping/#16012" class="Bound">M</a> <a id="16046" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="16048" href="/Subtyping/#16008" class="Bound">A</a>
    <a id="16054" class="Symbol">→</a> <a id="16056" href="/Subtyping/#16006" class="Bound">Γ</a> <a id="16058" href="/Subtyping/#14702" class="InductiveConstructor Operator">,</a> <a id="16060" href="/Subtyping/#8233" class="InductiveConstructor">`ℕ</a> <a id="16063" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="16065" href="/Subtyping/#16014" class="Bound">N</a> <a id="16067" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="16069" href="/Subtyping/#16008" class="Bound">A</a>
      <a id="16077" class="Comment">---------------------------------</a>
    <a id="16115" class="Symbol">→</a> <a id="16117" href="/Subtyping/#16006" class="Bound">Γ</a> <a id="16119" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="16121" href="/Subtyping/#15260" class="InductiveConstructor Operator">case</a> <a id="16126" href="/Subtyping/#16010" class="Bound">L</a> <a id="16128" href="/Subtyping/#15260" class="InductiveConstructor Operator">[zero⇒</a> <a id="16135" href="/Subtyping/#16012" class="Bound">M</a> <a id="16137" href="/Subtyping/#15260" class="InductiveConstructor Operator">|suc⇒</a> <a id="16143" href="/Subtyping/#16014" class="Bound">N</a> <a id="16145" href="/Subtyping/#15260" class="InductiveConstructor Operator">]</a> <a id="16147" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="16149" href="/Subtyping/#16008" class="Bound">A</a>

  <a id="_⊢_⦂_.⊢μ"></a><a id="16154" href="/Subtyping/#16154" class="InductiveConstructor">⊢μ</a> <a id="16157" class="Symbol">:</a> <a id="16159" class="Symbol">∀</a> <a id="16161" class="Symbol">{</a><a id="16162" href="/Subtyping/#16162" class="Bound">Γ</a> <a id="16164" href="/Subtyping/#16164" class="Bound">A</a> <a id="16166" href="/Subtyping/#16166" class="Bound">M</a><a id="16167" class="Symbol">}</a>
    <a id="16173" class="Symbol">→</a> <a id="16175" href="/Subtyping/#16162" class="Bound">Γ</a> <a id="16177" href="/Subtyping/#14702" class="InductiveConstructor Operator">,</a> <a id="16179" href="/Subtyping/#16164" class="Bound">A</a> <a id="16181" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="16183" href="/Subtyping/#16166" class="Bound">M</a> <a id="16185" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="16187" href="/Subtyping/#16164" class="Bound">A</a>
      <a id="16195" class="Comment">-------------</a>
    <a id="16213" class="Symbol">→</a> <a id="16215" href="/Subtyping/#16162" class="Bound">Γ</a> <a id="16217" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="16219" href="/Subtyping/#15314" class="InductiveConstructor Operator">μ</a> <a id="16221" href="/Subtyping/#16166" class="Bound">M</a> <a id="16223" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="16225" href="/Subtyping/#16164" class="Bound">A</a>

  <a id="_⊢_⦂_.⊢rcd"></a><a id="16230" href="/Subtyping/#16230" class="InductiveConstructor">⊢rcd</a> <a id="16235" class="Symbol">:</a> <a id="16237" class="Symbol">∀</a> <a id="16239" class="Symbol">{</a><a id="16240" href="/Subtyping/#16240" class="Bound">Γ</a> <a id="16242" href="/Subtyping/#16242" class="Bound">n</a><a id="16243" class="Symbol">}{</a><a id="16245" href="/Subtyping/#16245" class="Bound">Ms</a> <a id="16248" class="Symbol">:</a> <a id="16250" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="16254" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="16259" href="/Subtyping/#16242" class="Bound">n</a><a id="16260" class="Symbol">}{</a><a id="16262" href="/Subtyping/#16262" class="Bound">As</a> <a id="16265" class="Symbol">:</a> <a id="16267" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="16271" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="16276" href="/Subtyping/#16242" class="Bound">n</a><a id="16277" class="Symbol">}{</a><a id="16279" href="/Subtyping/#16279" class="Bound">ls</a> <a id="16282" class="Symbol">:</a> <a id="16284" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="16288" href="/Subtyping/#4420" class="Function">Name</a> <a id="16293" href="/Subtyping/#16242" class="Bound">n</a><a id="16294" class="Symbol">}</a>
     <a id="16301" class="Symbol">→</a> <a id="16303" href="/Subtyping/#16240" class="Bound">Γ</a> <a id="16305" href="/Subtyping/#15491" class="Datatype Operator">⊢*</a> <a id="16308" href="/Subtyping/#16245" class="Bound">Ms</a> <a id="16311" href="/Subtyping/#15491" class="Datatype Operator">⦂</a> <a id="16313" href="/Subtyping/#16262" class="Bound">As</a>
     <a id="16321" class="Symbol">→</a> <a id="16323" class="Symbol">(</a><a id="16324" href="/Subtyping/#16324" class="Bound">d</a> <a id="16326" class="Symbol">:</a> <a id="16328" href="/Subtyping/#5171" class="Function">distinct</a> <a id="16337" href="/Subtyping/#16279" class="Bound">ls</a><a id="16339" class="Symbol">)</a>
     <a id="16346" class="Symbol">→</a> <a id="16348" href="/Subtyping/#16240" class="Bound">Γ</a> <a id="16350" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="16352" href="/Subtyping/#15354" class="InductiveConstructor Operator">｛</a> <a id="16354" href="/Subtyping/#16279" class="Bound">ls</a> <a id="16357" href="/Subtyping/#15354" class="InductiveConstructor Operator">:=</a> <a id="16360" href="/Subtyping/#16245" class="Bound">Ms</a> <a id="16363" href="/Subtyping/#15354" class="InductiveConstructor Operator">｝</a> <a id="16365" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="16367" href="/Subtyping/#8248" class="InductiveConstructor Operator">｛</a> <a id="16369" href="/Subtyping/#16279" class="Bound">ls</a> <a id="16372" href="/Subtyping/#8248" class="InductiveConstructor Operator">⦂</a> <a id="16374" href="/Subtyping/#16262" class="Bound">As</a> <a id="16377" href="/Subtyping/#8248" class="InductiveConstructor Operator">｝</a> <a id="16379" class="Symbol">{</a><a id="16380" href="/Subtyping/#16324" class="Bound">d</a><a id="16381" class="Symbol">}</a>


  <a id="_⊢_⦂_.⊢#"></a><a id="16387" href="/Subtyping/#16387" class="InductiveConstructor">⊢#</a> <a id="16390" class="Symbol">:</a> <a id="16392" class="Symbol">∀</a> <a id="16394" class="Symbol">{</a><a id="16395" href="/Subtyping/#16395" class="Bound">n</a> <a id="16397" class="Symbol">:</a> <a id="16399" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="16400" class="Symbol">}{</a><a id="16402" href="/Subtyping/#16402" class="Bound">Γ</a> <a id="16404" href="/Subtyping/#16404" class="Bound">A</a> <a id="16406" href="/Subtyping/#16406" class="Bound">M</a> <a id="16408" href="/Subtyping/#16408" class="Bound">l</a><a id="16409" class="Symbol">}{</a><a id="16411" href="/Subtyping/#16411" class="Bound">ls</a> <a id="16414" class="Symbol">:</a> <a id="16416" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="16420" href="/Subtyping/#4420" class="Function">Name</a> <a id="16425" href="/Subtyping/#16395" class="Bound">n</a><a id="16426" class="Symbol">}{</a><a id="16428" href="/Subtyping/#16428" class="Bound">As</a> <a id="16431" class="Symbol">:</a> <a id="16433" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="16437" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="16442" href="/Subtyping/#16395" class="Bound">n</a><a id="16443" class="Symbol">}{</a><a id="16445" href="/Subtyping/#16445" class="Bound">i</a><a id="16446" class="Symbol">}{</a><a id="16448" href="/Subtyping/#16448" class="Bound">d</a><a id="16449" class="Symbol">}</a>
     <a id="16456" class="Symbol">→</a> <a id="16458" href="/Subtyping/#16402" class="Bound">Γ</a> <a id="16460" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="16462" href="/Subtyping/#16406" class="Bound">M</a> <a id="16464" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="16466" href="/Subtyping/#8248" class="InductiveConstructor Operator">｛</a> <a id="16468" href="/Subtyping/#16411" class="Bound">ls</a> <a id="16471" href="/Subtyping/#8248" class="InductiveConstructor Operator">⦂</a> <a id="16473" href="/Subtyping/#16428" class="Bound">As</a> <a id="16476" href="/Subtyping/#8248" class="InductiveConstructor Operator">｝</a><a id="16477" class="Symbol">{</a><a id="16478" href="/Subtyping/#16448" class="Bound">d</a><a id="16479" class="Symbol">}</a>
     <a id="16486" class="Symbol">→</a> <a id="16488" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="16495" href="/Subtyping/#16411" class="Bound">ls</a> <a id="16498" href="/Subtyping/#16445" class="Bound">i</a> <a id="16500" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="16502" href="/Subtyping/#16408" class="Bound">l</a>
     <a id="16509" class="Symbol">→</a> <a id="16511" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="16518" href="/Subtyping/#16428" class="Bound">As</a> <a id="16521" href="/Subtyping/#16445" class="Bound">i</a> <a id="16523" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="16525" href="/Subtyping/#16404" class="Bound">A</a>
     <a id="16532" class="Symbol">→</a> <a id="16534" href="/Subtyping/#16402" class="Bound">Γ</a> <a id="16536" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="16538" href="/Subtyping/#16406" class="Bound">M</a> <a id="16540" href="/Subtyping/#15432" class="InductiveConstructor Operator">#</a> <a id="16542" href="/Subtyping/#16408" class="Bound">l</a> <a id="16544" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="16546" href="/Subtyping/#16404" class="Bound">A</a>

  <a id="_⊢_⦂_.⊢&lt;:"></a><a id="16551" href="/Subtyping/#16551" class="InductiveConstructor">⊢&lt;:</a> <a id="16555" class="Symbol">:</a> <a id="16557" class="Symbol">∀{</a><a id="16559" href="/Subtyping/#16559" class="Bound">Γ</a> <a id="16561" href="/Subtyping/#16561" class="Bound">M</a> <a id="16563" href="/Subtyping/#16563" class="Bound">A</a> <a id="16565" href="/Subtyping/#16565" class="Bound">B</a><a id="16566" class="Symbol">}</a>
    <a id="16572" class="Symbol">→</a> <a id="16574" href="/Subtyping/#16559" class="Bound">Γ</a> <a id="16576" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="16578" href="/Subtyping/#16561" class="Bound">M</a> <a id="16580" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="16582" href="/Subtyping/#16563" class="Bound">A</a>   <a id="16586" class="Symbol">→</a> <a id="16588" href="/Subtyping/#16563" class="Bound">A</a> <a id="16590" href="/Subtyping/#8796" class="Datatype Operator">&lt;:</a> <a id="16593" href="/Subtyping/#16565" class="Bound">B</a>
      <a id="16601" class="Comment">--------------------</a>
    <a id="16626" class="Symbol">→</a> <a id="16628" href="/Subtyping/#16559" class="Bound">Γ</a> <a id="16630" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="16632" href="/Subtyping/#16561" class="Bound">M</a> <a id="16634" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="16636" href="/Subtyping/#16565" class="Bound">B</a>

<a id="16639" class="Keyword">data</a> <a id="16644" href="/Subtyping/#15491" class="Datatype Operator">_⊢*_⦂_</a> <a id="16651" class="Keyword">where</a>
  <a id="_⊢*_⦂_.⊢*-[]"></a><a id="16659" href="/Subtyping/#16659" class="InductiveConstructor">⊢*-[]</a> <a id="16665" class="Symbol">:</a> <a id="16667" class="Symbol">∀{</a><a id="16669" href="/Subtyping/#16669" class="Bound">Γ</a><a id="16670" class="Symbol">}</a> <a id="16672" class="Symbol">→</a> <a id="16674" href="/Subtyping/#16669" class="Bound">Γ</a> <a id="16676" href="/Subtyping/#15491" class="Datatype Operator">⊢*</a> <a id="16679" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#971" class="InductiveConstructor">[]</a> <a id="16682" href="/Subtyping/#15491" class="Datatype Operator">⦂</a> <a id="16684" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#971" class="InductiveConstructor">[]</a>

  <a id="_⊢*_⦂_.⊢*-∷"></a><a id="16690" href="/Subtyping/#16690" class="InductiveConstructor">⊢*-∷</a> <a id="16695" class="Symbol">:</a> <a id="16697" class="Symbol">∀</a> <a id="16699" class="Symbol">{</a><a id="16700" href="/Subtyping/#16700" class="Bound">n</a><a id="16701" class="Symbol">}{</a><a id="16703" href="/Subtyping/#16703" class="Bound">Γ</a> <a id="16705" href="/Subtyping/#16705" class="Bound">M</a><a id="16706" class="Symbol">}{</a><a id="16708" href="/Subtyping/#16708" class="Bound">Ms</a> <a id="16711" class="Symbol">:</a> <a id="16713" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="16717" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="16722" href="/Subtyping/#16700" class="Bound">n</a><a id="16723" class="Symbol">}{</a><a id="16725" href="/Subtyping/#16725" class="Bound">A</a><a id="16726" class="Symbol">}{</a><a id="16728" href="/Subtyping/#16728" class="Bound">As</a> <a id="16731" class="Symbol">:</a> <a id="16733" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="16737" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="16742" href="/Subtyping/#16700" class="Bound">n</a><a id="16743" class="Symbol">}</a>
     <a id="16750" class="Symbol">→</a> <a id="16752" href="/Subtyping/#16703" class="Bound">Γ</a> <a id="16754" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="16756" href="/Subtyping/#16705" class="Bound">M</a> <a id="16758" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="16760" href="/Subtyping/#16725" class="Bound">A</a>
     <a id="16767" class="Symbol">→</a> <a id="16769" href="/Subtyping/#16703" class="Bound">Γ</a> <a id="16771" href="/Subtyping/#15491" class="Datatype Operator">⊢*</a> <a id="16774" href="/Subtyping/#16708" class="Bound">Ms</a> <a id="16777" href="/Subtyping/#15491" class="Datatype Operator">⦂</a> <a id="16779" href="/Subtyping/#16728" class="Bound">As</a>
     <a id="16787" class="Symbol">→</a> <a id="16789" href="/Subtyping/#16703" class="Bound">Γ</a> <a id="16791" href="/Subtyping/#15491" class="Datatype Operator">⊢*</a> <a id="16794" class="Symbol">(</a><a id="16795" href="/Subtyping/#16705" class="Bound">M</a> <a id="16797" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="16799" href="/Subtyping/#16708" class="Bound">Ms</a><a id="16801" class="Symbol">)</a> <a id="16803" href="/Subtyping/#15491" class="Datatype Operator">⦂</a> <a id="16805" class="Symbol">(</a><a id="16806" href="/Subtyping/#16725" class="Bound">A</a> <a id="16808" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="16810" href="/Subtyping/#16728" class="Bound">As</a><a id="16812" class="Symbol">)</a>
</pre>

<h2 id="renaming-and-substitution">Renaming and Substitution</h2>

<pre class="Agda"><a id="ext"></a><a id="16854" href="/Subtyping/#16854" class="Function">ext</a> <a id="16858" class="Symbol">:</a> <a id="16860" class="Symbol">(</a><a id="16861" href="/Subtyping/#15013" class="Function">Id</a> <a id="16864" class="Symbol">→</a> <a id="16866" href="/Subtyping/#15013" class="Function">Id</a><a id="16868" class="Symbol">)</a> <a id="16870" class="Symbol">→</a> <a id="16872" class="Symbol">(</a><a id="16873" href="/Subtyping/#15013" class="Function">Id</a> <a id="16876" class="Symbol">→</a> <a id="16878" href="/Subtyping/#15013" class="Function">Id</a><a id="16880" class="Symbol">)</a>
<a id="16882" href="/Subtyping/#16854" class="Function">ext</a> <a id="16886" href="/Subtyping/#16886" class="Bound">ρ</a> <a id="16888" class="Number">0</a>      <a id="16895" class="Symbol">=</a>  <a id="16898" class="Number">0</a>
<a id="16900" href="/Subtyping/#16854" class="Function">ext</a> <a id="16904" href="/Subtyping/#16904" class="Bound">ρ</a> <a id="16906" class="Symbol">(</a><a id="16907" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="16911" href="/Subtyping/#16911" class="Bound">x</a><a id="16912" class="Symbol">)</a>  <a id="16915" class="Symbol">=</a>  <a id="16918" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="16922" class="Symbol">(</a><a id="16923" href="/Subtyping/#16904" class="Bound">ρ</a> <a id="16925" href="/Subtyping/#16911" class="Bound">x</a><a id="16926" class="Symbol">)</a>
</pre>
<pre class="Agda"><a id="rename-vec"></a><a id="16937" href="/Subtyping/#16937" class="Function">rename-vec</a> <a id="16948" class="Symbol">:</a> <a id="16950" class="Symbol">(</a><a id="16951" href="/Subtyping/#15013" class="Function">Id</a> <a id="16954" class="Symbol">→</a> <a id="16956" href="/Subtyping/#15013" class="Function">Id</a><a id="16958" class="Symbol">)</a> <a id="16960" class="Symbol">→</a> <a id="16962" class="Symbol">∀{</a><a id="16964" href="/Subtyping/#16964" class="Bound">n</a><a id="16965" class="Symbol">}</a> <a id="16967" class="Symbol">→</a> <a id="16969" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="16973" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="16978" href="/Subtyping/#16964" class="Bound">n</a> <a id="16980" class="Symbol">→</a> <a id="16982" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="16986" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="16991" href="/Subtyping/#16964" class="Bound">n</a>

<a id="rename"></a><a id="16994" href="/Subtyping/#16994" class="Function">rename</a> <a id="17001" class="Symbol">:</a> <a id="17003" class="Symbol">(</a><a id="17004" href="/Subtyping/#15013" class="Function">Id</a> <a id="17007" class="Symbol">→</a> <a id="17009" href="/Subtyping/#15013" class="Function">Id</a><a id="17011" class="Symbol">)</a> <a id="17013" class="Symbol">→</a> <a id="17015" class="Symbol">(</a><a id="17016" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="17021" class="Symbol">→</a> <a id="17023" href="/Subtyping/#15043" class="Datatype">Term</a><a id="17027" class="Symbol">)</a>
<a id="17029" href="/Subtyping/#16994" class="Function">rename</a> <a id="17036" href="/Subtyping/#17036" class="Bound">ρ</a> <a id="17038" class="Symbol">(</a><a id="17039" href="/Subtyping/#15062" class="InductiveConstructor Operator">`</a> <a id="17041" href="/Subtyping/#17041" class="Bound">x</a><a id="17042" class="Symbol">)</a>          <a id="17053" class="Symbol">=</a>  <a id="17056" href="/Subtyping/#15062" class="InductiveConstructor Operator">`</a> <a id="17058" class="Symbol">(</a><a id="17059" href="/Subtyping/#17036" class="Bound">ρ</a> <a id="17061" href="/Subtyping/#17041" class="Bound">x</a><a id="17062" class="Symbol">)</a>
<a id="17064" href="/Subtyping/#16994" class="Function">rename</a> <a id="17071" href="/Subtyping/#17071" class="Bound">ρ</a> <a id="17073" class="Symbol">(</a><a id="17074" href="/Subtyping/#15100" class="InductiveConstructor Operator">ƛ</a> <a id="17076" href="/Subtyping/#17076" class="Bound">N</a><a id="17077" class="Symbol">)</a>          <a id="17088" class="Symbol">=</a>  <a id="17091" href="/Subtyping/#15100" class="InductiveConstructor Operator">ƛ</a> <a id="17093" class="Symbol">(</a><a id="17094" href="/Subtyping/#16994" class="Function">rename</a> <a id="17101" class="Symbol">(</a><a id="17102" href="/Subtyping/#16854" class="Function">ext</a> <a id="17106" href="/Subtyping/#17071" class="Bound">ρ</a><a id="17107" class="Symbol">)</a> <a id="17109" href="/Subtyping/#17076" class="Bound">N</a><a id="17110" class="Symbol">)</a>
<a id="17112" href="/Subtyping/#16994" class="Function">rename</a> <a id="17119" href="/Subtyping/#17119" class="Bound">ρ</a> <a id="17121" class="Symbol">(</a><a id="17122" href="/Subtyping/#17122" class="Bound">L</a> <a id="17124" href="/Subtyping/#15140" class="InductiveConstructor Operator">·</a> <a id="17126" href="/Subtyping/#17126" class="Bound">M</a><a id="17127" class="Symbol">)</a>        <a id="17136" class="Symbol">=</a>  <a id="17139" class="Symbol">(</a><a id="17140" href="/Subtyping/#16994" class="Function">rename</a> <a id="17147" href="/Subtyping/#17119" class="Bound">ρ</a> <a id="17149" href="/Subtyping/#17122" class="Bound">L</a><a id="17150" class="Symbol">)</a> <a id="17152" href="/Subtyping/#15140" class="InductiveConstructor Operator">·</a> <a id="17154" class="Symbol">(</a><a id="17155" href="/Subtyping/#16994" class="Function">rename</a> <a id="17162" href="/Subtyping/#17119" class="Bound">ρ</a> <a id="17164" href="/Subtyping/#17126" class="Bound">M</a><a id="17165" class="Symbol">)</a>
<a id="17167" href="/Subtyping/#16994" class="Function">rename</a> <a id="17174" href="/Subtyping/#17174" class="Bound">ρ</a> <a id="17176" class="Symbol">(</a><a id="17177" href="/Subtyping/#15187" class="InductiveConstructor">`zero</a><a id="17182" class="Symbol">)</a>        <a id="17191" class="Symbol">=</a>  <a id="17194" href="/Subtyping/#15187" class="InductiveConstructor">`zero</a>
<a id="17200" href="/Subtyping/#16994" class="Function">rename</a> <a id="17207" href="/Subtyping/#17207" class="Bound">ρ</a> <a id="17209" class="Symbol">(</a><a id="17210" href="/Subtyping/#15220" class="InductiveConstructor Operator">`suc</a> <a id="17215" href="/Subtyping/#17215" class="Bound">M</a><a id="17216" class="Symbol">)</a>       <a id="17224" class="Symbol">=</a>  <a id="17227" href="/Subtyping/#15220" class="InductiveConstructor Operator">`suc</a> <a id="17232" class="Symbol">(</a><a id="17233" href="/Subtyping/#16994" class="Function">rename</a> <a id="17240" href="/Subtyping/#17207" class="Bound">ρ</a> <a id="17242" href="/Subtyping/#17215" class="Bound">M</a><a id="17243" class="Symbol">)</a>
<a id="17245" href="/Subtyping/#16994" class="Function">rename</a> <a id="17252" href="/Subtyping/#17252" class="Bound">ρ</a> <a id="17254" class="Symbol">(</a><a id="17255" href="/Subtyping/#15260" class="InductiveConstructor Operator">case</a> <a id="17260" href="/Subtyping/#17260" class="Bound">L</a> <a id="17262" href="/Subtyping/#15260" class="InductiveConstructor Operator">[zero⇒</a> <a id="17269" href="/Subtyping/#17269" class="Bound">M</a> <a id="17271" href="/Subtyping/#15260" class="InductiveConstructor Operator">|suc⇒</a> <a id="17277" href="/Subtyping/#17277" class="Bound">N</a> <a id="17279" href="/Subtyping/#15260" class="InductiveConstructor Operator">]</a><a id="17280" class="Symbol">)</a> <a id="17282" class="Symbol">=</a>
    <a id="17288" href="/Subtyping/#15260" class="InductiveConstructor Operator">case</a> <a id="17293" class="Symbol">(</a><a id="17294" href="/Subtyping/#16994" class="Function">rename</a> <a id="17301" href="/Subtyping/#17252" class="Bound">ρ</a> <a id="17303" href="/Subtyping/#17260" class="Bound">L</a><a id="17304" class="Symbol">)</a> <a id="17306" href="/Subtyping/#15260" class="InductiveConstructor Operator">[zero⇒</a> <a id="17313" href="/Subtyping/#16994" class="Function">rename</a> <a id="17320" href="/Subtyping/#17252" class="Bound">ρ</a> <a id="17322" href="/Subtyping/#17269" class="Bound">M</a> <a id="17324" href="/Subtyping/#15260" class="InductiveConstructor Operator">|suc⇒</a> <a id="17330" href="/Subtyping/#16994" class="Function">rename</a> <a id="17337" class="Symbol">(</a><a id="17338" href="/Subtyping/#16854" class="Function">ext</a> <a id="17342" href="/Subtyping/#17252" class="Bound">ρ</a><a id="17343" class="Symbol">)</a> <a id="17345" href="/Subtyping/#17277" class="Bound">N</a> <a id="17347" href="/Subtyping/#15260" class="InductiveConstructor Operator">]</a>
<a id="17349" href="/Subtyping/#16994" class="Function">rename</a> <a id="17356" href="/Subtyping/#17356" class="Bound">ρ</a> <a id="17358" class="Symbol">(</a><a id="17359" href="/Subtyping/#15314" class="InductiveConstructor Operator">μ</a> <a id="17361" href="/Subtyping/#17361" class="Bound">N</a><a id="17362" class="Symbol">)</a>          <a id="17373" class="Symbol">=</a>  <a id="17376" href="/Subtyping/#15314" class="InductiveConstructor Operator">μ</a> <a id="17378" class="Symbol">(</a><a id="17379" href="/Subtyping/#16994" class="Function">rename</a> <a id="17386" class="Symbol">(</a><a id="17387" href="/Subtyping/#16854" class="Function">ext</a> <a id="17391" href="/Subtyping/#17356" class="Bound">ρ</a><a id="17392" class="Symbol">)</a> <a id="17394" href="/Subtyping/#17361" class="Bound">N</a><a id="17395" class="Symbol">)</a>
<a id="17397" href="/Subtyping/#16994" class="Function">rename</a> <a id="17404" href="/Subtyping/#17404" class="Bound">ρ</a> <a id="17406" href="/Subtyping/#15354" class="InductiveConstructor Operator">｛</a> <a id="17408" href="/Subtyping/#17408" class="Bound">ls</a> <a id="17411" href="/Subtyping/#15354" class="InductiveConstructor Operator">:=</a> <a id="17414" href="/Subtyping/#17414" class="Bound">Ms</a> <a id="17417" href="/Subtyping/#15354" class="InductiveConstructor Operator">｝</a> <a id="17419" class="Symbol">=</a> <a id="17421" href="/Subtyping/#15354" class="InductiveConstructor Operator">｛</a> <a id="17423" href="/Subtyping/#17408" class="Bound">ls</a> <a id="17426" href="/Subtyping/#15354" class="InductiveConstructor Operator">:=</a> <a id="17429" href="/Subtyping/#16937" class="Function">rename-vec</a> <a id="17440" href="/Subtyping/#17404" class="Bound">ρ</a> <a id="17442" href="/Subtyping/#17414" class="Bound">Ms</a> <a id="17445" href="/Subtyping/#15354" class="InductiveConstructor Operator">｝</a>
<a id="17447" href="/Subtyping/#16994" class="Function">rename</a> <a id="17454" href="/Subtyping/#17454" class="Bound">ρ</a> <a id="17456" class="Symbol">(</a><a id="17457" href="/Subtyping/#17457" class="Bound">M</a> <a id="17459" href="/Subtyping/#15432" class="InductiveConstructor Operator">#</a> <a id="17461" href="/Subtyping/#17461" class="Bound">l</a><a id="17462" class="Symbol">)</a>       <a id="17470" class="Symbol">=</a> <a id="17472" class="Symbol">(</a><a id="17473" href="/Subtyping/#16994" class="Function">rename</a> <a id="17480" href="/Subtyping/#17454" class="Bound">ρ</a> <a id="17482" href="/Subtyping/#17457" class="Bound">M</a><a id="17483" class="Symbol">)</a> <a id="17485" href="/Subtyping/#15432" class="InductiveConstructor Operator">#</a> <a id="17487" href="/Subtyping/#17461" class="Bound">l</a>

<a id="17490" href="/Subtyping/#16937" class="Function">rename-vec</a> <a id="17501" href="/Subtyping/#17501" class="Bound">ρ</a> <a id="17503" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#971" class="InductiveConstructor">[]</a> <a id="17506" class="Symbol">=</a> <a id="17508" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#971" class="InductiveConstructor">[]</a>
<a id="17511" href="/Subtyping/#16937" class="Function">rename-vec</a> <a id="17522" href="/Subtyping/#17522" class="Bound">ρ</a> <a id="17524" class="Symbol">(</a><a id="17525" href="/Subtyping/#17525" class="Bound">M</a> <a id="17527" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="17529" href="/Subtyping/#17529" class="Bound">Ms</a><a id="17531" class="Symbol">)</a> <a id="17533" class="Symbol">=</a> <a id="17535" href="/Subtyping/#16994" class="Function">rename</a> <a id="17542" href="/Subtyping/#17522" class="Bound">ρ</a> <a id="17544" href="/Subtyping/#17525" class="Bound">M</a> <a id="17546" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="17548" href="/Subtyping/#16937" class="Function">rename-vec</a> <a id="17559" href="/Subtyping/#17522" class="Bound">ρ</a> <a id="17561" href="/Subtyping/#17529" class="Bound">Ms</a>
</pre>
<pre class="Agda"><a id="exts"></a><a id="17573" href="/Subtyping/#17573" class="Function">exts</a> <a id="17578" class="Symbol">:</a> <a id="17580" class="Symbol">(</a><a id="17581" href="/Subtyping/#15013" class="Function">Id</a> <a id="17584" class="Symbol">→</a> <a id="17586" href="/Subtyping/#15043" class="Datatype">Term</a><a id="17590" class="Symbol">)</a> <a id="17592" class="Symbol">→</a> <a id="17594" class="Symbol">(</a><a id="17595" href="/Subtyping/#15013" class="Function">Id</a> <a id="17598" class="Symbol">→</a> <a id="17600" href="/Subtyping/#15043" class="Datatype">Term</a><a id="17604" class="Symbol">)</a>
<a id="17606" href="/Subtyping/#17573" class="Function">exts</a> <a id="17611" href="/Subtyping/#17611" class="Bound">σ</a> <a id="17613" class="Number">0</a>      <a id="17620" class="Symbol">=</a>  <a id="17623" href="/Subtyping/#15062" class="InductiveConstructor Operator">`</a> <a id="17625" class="Number">0</a>
<a id="17627" href="/Subtyping/#17573" class="Function">exts</a> <a id="17632" href="/Subtyping/#17632" class="Bound">σ</a> <a id="17634" class="Symbol">(</a><a id="17635" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="17639" href="/Subtyping/#17639" class="Bound">x</a><a id="17640" class="Symbol">)</a>  <a id="17643" class="Symbol">=</a>  <a id="17646" href="/Subtyping/#16994" class="Function">rename</a> <a id="17653" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="17657" class="Symbol">(</a><a id="17658" href="/Subtyping/#17632" class="Bound">σ</a> <a id="17660" href="/Subtyping/#17639" class="Bound">x</a><a id="17661" class="Symbol">)</a>
</pre>
<pre class="Agda"><a id="subst-vec"></a><a id="17672" href="/Subtyping/#17672" class="Function">subst-vec</a> <a id="17682" class="Symbol">:</a> <a id="17684" class="Symbol">(</a><a id="17685" href="/Subtyping/#15013" class="Function">Id</a> <a id="17688" class="Symbol">→</a> <a id="17690" href="/Subtyping/#15043" class="Datatype">Term</a><a id="17694" class="Symbol">)</a> <a id="17696" class="Symbol">→</a> <a id="17698" class="Symbol">∀{</a><a id="17700" href="/Subtyping/#17700" class="Bound">n</a><a id="17701" class="Symbol">}</a> <a id="17703" class="Symbol">→</a> <a id="17705" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="17709" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="17714" href="/Subtyping/#17700" class="Bound">n</a> <a id="17716" class="Symbol">→</a> <a id="17718" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="17722" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="17727" href="/Subtyping/#17700" class="Bound">n</a>

<a id="subst"></a><a id="17730" href="/Subtyping/#17730" class="Function">subst</a> <a id="17736" class="Symbol">:</a> <a id="17738" class="Symbol">(</a><a id="17739" href="/Subtyping/#15013" class="Function">Id</a> <a id="17742" class="Symbol">→</a> <a id="17744" href="/Subtyping/#15043" class="Datatype">Term</a><a id="17748" class="Symbol">)</a> <a id="17750" class="Symbol">→</a> <a id="17752" class="Symbol">(</a><a id="17753" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="17758" class="Symbol">→</a> <a id="17760" href="/Subtyping/#15043" class="Datatype">Term</a><a id="17764" class="Symbol">)</a>
<a id="17766" href="/Subtyping/#17730" class="Function">subst</a> <a id="17772" href="/Subtyping/#17772" class="Bound">σ</a> <a id="17774" class="Symbol">(</a><a id="17775" href="/Subtyping/#15062" class="InductiveConstructor Operator">`</a> <a id="17777" href="/Subtyping/#17777" class="Bound">k</a><a id="17778" class="Symbol">)</a>          <a id="17789" class="Symbol">=</a>  <a id="17792" href="/Subtyping/#17772" class="Bound">σ</a> <a id="17794" href="/Subtyping/#17777" class="Bound">k</a>
<a id="17796" href="/Subtyping/#17730" class="Function">subst</a> <a id="17802" href="/Subtyping/#17802" class="Bound">σ</a> <a id="17804" class="Symbol">(</a><a id="17805" href="/Subtyping/#15100" class="InductiveConstructor Operator">ƛ</a> <a id="17807" href="/Subtyping/#17807" class="Bound">N</a><a id="17808" class="Symbol">)</a>          <a id="17819" class="Symbol">=</a>  <a id="17822" href="/Subtyping/#15100" class="InductiveConstructor Operator">ƛ</a> <a id="17824" class="Symbol">(</a><a id="17825" href="/Subtyping/#17730" class="Function">subst</a> <a id="17831" class="Symbol">(</a><a id="17832" href="/Subtyping/#17573" class="Function">exts</a> <a id="17837" href="/Subtyping/#17802" class="Bound">σ</a><a id="17838" class="Symbol">)</a> <a id="17840" href="/Subtyping/#17807" class="Bound">N</a><a id="17841" class="Symbol">)</a>
<a id="17843" href="/Subtyping/#17730" class="Function">subst</a> <a id="17849" href="/Subtyping/#17849" class="Bound">σ</a> <a id="17851" class="Symbol">(</a><a id="17852" href="/Subtyping/#17852" class="Bound">L</a> <a id="17854" href="/Subtyping/#15140" class="InductiveConstructor Operator">·</a> <a id="17856" href="/Subtyping/#17856" class="Bound">M</a><a id="17857" class="Symbol">)</a>        <a id="17866" class="Symbol">=</a>  <a id="17869" class="Symbol">(</a><a id="17870" href="/Subtyping/#17730" class="Function">subst</a> <a id="17876" href="/Subtyping/#17849" class="Bound">σ</a> <a id="17878" href="/Subtyping/#17852" class="Bound">L</a><a id="17879" class="Symbol">)</a> <a id="17881" href="/Subtyping/#15140" class="InductiveConstructor Operator">·</a> <a id="17883" class="Symbol">(</a><a id="17884" href="/Subtyping/#17730" class="Function">subst</a> <a id="17890" href="/Subtyping/#17849" class="Bound">σ</a> <a id="17892" href="/Subtyping/#17856" class="Bound">M</a><a id="17893" class="Symbol">)</a>
<a id="17895" href="/Subtyping/#17730" class="Function">subst</a> <a id="17901" href="/Subtyping/#17901" class="Bound">σ</a> <a id="17903" class="Symbol">(</a><a id="17904" href="/Subtyping/#15187" class="InductiveConstructor">`zero</a><a id="17909" class="Symbol">)</a>        <a id="17918" class="Symbol">=</a>  <a id="17921" href="/Subtyping/#15187" class="InductiveConstructor">`zero</a>
<a id="17927" href="/Subtyping/#17730" class="Function">subst</a> <a id="17933" href="/Subtyping/#17933" class="Bound">σ</a> <a id="17935" class="Symbol">(</a><a id="17936" href="/Subtyping/#15220" class="InductiveConstructor Operator">`suc</a> <a id="17941" href="/Subtyping/#17941" class="Bound">M</a><a id="17942" class="Symbol">)</a>       <a id="17950" class="Symbol">=</a>  <a id="17953" href="/Subtyping/#15220" class="InductiveConstructor Operator">`suc</a> <a id="17958" class="Symbol">(</a><a id="17959" href="/Subtyping/#17730" class="Function">subst</a> <a id="17965" href="/Subtyping/#17933" class="Bound">σ</a> <a id="17967" href="/Subtyping/#17941" class="Bound">M</a><a id="17968" class="Symbol">)</a>
<a id="17970" href="/Subtyping/#17730" class="Function">subst</a> <a id="17976" href="/Subtyping/#17976" class="Bound">σ</a> <a id="17978" class="Symbol">(</a><a id="17979" href="/Subtyping/#15260" class="InductiveConstructor Operator">case</a> <a id="17984" href="/Subtyping/#17984" class="Bound">L</a> <a id="17986" href="/Subtyping/#15260" class="InductiveConstructor Operator">[zero⇒</a> <a id="17993" href="/Subtyping/#17993" class="Bound">M</a> <a id="17995" href="/Subtyping/#15260" class="InductiveConstructor Operator">|suc⇒</a> <a id="18001" href="/Subtyping/#18001" class="Bound">N</a> <a id="18003" href="/Subtyping/#15260" class="InductiveConstructor Operator">]</a><a id="18004" class="Symbol">)</a>
                       <a id="18029" class="Symbol">=</a>  <a id="18032" href="/Subtyping/#15260" class="InductiveConstructor Operator">case</a> <a id="18037" class="Symbol">(</a><a id="18038" href="/Subtyping/#17730" class="Function">subst</a> <a id="18044" href="/Subtyping/#17976" class="Bound">σ</a> <a id="18046" href="/Subtyping/#17984" class="Bound">L</a><a id="18047" class="Symbol">)</a> <a id="18049" href="/Subtyping/#15260" class="InductiveConstructor Operator">[zero⇒</a> <a id="18056" href="/Subtyping/#17730" class="Function">subst</a> <a id="18062" href="/Subtyping/#17976" class="Bound">σ</a> <a id="18064" href="/Subtyping/#17993" class="Bound">M</a> <a id="18066" href="/Subtyping/#15260" class="InductiveConstructor Operator">|suc⇒</a> <a id="18072" href="/Subtyping/#17730" class="Function">subst</a> <a id="18078" class="Symbol">(</a><a id="18079" href="/Subtyping/#17573" class="Function">exts</a> <a id="18084" href="/Subtyping/#17976" class="Bound">σ</a><a id="18085" class="Symbol">)</a> <a id="18087" href="/Subtyping/#18001" class="Bound">N</a> <a id="18089" href="/Subtyping/#15260" class="InductiveConstructor Operator">]</a>
<a id="18091" href="/Subtyping/#17730" class="Function">subst</a> <a id="18097" href="/Subtyping/#18097" class="Bound">σ</a> <a id="18099" class="Symbol">(</a><a id="18100" href="/Subtyping/#15314" class="InductiveConstructor Operator">μ</a> <a id="18102" href="/Subtyping/#18102" class="Bound">N</a><a id="18103" class="Symbol">)</a>          <a id="18114" class="Symbol">=</a>  <a id="18117" href="/Subtyping/#15314" class="InductiveConstructor Operator">μ</a> <a id="18119" class="Symbol">(</a><a id="18120" href="/Subtyping/#17730" class="Function">subst</a> <a id="18126" class="Symbol">(</a><a id="18127" href="/Subtyping/#17573" class="Function">exts</a> <a id="18132" href="/Subtyping/#18097" class="Bound">σ</a><a id="18133" class="Symbol">)</a> <a id="18135" href="/Subtyping/#18102" class="Bound">N</a><a id="18136" class="Symbol">)</a>
<a id="18138" href="/Subtyping/#17730" class="Function">subst</a> <a id="18144" href="/Subtyping/#18144" class="Bound">σ</a> <a id="18146" href="/Subtyping/#15354" class="InductiveConstructor Operator">｛</a> <a id="18148" href="/Subtyping/#18148" class="Bound">ls</a> <a id="18151" href="/Subtyping/#15354" class="InductiveConstructor Operator">:=</a> <a id="18154" href="/Subtyping/#18154" class="Bound">Ms</a> <a id="18157" href="/Subtyping/#15354" class="InductiveConstructor Operator">｝</a>  <a id="18160" class="Symbol">=</a> <a id="18162" href="/Subtyping/#15354" class="InductiveConstructor Operator">｛</a> <a id="18164" href="/Subtyping/#18148" class="Bound">ls</a> <a id="18167" href="/Subtyping/#15354" class="InductiveConstructor Operator">:=</a> <a id="18170" href="/Subtyping/#17672" class="Function">subst-vec</a> <a id="18180" href="/Subtyping/#18144" class="Bound">σ</a> <a id="18182" href="/Subtyping/#18154" class="Bound">Ms</a> <a id="18185" href="/Subtyping/#15354" class="InductiveConstructor Operator">｝</a>
<a id="18187" href="/Subtyping/#17730" class="Function">subst</a> <a id="18193" href="/Subtyping/#18193" class="Bound">σ</a> <a id="18195" class="Symbol">(</a><a id="18196" href="/Subtyping/#18196" class="Bound">M</a> <a id="18198" href="/Subtyping/#15432" class="InductiveConstructor Operator">#</a> <a id="18200" href="/Subtyping/#18200" class="Bound">l</a><a id="18201" class="Symbol">)</a>        <a id="18210" class="Symbol">=</a> <a id="18212" class="Symbol">(</a><a id="18213" href="/Subtyping/#17730" class="Function">subst</a> <a id="18219" href="/Subtyping/#18193" class="Bound">σ</a> <a id="18221" href="/Subtyping/#18196" class="Bound">M</a><a id="18222" class="Symbol">)</a> <a id="18224" href="/Subtyping/#15432" class="InductiveConstructor Operator">#</a> <a id="18226" href="/Subtyping/#18200" class="Bound">l</a>

<a id="18229" href="/Subtyping/#17672" class="Function">subst-vec</a> <a id="18239" href="/Subtyping/#18239" class="Bound">σ</a> <a id="18241" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#971" class="InductiveConstructor">[]</a> <a id="18244" class="Symbol">=</a> <a id="18246" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#971" class="InductiveConstructor">[]</a>
<a id="18249" href="/Subtyping/#17672" class="Function">subst-vec</a> <a id="18259" href="/Subtyping/#18259" class="Bound">σ</a> <a id="18261" class="Symbol">(</a><a id="18262" href="/Subtyping/#18262" class="Bound">M</a> <a id="18264" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="18266" href="/Subtyping/#18266" class="Bound">Ms</a><a id="18268" class="Symbol">)</a> <a id="18270" class="Symbol">=</a> <a id="18272" class="Symbol">(</a><a id="18273" href="/Subtyping/#17730" class="Function">subst</a> <a id="18279" href="/Subtyping/#18259" class="Bound">σ</a> <a id="18281" href="/Subtyping/#18262" class="Bound">M</a><a id="18282" class="Symbol">)</a> <a id="18284" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#990" class="InductiveConstructor Operator">∷</a> <a id="18286" class="Symbol">(</a><a id="18287" href="/Subtyping/#17672" class="Function">subst-vec</a> <a id="18297" href="/Subtyping/#18259" class="Bound">σ</a> <a id="18299" href="/Subtyping/#18266" class="Bound">Ms</a><a id="18301" class="Symbol">)</a>
</pre>
<pre class="Agda"><a id="subst-zero"></a><a id="18312" href="/Subtyping/#18312" class="Function">subst-zero</a> <a id="18323" class="Symbol">:</a> <a id="18325" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="18330" class="Symbol">→</a> <a id="18332" href="/Subtyping/#15013" class="Function">Id</a> <a id="18335" class="Symbol">→</a> <a id="18337" href="/Subtyping/#15043" class="Datatype">Term</a>
<a id="18342" href="/Subtyping/#18312" class="Function">subst-zero</a> <a id="18353" href="/Subtyping/#18353" class="Bound">M</a> <a id="18355" class="Number">0</a>       <a id="18363" class="Symbol">=</a>  <a id="18366" href="/Subtyping/#18353" class="Bound">M</a>
<a id="18368" href="/Subtyping/#18312" class="Function">subst-zero</a> <a id="18379" href="/Subtyping/#18379" class="Bound">M</a> <a id="18381" class="Symbol">(</a><a id="18382" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="18386" href="/Subtyping/#18386" class="Bound">x</a><a id="18387" class="Symbol">)</a> <a id="18389" class="Symbol">=</a>  <a id="18392" href="/Subtyping/#15062" class="InductiveConstructor Operator">`</a> <a id="18394" href="/Subtyping/#18386" class="Bound">x</a>

<a id="_[_]"></a><a id="18397" href="/Subtyping/#18397" class="Function Operator">_[_]</a> <a id="18402" class="Symbol">:</a> <a id="18404" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="18409" class="Symbol">→</a> <a id="18411" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="18416" class="Symbol">→</a> <a id="18418" href="/Subtyping/#15043" class="Datatype">Term</a>
<a id="18423" href="/Subtyping/#18397" class="Function Operator">_[_]</a> <a id="18428" href="/Subtyping/#18428" class="Bound">N</a> <a id="18430" href="/Subtyping/#18430" class="Bound">M</a> <a id="18432" class="Symbol">=</a>  <a id="18435" href="/Subtyping/#17730" class="Function">subst</a> <a id="18441" class="Symbol">(</a><a id="18442" href="/Subtyping/#18312" class="Function">subst-zero</a> <a id="18453" href="/Subtyping/#18430" class="Bound">M</a><a id="18454" class="Symbol">)</a> <a id="18456" href="/Subtyping/#18428" class="Bound">N</a>
</pre>
<h2 id="values">Values</h2>

<pre class="Agda"><a id="18478" class="Keyword">data</a> <a id="Value"></a><a id="18483" href="/Subtyping/#18483" class="Datatype">Value</a> <a id="18489" class="Symbol">:</a> <a id="18491" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="18496" class="Symbol">→</a> <a id="18498" class="PrimitiveType">Set</a> <a id="18502" class="Keyword">where</a>

  <a id="Value.V-ƛ"></a><a id="18511" href="/Subtyping/#18511" class="InductiveConstructor">V-ƛ</a> <a id="18515" class="Symbol">:</a> <a id="18517" class="Symbol">∀</a> <a id="18519" class="Symbol">{</a><a id="18520" href="/Subtyping/#18520" class="Bound">N</a><a id="18521" class="Symbol">}</a>
      <a id="18529" class="Comment">-----------</a>
    <a id="18545" class="Symbol">→</a> <a id="18547" href="/Subtyping/#18483" class="Datatype">Value</a> <a id="18553" class="Symbol">(</a><a id="18554" href="/Subtyping/#15100" class="InductiveConstructor Operator">ƛ</a> <a id="18556" href="/Subtyping/#18520" class="Bound">N</a><a id="18557" class="Symbol">)</a>

  <a id="Value.V-zero"></a><a id="18562" href="/Subtyping/#18562" class="InductiveConstructor">V-zero</a> <a id="18569" class="Symbol">:</a>
      <a id="18577" class="Comment">-------------</a>
      <a id="18597" href="/Subtyping/#18483" class="Datatype">Value</a> <a id="18603" class="Symbol">(</a><a id="18604" href="/Subtyping/#15187" class="InductiveConstructor">`zero</a><a id="18609" class="Symbol">)</a>

  <a id="Value.V-suc"></a><a id="18614" href="/Subtyping/#18614" class="InductiveConstructor">V-suc</a> <a id="18620" class="Symbol">:</a> <a id="18622" class="Symbol">∀</a> <a id="18624" class="Symbol">{</a><a id="18625" href="/Subtyping/#18625" class="Bound">V</a><a id="18626" class="Symbol">}</a>
    <a id="18632" class="Symbol">→</a> <a id="18634" href="/Subtyping/#18483" class="Datatype">Value</a> <a id="18640" href="/Subtyping/#18625" class="Bound">V</a>
      <a id="18648" class="Comment">--------------</a>
    <a id="18667" class="Symbol">→</a> <a id="18669" href="/Subtyping/#18483" class="Datatype">Value</a> <a id="18675" class="Symbol">(</a><a id="18676" href="/Subtyping/#15220" class="InductiveConstructor Operator">`suc</a> <a id="18681" href="/Subtyping/#18625" class="Bound">V</a><a id="18682" class="Symbol">)</a>

  <a id="Value.V-rcd"></a><a id="18687" href="/Subtyping/#18687" class="InductiveConstructor">V-rcd</a> <a id="18693" class="Symbol">:</a> <a id="18695" class="Symbol">∀{</a><a id="18697" href="/Subtyping/#18697" class="Bound">n</a><a id="18698" class="Symbol">}{</a><a id="18700" href="/Subtyping/#18700" class="Bound">ls</a> <a id="18703" class="Symbol">:</a> <a id="18705" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="18709" href="/Subtyping/#4420" class="Function">Name</a> <a id="18714" href="/Subtyping/#18697" class="Bound">n</a><a id="18715" class="Symbol">}{</a><a id="18717" href="/Subtyping/#18717" class="Bound">Ms</a> <a id="18720" class="Symbol">:</a> <a id="18722" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="18726" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="18731" href="/Subtyping/#18697" class="Bound">n</a><a id="18732" class="Symbol">}</a>
    <a id="18738" class="Symbol">→</a> <a id="18740" href="/Subtyping/#18483" class="Datatype">Value</a> <a id="18746" href="/Subtyping/#15354" class="InductiveConstructor Operator">｛</a> <a id="18748" href="/Subtyping/#18700" class="Bound">ls</a> <a id="18751" href="/Subtyping/#15354" class="InductiveConstructor Operator">:=</a> <a id="18754" href="/Subtyping/#18717" class="Bound">Ms</a> <a id="18757" href="/Subtyping/#15354" class="InductiveConstructor Operator">｝</a> 
</pre>
<h2 id="reduction">Reduction</h2>

<pre class="Agda"><a id="18783" class="Keyword">infix</a> <a id="18789" class="Number">2</a> <a id="18791" href="/Subtyping/#18802" class="Datatype Operator">_—→_</a>

<a id="18797" class="Keyword">data</a> <a id="_—→_"></a><a id="18802" href="/Subtyping/#18802" class="Datatype Operator">_—→_</a> <a id="18807" class="Symbol">:</a> <a id="18809" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="18814" class="Symbol">→</a> <a id="18816" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="18821" class="Symbol">→</a> <a id="18823" class="PrimitiveType">Set</a> <a id="18827" class="Keyword">where</a>

  <a id="_—→_.ξ-·₁"></a><a id="18836" href="/Subtyping/#18836" class="InductiveConstructor">ξ-·₁</a> <a id="18841" class="Symbol">:</a> <a id="18843" class="Symbol">∀</a> <a id="18845" class="Symbol">{</a><a id="18846" href="/Subtyping/#18846" class="Bound">L</a> <a id="18848" href="/Subtyping/#18848" class="Bound">L′</a> <a id="18851" href="/Subtyping/#18851" class="Bound">M</a> <a id="18853" class="Symbol">:</a> <a id="18855" href="/Subtyping/#15043" class="Datatype">Term</a><a id="18859" class="Symbol">}</a>
    <a id="18865" class="Symbol">→</a> <a id="18867" href="/Subtyping/#18846" class="Bound">L</a> <a id="18869" href="/Subtyping/#18802" class="Datatype Operator">—→</a> <a id="18872" href="/Subtyping/#18848" class="Bound">L′</a>
      <a id="18881" class="Comment">---------------</a>
    <a id="18901" class="Symbol">→</a> <a id="18903" href="/Subtyping/#18846" class="Bound">L</a> <a id="18905" href="/Subtyping/#15140" class="InductiveConstructor Operator">·</a> <a id="18907" href="/Subtyping/#18851" class="Bound">M</a> <a id="18909" href="/Subtyping/#18802" class="Datatype Operator">—→</a> <a id="18912" href="/Subtyping/#18848" class="Bound">L′</a> <a id="18915" href="/Subtyping/#15140" class="InductiveConstructor Operator">·</a> <a id="18917" href="/Subtyping/#18851" class="Bound">M</a>

  <a id="_—→_.ξ-·₂"></a><a id="18922" href="/Subtyping/#18922" class="InductiveConstructor">ξ-·₂</a> <a id="18927" class="Symbol">:</a> <a id="18929" class="Symbol">∀</a> <a id="18931" class="Symbol">{</a><a id="18932" href="/Subtyping/#18932" class="Bound">V</a>  <a id="18935" href="/Subtyping/#18935" class="Bound">M</a> <a id="18937" href="/Subtyping/#18937" class="Bound">M′</a> <a id="18940" class="Symbol">:</a> <a id="18942" href="/Subtyping/#15043" class="Datatype">Term</a><a id="18946" class="Symbol">}</a>
    <a id="18952" class="Symbol">→</a> <a id="18954" href="/Subtyping/#18483" class="Datatype">Value</a> <a id="18960" href="/Subtyping/#18932" class="Bound">V</a>
    <a id="18966" class="Symbol">→</a> <a id="18968" href="/Subtyping/#18935" class="Bound">M</a> <a id="18970" href="/Subtyping/#18802" class="Datatype Operator">—→</a> <a id="18973" href="/Subtyping/#18937" class="Bound">M′</a>
      <a id="18982" class="Comment">---------------</a>
    <a id="19002" class="Symbol">→</a> <a id="19004" href="/Subtyping/#18932" class="Bound">V</a> <a id="19006" href="/Subtyping/#15140" class="InductiveConstructor Operator">·</a> <a id="19008" href="/Subtyping/#18935" class="Bound">M</a> <a id="19010" href="/Subtyping/#18802" class="Datatype Operator">—→</a> <a id="19013" href="/Subtyping/#18932" class="Bound">V</a> <a id="19015" href="/Subtyping/#15140" class="InductiveConstructor Operator">·</a> <a id="19017" href="/Subtyping/#18937" class="Bound">M′</a>

  <a id="_—→_.β-ƛ"></a><a id="19023" href="/Subtyping/#19023" class="InductiveConstructor">β-ƛ</a> <a id="19027" class="Symbol">:</a> <a id="19029" class="Symbol">∀</a> <a id="19031" class="Symbol">{</a><a id="19032" href="/Subtyping/#19032" class="Bound">N</a> <a id="19034" href="/Subtyping/#19034" class="Bound">W</a> <a id="19036" class="Symbol">:</a> <a id="19038" href="/Subtyping/#15043" class="Datatype">Term</a><a id="19042" class="Symbol">}</a>
    <a id="19048" class="Symbol">→</a> <a id="19050" href="/Subtyping/#18483" class="Datatype">Value</a> <a id="19056" href="/Subtyping/#19034" class="Bound">W</a>
      <a id="19064" class="Comment">--------------------</a>
    <a id="19089" class="Symbol">→</a> <a id="19091" class="Symbol">(</a><a id="19092" href="/Subtyping/#15100" class="InductiveConstructor Operator">ƛ</a> <a id="19094" href="/Subtyping/#19032" class="Bound">N</a><a id="19095" class="Symbol">)</a> <a id="19097" href="/Subtyping/#15140" class="InductiveConstructor Operator">·</a> <a id="19099" href="/Subtyping/#19034" class="Bound">W</a> <a id="19101" href="/Subtyping/#18802" class="Datatype Operator">—→</a> <a id="19104" href="/Subtyping/#19032" class="Bound">N</a> <a id="19106" href="/Subtyping/#18397" class="Function Operator">[</a> <a id="19108" href="/Subtyping/#19034" class="Bound">W</a> <a id="19110" href="/Subtyping/#18397" class="Function Operator">]</a>

  <a id="_—→_.ξ-suc"></a><a id="19115" href="/Subtyping/#19115" class="InductiveConstructor">ξ-suc</a> <a id="19121" class="Symbol">:</a> <a id="19123" class="Symbol">∀</a> <a id="19125" class="Symbol">{</a><a id="19126" href="/Subtyping/#19126" class="Bound">M</a> <a id="19128" href="/Subtyping/#19128" class="Bound">M′</a> <a id="19131" class="Symbol">:</a> <a id="19133" href="/Subtyping/#15043" class="Datatype">Term</a><a id="19137" class="Symbol">}</a>
    <a id="19143" class="Symbol">→</a> <a id="19145" href="/Subtyping/#19126" class="Bound">M</a> <a id="19147" href="/Subtyping/#18802" class="Datatype Operator">—→</a> <a id="19150" href="/Subtyping/#19128" class="Bound">M′</a>
      <a id="19159" class="Comment">-----------------</a>
    <a id="19181" class="Symbol">→</a> <a id="19183" href="/Subtyping/#15220" class="InductiveConstructor Operator">`suc</a> <a id="19188" href="/Subtyping/#19126" class="Bound">M</a> <a id="19190" href="/Subtyping/#18802" class="Datatype Operator">—→</a> <a id="19193" href="/Subtyping/#15220" class="InductiveConstructor Operator">`suc</a> <a id="19198" href="/Subtyping/#19128" class="Bound">M′</a>

  <a id="_—→_.ξ-case"></a><a id="19204" href="/Subtyping/#19204" class="InductiveConstructor">ξ-case</a> <a id="19211" class="Symbol">:</a> <a id="19213" class="Symbol">∀</a> <a id="19215" class="Symbol">{</a><a id="19216" href="/Subtyping/#19216" class="Bound">L</a> <a id="19218" href="/Subtyping/#19218" class="Bound">L′</a> <a id="19221" href="/Subtyping/#19221" class="Bound">M</a> <a id="19223" href="/Subtyping/#19223" class="Bound">N</a> <a id="19225" class="Symbol">:</a> <a id="19227" href="/Subtyping/#15043" class="Datatype">Term</a><a id="19231" class="Symbol">}</a>
    <a id="19237" class="Symbol">→</a> <a id="19239" href="/Subtyping/#19216" class="Bound">L</a> <a id="19241" href="/Subtyping/#18802" class="Datatype Operator">—→</a> <a id="19244" href="/Subtyping/#19218" class="Bound">L′</a>
      <a id="19253" class="Comment">-------------------------------------------------------</a>
    <a id="19313" class="Symbol">→</a> <a id="19315" href="/Subtyping/#15260" class="InductiveConstructor Operator">case</a> <a id="19320" href="/Subtyping/#19216" class="Bound">L</a> <a id="19322" href="/Subtyping/#15260" class="InductiveConstructor Operator">[zero⇒</a> <a id="19329" href="/Subtyping/#19221" class="Bound">M</a> <a id="19331" href="/Subtyping/#15260" class="InductiveConstructor Operator">|suc⇒</a> <a id="19337" href="/Subtyping/#19223" class="Bound">N</a> <a id="19339" href="/Subtyping/#15260" class="InductiveConstructor Operator">]</a> <a id="19341" href="/Subtyping/#18802" class="Datatype Operator">—→</a> <a id="19344" href="/Subtyping/#15260" class="InductiveConstructor Operator">case</a> <a id="19349" href="/Subtyping/#19218" class="Bound">L′</a> <a id="19352" href="/Subtyping/#15260" class="InductiveConstructor Operator">[zero⇒</a> <a id="19359" href="/Subtyping/#19221" class="Bound">M</a> <a id="19361" href="/Subtyping/#15260" class="InductiveConstructor Operator">|suc⇒</a> <a id="19367" href="/Subtyping/#19223" class="Bound">N</a> <a id="19369" href="/Subtyping/#15260" class="InductiveConstructor Operator">]</a>

  <a id="_—→_.β-zero"></a><a id="19374" href="/Subtyping/#19374" class="InductiveConstructor">β-zero</a> <a id="19381" class="Symbol">:</a>  <a id="19384" class="Symbol">∀</a> <a id="19386" class="Symbol">{</a><a id="19387" href="/Subtyping/#19387" class="Bound">M</a> <a id="19389" href="/Subtyping/#19389" class="Bound">N</a> <a id="19391" class="Symbol">:</a> <a id="19393" href="/Subtyping/#15043" class="Datatype">Term</a><a id="19397" class="Symbol">}</a>
      <a id="19405" class="Comment">----------------------------------</a>
    <a id="19444" class="Symbol">→</a> <a id="19446" href="/Subtyping/#15260" class="InductiveConstructor Operator">case</a> <a id="19451" href="/Subtyping/#15187" class="InductiveConstructor">`zero</a> <a id="19457" href="/Subtyping/#15260" class="InductiveConstructor Operator">[zero⇒</a> <a id="19464" href="/Subtyping/#19387" class="Bound">M</a> <a id="19466" href="/Subtyping/#15260" class="InductiveConstructor Operator">|suc⇒</a> <a id="19472" href="/Subtyping/#19389" class="Bound">N</a> <a id="19474" href="/Subtyping/#15260" class="InductiveConstructor Operator">]</a> <a id="19476" href="/Subtyping/#18802" class="Datatype Operator">—→</a> <a id="19479" href="/Subtyping/#19387" class="Bound">M</a>

  <a id="_—→_.β-suc"></a><a id="19484" href="/Subtyping/#19484" class="InductiveConstructor">β-suc</a> <a id="19490" class="Symbol">:</a> <a id="19492" class="Symbol">∀</a> <a id="19494" class="Symbol">{</a><a id="19495" href="/Subtyping/#19495" class="Bound">V</a> <a id="19497" href="/Subtyping/#19497" class="Bound">M</a> <a id="19499" href="/Subtyping/#19499" class="Bound">N</a> <a id="19501" class="Symbol">:</a> <a id="19503" href="/Subtyping/#15043" class="Datatype">Term</a><a id="19507" class="Symbol">}</a>
    <a id="19513" class="Symbol">→</a> <a id="19515" href="/Subtyping/#18483" class="Datatype">Value</a> <a id="19521" href="/Subtyping/#19495" class="Bound">V</a>
      <a id="19529" class="Comment">-------------------------------------------</a>
    <a id="19577" class="Symbol">→</a> <a id="19579" href="/Subtyping/#15260" class="InductiveConstructor Operator">case</a> <a id="19584" class="Symbol">(</a><a id="19585" href="/Subtyping/#15220" class="InductiveConstructor Operator">`suc</a> <a id="19590" href="/Subtyping/#19495" class="Bound">V</a><a id="19591" class="Symbol">)</a> <a id="19593" href="/Subtyping/#15260" class="InductiveConstructor Operator">[zero⇒</a> <a id="19600" href="/Subtyping/#19497" class="Bound">M</a> <a id="19602" href="/Subtyping/#15260" class="InductiveConstructor Operator">|suc⇒</a> <a id="19608" href="/Subtyping/#19499" class="Bound">N</a> <a id="19610" href="/Subtyping/#15260" class="InductiveConstructor Operator">]</a> <a id="19612" href="/Subtyping/#18802" class="Datatype Operator">—→</a> <a id="19615" href="/Subtyping/#19499" class="Bound">N</a> <a id="19617" href="/Subtyping/#18397" class="Function Operator">[</a> <a id="19619" href="/Subtyping/#19495" class="Bound">V</a> <a id="19621" href="/Subtyping/#18397" class="Function Operator">]</a>

  <a id="_—→_.β-μ"></a><a id="19626" href="/Subtyping/#19626" class="InductiveConstructor">β-μ</a> <a id="19630" class="Symbol">:</a> <a id="19632" class="Symbol">∀</a> <a id="19634" class="Symbol">{</a><a id="19635" href="/Subtyping/#19635" class="Bound">N</a> <a id="19637" class="Symbol">:</a> <a id="19639" href="/Subtyping/#15043" class="Datatype">Term</a><a id="19643" class="Symbol">}</a>
      <a id="19651" class="Comment">----------------</a>
    <a id="19672" class="Symbol">→</a> <a id="19674" href="/Subtyping/#15314" class="InductiveConstructor Operator">μ</a> <a id="19676" href="/Subtyping/#19635" class="Bound">N</a> <a id="19678" href="/Subtyping/#18802" class="Datatype Operator">—→</a> <a id="19681" href="/Subtyping/#19635" class="Bound">N</a> <a id="19683" href="/Subtyping/#18397" class="Function Operator">[</a> <a id="19685" href="/Subtyping/#15314" class="InductiveConstructor Operator">μ</a> <a id="19687" href="/Subtyping/#19635" class="Bound">N</a> <a id="19689" href="/Subtyping/#18397" class="Function Operator">]</a>

  <a id="_—→_.ξ-#"></a><a id="19694" href="/Subtyping/#19694" class="InductiveConstructor">ξ-#</a> <a id="19698" class="Symbol">:</a> <a id="19700" class="Symbol">∀</a> <a id="19702" class="Symbol">{</a><a id="19703" href="/Subtyping/#19703" class="Bound">M</a> <a id="19705" href="/Subtyping/#19705" class="Bound">M′</a> <a id="19708" class="Symbol">:</a> <a id="19710" href="/Subtyping/#15043" class="Datatype">Term</a><a id="19714" class="Symbol">}{</a><a id="19716" href="/Subtyping/#19716" class="Bound">l</a><a id="19717" class="Symbol">}</a>
    <a id="19723" class="Symbol">→</a> <a id="19725" href="/Subtyping/#19703" class="Bound">M</a> <a id="19727" href="/Subtyping/#18802" class="Datatype Operator">—→</a> <a id="19730" href="/Subtyping/#19705" class="Bound">M′</a>
    <a id="19737" class="Symbol">→</a> <a id="19739" href="/Subtyping/#19703" class="Bound">M</a> <a id="19741" href="/Subtyping/#15432" class="InductiveConstructor Operator">#</a> <a id="19743" href="/Subtyping/#19716" class="Bound">l</a> <a id="19745" href="/Subtyping/#18802" class="Datatype Operator">—→</a> <a id="19748" href="/Subtyping/#19705" class="Bound">M′</a> <a id="19751" href="/Subtyping/#15432" class="InductiveConstructor Operator">#</a> <a id="19753" href="/Subtyping/#19716" class="Bound">l</a>

  <a id="_—→_.β-#"></a><a id="19758" href="/Subtyping/#19758" class="InductiveConstructor">β-#</a> <a id="19762" class="Symbol">:</a> <a id="19764" class="Symbol">∀</a> <a id="19766" class="Symbol">{</a><a id="19767" href="/Subtyping/#19767" class="Bound">n</a><a id="19768" class="Symbol">}{</a><a id="19770" href="/Subtyping/#19770" class="Bound">ls</a> <a id="19773" class="Symbol">:</a> <a id="19775" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="19779" href="/Subtyping/#4420" class="Function">Name</a> <a id="19784" href="/Subtyping/#19767" class="Bound">n</a><a id="19785" class="Symbol">}{</a><a id="19787" href="/Subtyping/#19787" class="Bound">vs</a> <a id="19790" class="Symbol">:</a> <a id="19792" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="19796" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="19801" href="/Subtyping/#19767" class="Bound">n</a><a id="19802" class="Symbol">}</a> <a id="19804" class="Symbol">{</a><a id="19805" href="/Subtyping/#19805" class="Bound">lⱼ</a><a id="19807" class="Symbol">}{</a><a id="19809" href="/Subtyping/#19809" class="Bound">j</a> <a id="19811" class="Symbol">:</a> <a id="19813" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1000" class="Datatype">Fin</a> <a id="19817" href="/Subtyping/#19767" class="Bound">n</a><a id="19818" class="Symbol">}</a>
    <a id="19824" class="Symbol">→</a> <a id="19826" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="19833" href="/Subtyping/#19770" class="Bound">ls</a> <a id="19836" href="/Subtyping/#19809" class="Bound">j</a> <a id="19838" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="19840" href="/Subtyping/#19805" class="Bound">lⱼ</a>
      <a id="19849" class="Comment">---------------------------------</a>
    <a id="19887" class="Symbol">→</a> <a id="19889" href="/Subtyping/#15354" class="InductiveConstructor Operator">｛</a> <a id="19891" href="/Subtyping/#19770" class="Bound">ls</a> <a id="19894" href="/Subtyping/#15354" class="InductiveConstructor Operator">:=</a> <a id="19897" href="/Subtyping/#19787" class="Bound">vs</a> <a id="19900" href="/Subtyping/#15354" class="InductiveConstructor Operator">｝</a> <a id="19902" href="/Subtyping/#15432" class="InductiveConstructor Operator">#</a> <a id="19904" href="/Subtyping/#19805" class="Bound">lⱼ</a> <a id="19907" href="/Subtyping/#18802" class="Datatype Operator">—→</a>  <a id="19911" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="19918" href="/Subtyping/#19787" class="Bound">vs</a> <a id="19921" href="/Subtyping/#19809" class="Bound">j</a>


</pre>
<h2 id="canonical-forms">Canonical Forms</h2>

<pre class="Agda"><a id="19954" class="Keyword">infix</a>  <a id="19961" class="Number">4</a> <a id="19963" href="/Subtyping/#19982" class="Datatype Operator">Canonical_⦂_</a>

<a id="19977" class="Keyword">data</a> <a id="Canonical_⦂_"></a><a id="19982" href="/Subtyping/#19982" class="Datatype Operator">Canonical_⦂_</a> <a id="19995" class="Symbol">:</a> <a id="19997" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="20002" class="Symbol">→</a> <a id="20004" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="20009" class="Symbol">→</a> <a id="20011" class="PrimitiveType">Set</a> <a id="20015" class="Keyword">where</a>

  <a id="Canonical_⦂_.C-ƛ"></a><a id="20024" href="/Subtyping/#20024" class="InductiveConstructor">C-ƛ</a> <a id="20028" class="Symbol">:</a> <a id="20030" class="Symbol">∀</a> <a id="20032" class="Symbol">{</a><a id="20033" href="/Subtyping/#20033" class="Bound">N</a> <a id="20035" href="/Subtyping/#20035" class="Bound">A</a> <a id="20037" href="/Subtyping/#20037" class="Bound">B</a> <a id="20039" href="/Subtyping/#20039" class="Bound">C</a> <a id="20041" href="/Subtyping/#20041" class="Bound">D</a><a id="20042" class="Symbol">}</a>
    <a id="20048" class="Symbol">→</a>  <a id="20051" href="/Subtyping/#14686" class="InductiveConstructor">∅</a> <a id="20053" href="/Subtyping/#14702" class="InductiveConstructor Operator">,</a> <a id="20055" href="/Subtyping/#20035" class="Bound">A</a> <a id="20057" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="20059" href="/Subtyping/#20033" class="Bound">N</a> <a id="20061" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="20063" href="/Subtyping/#20037" class="Bound">B</a>
    <a id="20069" class="Symbol">→</a> <a id="20071" href="/Subtyping/#20035" class="Bound">A</a> <a id="20073" href="/Subtyping/#8204" class="InductiveConstructor Operator">⇒</a> <a id="20075" href="/Subtyping/#20037" class="Bound">B</a> <a id="20077" href="/Subtyping/#8796" class="Datatype Operator">&lt;:</a> <a id="20080" href="/Subtyping/#20039" class="Bound">C</a> <a id="20082" href="/Subtyping/#8204" class="InductiveConstructor Operator">⇒</a> <a id="20084" href="/Subtyping/#20041" class="Bound">D</a>
      <a id="20092" class="Comment">-------------------------</a>
    <a id="20122" class="Symbol">→</a> <a id="20124" href="/Subtyping/#19982" class="Datatype Operator">Canonical</a> <a id="20134" class="Symbol">(</a><a id="20135" href="/Subtyping/#15100" class="InductiveConstructor Operator">ƛ</a> <a id="20137" href="/Subtyping/#20033" class="Bound">N</a><a id="20138" class="Symbol">)</a> <a id="20140" href="/Subtyping/#19982" class="Datatype Operator">⦂</a> <a id="20142" class="Symbol">(</a><a id="20143" href="/Subtyping/#20039" class="Bound">C</a> <a id="20145" href="/Subtyping/#8204" class="InductiveConstructor Operator">⇒</a> <a id="20147" href="/Subtyping/#20041" class="Bound">D</a><a id="20148" class="Symbol">)</a>

  <a id="Canonical_⦂_.C-zero"></a><a id="20153" href="/Subtyping/#20153" class="InductiveConstructor">C-zero</a> <a id="20160" class="Symbol">:</a>
      <a id="20168" class="Comment">--------------------</a>
      <a id="20195" href="/Subtyping/#19982" class="Datatype Operator">Canonical</a> <a id="20205" href="/Subtyping/#15187" class="InductiveConstructor">`zero</a> <a id="20211" href="/Subtyping/#19982" class="Datatype Operator">⦂</a> <a id="20213" href="/Subtyping/#8233" class="InductiveConstructor">`ℕ</a>

  <a id="Canonical_⦂_.C-suc"></a><a id="20219" href="/Subtyping/#20219" class="InductiveConstructor">C-suc</a> <a id="20225" class="Symbol">:</a> <a id="20227" class="Symbol">∀</a> <a id="20229" class="Symbol">{</a><a id="20230" href="/Subtyping/#20230" class="Bound">V</a><a id="20231" class="Symbol">}</a>
    <a id="20237" class="Symbol">→</a> <a id="20239" href="/Subtyping/#19982" class="Datatype Operator">Canonical</a> <a id="20249" href="/Subtyping/#20230" class="Bound">V</a> <a id="20251" href="/Subtyping/#19982" class="Datatype Operator">⦂</a> <a id="20253" href="/Subtyping/#8233" class="InductiveConstructor">`ℕ</a>
      <a id="20262" class="Comment">---------------------</a>
    <a id="20288" class="Symbol">→</a> <a id="20290" href="/Subtyping/#19982" class="Datatype Operator">Canonical</a> <a id="20300" href="/Subtyping/#15220" class="InductiveConstructor Operator">`suc</a> <a id="20305" href="/Subtyping/#20230" class="Bound">V</a> <a id="20307" href="/Subtyping/#19982" class="Datatype Operator">⦂</a> <a id="20309" href="/Subtyping/#8233" class="InductiveConstructor">`ℕ</a>

  <a id="Canonical_⦂_.C-rcd"></a><a id="20315" href="/Subtyping/#20315" class="InductiveConstructor">C-rcd</a> <a id="20321" class="Symbol">:</a> <a id="20323" class="Symbol">∀{</a><a id="20325" href="/Subtyping/#20325" class="Bound">n</a> <a id="20327" href="/Subtyping/#20327" class="Bound">m</a><a id="20328" class="Symbol">}{</a><a id="20330" href="/Subtyping/#20330" class="Bound">ls</a> <a id="20333" class="Symbol">:</a> <a id="20335" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="20339" href="/Subtyping/#4420" class="Function">Name</a> <a id="20344" href="/Subtyping/#20325" class="Bound">n</a><a id="20345" class="Symbol">}{</a><a id="20347" href="/Subtyping/#20347" class="Bound">ks</a> <a id="20350" class="Symbol">:</a> <a id="20352" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="20356" href="/Subtyping/#4420" class="Function">Name</a> <a id="20361" href="/Subtyping/#20327" class="Bound">m</a><a id="20362" class="Symbol">}{</a><a id="20364" href="/Subtyping/#20364" class="Bound">Ms</a> <a id="20367" href="/Subtyping/#20367" class="Bound">As</a> <a id="20370" href="/Subtyping/#20370" class="Bound">Bs</a><a id="20372" class="Symbol">}{</a><a id="20374" href="/Subtyping/#20374" class="Bound">dls</a><a id="20377" class="Symbol">}</a>
    <a id="20383" class="Symbol">→</a> <a id="20385" href="/Subtyping/#14686" class="InductiveConstructor">∅</a> <a id="20387" href="/Subtyping/#15491" class="Datatype Operator">⊢*</a> <a id="20390" href="/Subtyping/#20364" class="Bound">Ms</a> <a id="20393" href="/Subtyping/#15491" class="Datatype Operator">⦂</a> <a id="20395" href="/Subtyping/#20367" class="Bound">As</a>
    <a id="20402" class="Symbol">→</a> <a id="20404" class="Symbol">(</a><a id="20405" href="/Subtyping/#20405" class="Bound">dks</a> <a id="20409" class="Symbol">:</a> <a id="20411" href="/Subtyping/#5171" class="Function">distinct</a> <a id="20420" href="/Subtyping/#20347" class="Bound">ks</a><a id="20422" class="Symbol">)</a>
    <a id="20428" class="Symbol">→</a> <a id="20430" href="/Subtyping/#8248" class="InductiveConstructor Operator">｛</a> <a id="20432" href="/Subtyping/#20347" class="Bound">ks</a> <a id="20435" href="/Subtyping/#8248" class="InductiveConstructor Operator">⦂</a> <a id="20437" href="/Subtyping/#20367" class="Bound">As</a> <a id="20440" href="/Subtyping/#8248" class="InductiveConstructor Operator">｝</a><a id="20441" class="Symbol">{</a><a id="20442" href="/Subtyping/#20405" class="Bound">dks</a><a id="20445" class="Symbol">}</a>  <a id="20448" href="/Subtyping/#8796" class="Datatype Operator">&lt;:</a> <a id="20451" href="/Subtyping/#8248" class="InductiveConstructor Operator">｛</a> <a id="20453" href="/Subtyping/#20330" class="Bound">ls</a> <a id="20456" href="/Subtyping/#8248" class="InductiveConstructor Operator">⦂</a> <a id="20458" href="/Subtyping/#20370" class="Bound">Bs</a> <a id="20461" href="/Subtyping/#8248" class="InductiveConstructor Operator">｝</a><a id="20462" class="Symbol">{</a><a id="20463" href="/Subtyping/#20374" class="Bound">dls</a><a id="20466" class="Symbol">}</a>
    <a id="20472" class="Symbol">→</a> <a id="20474" href="/Subtyping/#19982" class="Datatype Operator">Canonical</a> <a id="20484" href="/Subtyping/#15354" class="InductiveConstructor Operator">｛</a> <a id="20486" href="/Subtyping/#20347" class="Bound">ks</a> <a id="20489" href="/Subtyping/#15354" class="InductiveConstructor Operator">:=</a> <a id="20492" href="/Subtyping/#20364" class="Bound">Ms</a> <a id="20495" href="/Subtyping/#15354" class="InductiveConstructor Operator">｝</a> <a id="20497" href="/Subtyping/#19982" class="Datatype Operator">⦂</a> <a id="20499" href="/Subtyping/#8248" class="InductiveConstructor Operator">｛</a> <a id="20501" href="/Subtyping/#20330" class="Bound">ls</a> <a id="20504" href="/Subtyping/#8248" class="InductiveConstructor Operator">⦂</a> <a id="20506" href="/Subtyping/#20370" class="Bound">Bs</a> <a id="20509" href="/Subtyping/#8248" class="InductiveConstructor Operator">｝</a> <a id="20511" class="Symbol">{</a><a id="20512" href="/Subtyping/#20374" class="Bound">dls</a><a id="20515" class="Symbol">}</a>
</pre>
<p>Every closed, well-typed value is canonical:</p>
<pre class="Agda"><a id="canonical"></a><a id="20571" href="/Subtyping/#20571" class="Function">canonical</a> <a id="20581" class="Symbol">:</a> <a id="20583" class="Symbol">∀</a> <a id="20585" class="Symbol">{</a><a id="20586" href="/Subtyping/#20586" class="Bound">V</a> <a id="20588" href="/Subtyping/#20588" class="Bound">A</a><a id="20589" class="Symbol">}</a>
  <a id="20593" class="Symbol">→</a> <a id="20595" href="/Subtyping/#14686" class="InductiveConstructor">∅</a> <a id="20597" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="20599" href="/Subtyping/#20586" class="Bound">V</a> <a id="20601" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="20603" href="/Subtyping/#20588" class="Bound">A</a>
  <a id="20607" class="Symbol">→</a> <a id="20609" href="/Subtyping/#18483" class="Datatype">Value</a> <a id="20615" href="/Subtyping/#20586" class="Bound">V</a>
    <a id="20621" class="Comment">-----------</a>
  <a id="20635" class="Symbol">→</a> <a id="20637" href="/Subtyping/#19982" class="Datatype Operator">Canonical</a> <a id="20647" href="/Subtyping/#20586" class="Bound">V</a> <a id="20649" href="/Subtyping/#19982" class="Datatype Operator">⦂</a> <a id="20651" href="/Subtyping/#20588" class="Bound">A</a>
<a id="20653" href="/Subtyping/#20571" class="Function">canonical</a> <a id="20663" class="Symbol">(</a><a id="20664" href="/Subtyping/#15600" class="InductiveConstructor">⊢`</a> <a id="20667" class="Symbol">())</a>          <a id="20680" class="Symbol">()</a>
<a id="20683" href="/Subtyping/#20571" class="Function">canonical</a> <a id="20693" class="Symbol">(</a><a id="20694" href="/Subtyping/#15670" class="InductiveConstructor">⊢ƛ</a> <a id="20697" href="/Subtyping/#20697" class="Bound">⊢N</a><a id="20699" class="Symbol">)</a>          <a id="20710" href="/Subtyping/#18511" class="InductiveConstructor">V-ƛ</a>         <a id="20722" class="Symbol">=</a>  <a id="20725" href="/Subtyping/#20024" class="InductiveConstructor">C-ƛ</a> <a id="20729" href="/Subtyping/#20697" class="Bound">⊢N</a> <a id="20732" href="/Subtyping/#13610" class="Function">&lt;:-refl</a>
<a id="20740" href="/Subtyping/#20571" class="Function">canonical</a> <a id="20750" class="Symbol">(</a><a id="20751" href="/Subtyping/#15759" class="InductiveConstructor">⊢·</a> <a id="20754" href="/Subtyping/#20754" class="Bound">⊢L</a> <a id="20757" href="/Subtyping/#20757" class="Bound">⊢M</a><a id="20759" class="Symbol">)</a>       <a id="20767" class="Symbol">()</a>
<a id="20770" href="/Subtyping/#20571" class="Function">canonical</a> <a id="20780" href="/Subtyping/#15857" class="InductiveConstructor">⊢zero</a>            <a id="20797" href="/Subtyping/#18562" class="InductiveConstructor">V-zero</a>      <a id="20809" class="Symbol">=</a>  <a id="20812" href="/Subtyping/#20153" class="InductiveConstructor">C-zero</a>
<a id="20819" href="/Subtyping/#20571" class="Function">canonical</a> <a id="20829" class="Symbol">(</a><a id="20830" href="/Subtyping/#15916" class="InductiveConstructor">⊢suc</a> <a id="20835" href="/Subtyping/#20835" class="Bound">⊢V</a><a id="20837" class="Symbol">)</a>        <a id="20846" class="Symbol">(</a><a id="20847" href="/Subtyping/#18614" class="InductiveConstructor">V-suc</a> <a id="20853" href="/Subtyping/#20853" class="Bound">VV</a><a id="20855" class="Symbol">)</a>  <a id="20858" class="Symbol">=</a>  <a id="20861" href="/Subtyping/#20219" class="InductiveConstructor">C-suc</a> <a id="20867" class="Symbol">(</a><a id="20868" href="/Subtyping/#20571" class="Function">canonical</a> <a id="20878" href="/Subtyping/#20835" class="Bound">⊢V</a> <a id="20881" href="/Subtyping/#20853" class="Bound">VV</a><a id="20883" class="Symbol">)</a>
<a id="20885" href="/Subtyping/#20571" class="Function">canonical</a> <a id="20895" class="Symbol">(</a><a id="20896" href="/Subtyping/#15995" class="InductiveConstructor">⊢case</a> <a id="20902" href="/Subtyping/#20902" class="Bound">⊢L</a> <a id="20905" href="/Subtyping/#20905" class="Bound">⊢M</a> <a id="20908" href="/Subtyping/#20908" class="Bound">⊢N</a><a id="20910" class="Symbol">)</a> <a id="20912" class="Symbol">()</a>
<a id="20915" href="/Subtyping/#20571" class="Function">canonical</a> <a id="20925" class="Symbol">(</a><a id="20926" href="/Subtyping/#16154" class="InductiveConstructor">⊢μ</a> <a id="20929" href="/Subtyping/#20929" class="Bound">⊢M</a><a id="20931" class="Symbol">)</a>          <a id="20942" class="Symbol">()</a>
<a id="20945" href="/Subtyping/#20571" class="Function">canonical</a> <a id="20955" class="Symbol">(</a><a id="20956" href="/Subtyping/#16230" class="InductiveConstructor">⊢rcd</a> <a id="20961" href="/Subtyping/#20961" class="Bound">⊢Ms</a> <a id="20965" href="/Subtyping/#20965" class="Bound">d</a><a id="20966" class="Symbol">)</a> <a id="20968" href="/Subtyping/#20968" class="Bound">VV</a> <a id="20971" class="Symbol">=</a> <a id="20973" href="/Subtyping/#20315" class="InductiveConstructor">C-rcd</a> <a id="20979" class="Symbol">{</a><a id="20980" class="Argument">dls</a> <a id="20984" class="Symbol">=</a> <a id="20986" href="/Subtyping/#20965" class="Bound">d</a><a id="20987" class="Symbol">}</a> <a id="20989" href="/Subtyping/#20961" class="Bound">⊢Ms</a> <a id="20993" href="/Subtyping/#20965" class="Bound">d</a> <a id="20995" href="/Subtyping/#13610" class="Function">&lt;:-refl</a> 
<a id="21004" href="/Subtyping/#20571" class="Function">canonical</a> <a id="21014" class="Symbol">(</a><a id="21015" href="/Subtyping/#16551" class="InductiveConstructor">⊢&lt;:</a> <a id="21019" href="/Subtyping/#21019" class="Bound">⊢M</a> <a id="21022" href="/Subtyping/#8829" class="InductiveConstructor">&lt;:-nat</a><a id="21028" class="Symbol">)</a> <a id="21030" href="/Subtyping/#21030" class="Bound">VV</a> <a id="21033" class="Symbol">=</a> <a id="21035" href="/Subtyping/#20571" class="Function">canonical</a> <a id="21045" href="/Subtyping/#21019" class="Bound">⊢M</a> <a id="21048" href="/Subtyping/#21030" class="Bound">VV</a>
<a id="21051" href="/Subtyping/#20571" class="Function">canonical</a> <a id="21061" class="Symbol">(</a><a id="21062" href="/Subtyping/#16551" class="InductiveConstructor">⊢&lt;:</a> <a id="21066" href="/Subtyping/#21066" class="Bound">⊢M</a> <a id="21069" class="Symbol">(</a><a id="21070" href="/Subtyping/#8850" class="InductiveConstructor">&lt;:-fun</a> <a id="21077" href="/Subtyping/#21077" class="Bound">A&lt;:B</a> <a id="21082" href="/Subtyping/#21082" class="Bound">A&lt;:B₁</a><a id="21087" class="Symbol">))</a> <a id="21090" href="/Subtyping/#21090" class="Bound">VV</a> 
    <a id="21098" class="Keyword">with</a> <a id="21103" href="/Subtyping/#20571" class="Function">canonical</a> <a id="21113" href="/Subtyping/#21066" class="Bound">⊢M</a> <a id="21116" href="/Subtyping/#21090" class="Bound">VV</a> 
<a id="21120" class="Symbol">...</a> <a id="21124" class="Symbol">|</a> <a id="21126" href="/Subtyping/#20024" class="InductiveConstructor">C-ƛ</a> <a id="21130" href="/Subtyping/#21130" class="Bound">⊢N</a>  <a id="21134" href="/Subtyping/#21134" class="Bound">AB&lt;:CD</a> <a id="21141" class="Symbol">=</a> <a id="21143" href="/Subtyping/#20024" class="InductiveConstructor">C-ƛ</a> <a id="21147" href="/Subtyping/#21130" class="Bound">⊢N</a> <a id="21150" class="Symbol">(</a><a id="21151" href="/Subtyping/#13873" class="Function">&lt;:-trans</a> <a id="21160" href="/Subtyping/#21134" class="Bound">AB&lt;:CD</a> <a id="21167" class="Symbol">(</a><a id="21168" href="/Subtyping/#8850" class="InductiveConstructor">&lt;:-fun</a> <a id="21175" class="Bound">A&lt;:B</a> <a id="21180" class="Bound">A&lt;:B₁</a><a id="21185" class="Symbol">))</a>
<a id="21188" href="/Subtyping/#20571" class="Function">canonical</a> <a id="21198" class="Symbol">(</a><a id="21199" href="/Subtyping/#16551" class="InductiveConstructor">⊢&lt;:</a> <a id="21203" href="/Subtyping/#21203" class="Bound">⊢M</a> <a id="21206" class="Symbol">(</a><a id="21207" href="/Subtyping/#8947" class="InductiveConstructor">&lt;:-rcd</a> <a id="21214" class="Symbol">{</a><a id="21215" class="Argument">d2</a> <a id="21218" class="Symbol">=</a> <a id="21220" href="/Subtyping/#21220" class="Bound">dls</a><a id="21223" class="Symbol">}</a> <a id="21225" href="/Subtyping/#21225" class="Bound">ls⊆ks</a> <a id="21231" href="/Subtyping/#21231" class="Bound">ls⦂Ss&lt;:ks⦂Ts</a><a id="21243" class="Symbol">))</a> <a id="21246" href="/Subtyping/#21246" class="Bound">VV</a>
    <a id="21253" class="Keyword">with</a> <a id="21258" href="/Subtyping/#20571" class="Function">canonical</a> <a id="21268" href="/Subtyping/#21203" class="Bound">⊢M</a> <a id="21271" href="/Subtyping/#21246" class="Bound">VV</a>
<a id="21274" class="Symbol">...</a> <a id="21278" class="Symbol">|</a> <a id="21280" href="/Subtyping/#20315" class="InductiveConstructor">C-rcd</a> <a id="21286" class="Symbol">{</a><a id="21287" class="Argument">dls</a> <a id="21291" class="Symbol">=</a> <a id="21293" href="/Subtyping/#21293" class="Bound">d</a><a id="21294" class="Symbol">}</a> <a id="21296" href="/Subtyping/#21296" class="Bound">⊢Ms</a> <a id="21300" href="/Subtyping/#21300" class="Bound">dks</a> <a id="21304" href="/Subtyping/#21304" class="Bound">As&lt;:Ss</a> <a id="21311" class="Symbol">=</a>
      <a id="21319" href="/Subtyping/#20315" class="InductiveConstructor">C-rcd</a> <a id="21325" class="Symbol">{</a><a id="21326" class="Argument">dls</a> <a id="21330" class="Symbol">=</a> <a id="21332" href="/Subtyping/#6565" class="Function">distinct-relevant</a> <a id="21350" class="Bound">dls</a><a id="21353" class="Symbol">}</a> <a id="21355" href="/Subtyping/#21296" class="Bound">⊢Ms</a> <a id="21359" href="/Subtyping/#21300" class="Bound">dks</a> <a id="21363" class="Symbol">(</a><a id="21364" href="/Subtyping/#13873" class="Function">&lt;:-trans</a> <a id="21373" href="/Subtyping/#21304" class="Bound">As&lt;:Ss</a> <a id="21380" class="Symbol">(</a><a id="21381" href="/Subtyping/#8947" class="InductiveConstructor">&lt;:-rcd</a> <a id="21388" class="Bound">ls⊆ks</a> <a id="21394" class="Bound">ls⦂Ss&lt;:ks⦂Ts</a><a id="21406" class="Symbol">))</a>
</pre>
<pre class="Agda"><a id="value"></a><a id="21418" href="/Subtyping/#21418" class="Function">value</a> <a id="21424" class="Symbol">:</a> <a id="21426" class="Symbol">∀</a> <a id="21428" class="Symbol">{</a><a id="21429" href="/Subtyping/#21429" class="Bound">M</a> <a id="21431" href="/Subtyping/#21431" class="Bound">A</a><a id="21432" class="Symbol">}</a>
  <a id="21436" class="Symbol">→</a> <a id="21438" href="/Subtyping/#19982" class="Datatype Operator">Canonical</a> <a id="21448" href="/Subtyping/#21429" class="Bound">M</a> <a id="21450" href="/Subtyping/#19982" class="Datatype Operator">⦂</a> <a id="21452" href="/Subtyping/#21431" class="Bound">A</a>
    <a id="21458" class="Comment">----------------</a>
  <a id="21477" class="Symbol">→</a> <a id="21479" href="/Subtyping/#18483" class="Datatype">Value</a> <a id="21485" href="/Subtyping/#21429" class="Bound">M</a>
<a id="21487" href="/Subtyping/#21418" class="Function">value</a> <a id="21493" class="Symbol">(</a><a id="21494" href="/Subtyping/#20024" class="InductiveConstructor">C-ƛ</a> <a id="21498" class="Symbol">_</a> <a id="21500" class="Symbol">_)</a>     <a id="21507" class="Symbol">=</a> <a id="21509" href="/Subtyping/#18511" class="InductiveConstructor">V-ƛ</a>
<a id="21513" href="/Subtyping/#21418" class="Function">value</a> <a id="21519" href="/Subtyping/#20153" class="InductiveConstructor">C-zero</a>        <a id="21533" class="Symbol">=</a> <a id="21535" href="/Subtyping/#18562" class="InductiveConstructor">V-zero</a>
<a id="21542" href="/Subtyping/#21418" class="Function">value</a> <a id="21548" class="Symbol">(</a><a id="21549" href="/Subtyping/#20219" class="InductiveConstructor">C-suc</a> <a id="21555" href="/Subtyping/#21555" class="Bound">CM</a><a id="21557" class="Symbol">)</a>    <a id="21562" class="Symbol">=</a> <a id="21564" href="/Subtyping/#18614" class="InductiveConstructor">V-suc</a> <a id="21570" class="Symbol">(</a><a id="21571" href="/Subtyping/#21418" class="Function">value</a> <a id="21577" href="/Subtyping/#21555" class="Bound">CM</a><a id="21579" class="Symbol">)</a>
<a id="21581" href="/Subtyping/#21418" class="Function">value</a> <a id="21587" class="Symbol">(</a><a id="21588" href="/Subtyping/#20315" class="InductiveConstructor">C-rcd</a> <a id="21594" class="Symbol">_</a> <a id="21596" class="Symbol">_</a> <a id="21598" class="Symbol">_)</a> <a id="21601" class="Symbol">=</a> <a id="21603" href="/Subtyping/#18687" class="InductiveConstructor">V-rcd</a>
</pre>
<pre class="Agda"><a id="typed"></a><a id="21618" href="/Subtyping/#21618" class="Function">typed</a> <a id="21624" class="Symbol">:</a> <a id="21626" class="Symbol">∀</a> <a id="21628" class="Symbol">{</a><a id="21629" href="/Subtyping/#21629" class="Bound">M</a> <a id="21631" href="/Subtyping/#21631" class="Bound">A</a><a id="21632" class="Symbol">}</a>
  <a id="21636" class="Symbol">→</a> <a id="21638" href="/Subtyping/#19982" class="Datatype Operator">Canonical</a> <a id="21648" href="/Subtyping/#21629" class="Bound">M</a> <a id="21650" href="/Subtyping/#19982" class="Datatype Operator">⦂</a> <a id="21652" href="/Subtyping/#21631" class="Bound">A</a>
    <a id="21658" class="Comment">---------------</a>
  <a id="21676" class="Symbol">→</a> <a id="21678" href="/Subtyping/#14686" class="InductiveConstructor">∅</a> <a id="21680" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="21682" href="/Subtyping/#21629" class="Bound">M</a> <a id="21684" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="21686" href="/Subtyping/#21631" class="Bound">A</a>
<a id="21688" href="/Subtyping/#21618" class="Function">typed</a> <a id="21694" class="Symbol">(</a><a id="21695" href="/Subtyping/#20024" class="InductiveConstructor">C-ƛ</a> <a id="21699" href="/Subtyping/#21699" class="Bound">⊢N</a> <a id="21702" href="/Subtyping/#21702" class="Bound">AB&lt;:CD</a><a id="21708" class="Symbol">)</a> <a id="21710" class="Symbol">=</a> <a id="21712" href="/Subtyping/#16551" class="InductiveConstructor">⊢&lt;:</a> <a id="21716" class="Symbol">(</a><a id="21717" href="/Subtyping/#15670" class="InductiveConstructor">⊢ƛ</a> <a id="21720" href="/Subtyping/#21699" class="Bound">⊢N</a><a id="21722" class="Symbol">)</a> <a id="21724" href="/Subtyping/#21702" class="Bound">AB&lt;:CD</a>
<a id="21731" href="/Subtyping/#21618" class="Function">typed</a> <a id="21737" href="/Subtyping/#20153" class="InductiveConstructor">C-zero</a> <a id="21744" class="Symbol">=</a> <a id="21746" href="/Subtyping/#15857" class="InductiveConstructor">⊢zero</a>
<a id="21752" href="/Subtyping/#21618" class="Function">typed</a> <a id="21758" class="Symbol">(</a><a id="21759" href="/Subtyping/#20219" class="InductiveConstructor">C-suc</a> <a id="21765" href="/Subtyping/#21765" class="Bound">c</a><a id="21766" class="Symbol">)</a> <a id="21768" class="Symbol">=</a> <a id="21770" href="/Subtyping/#15916" class="InductiveConstructor">⊢suc</a> <a id="21775" class="Symbol">(</a><a id="21776" href="/Subtyping/#21618" class="Function">typed</a> <a id="21782" href="/Subtyping/#21765" class="Bound">c</a><a id="21783" class="Symbol">)</a>
<a id="21785" href="/Subtyping/#21618" class="Function">typed</a> <a id="21791" class="Symbol">(</a><a id="21792" href="/Subtyping/#20315" class="InductiveConstructor">C-rcd</a> <a id="21798" href="/Subtyping/#21798" class="Bound">⊢Ms</a> <a id="21802" href="/Subtyping/#21802" class="Bound">dks</a> <a id="21806" href="/Subtyping/#21806" class="Bound">As&lt;:Bs</a><a id="21812" class="Symbol">)</a> <a id="21814" class="Symbol">=</a> <a id="21816" href="/Subtyping/#16551" class="InductiveConstructor">⊢&lt;:</a> <a id="21820" class="Symbol">(</a><a id="21821" href="/Subtyping/#16230" class="InductiveConstructor">⊢rcd</a> <a id="21826" href="/Subtyping/#21798" class="Bound">⊢Ms</a> <a id="21830" href="/Subtyping/#21802" class="Bound">dks</a><a id="21833" class="Symbol">)</a> <a id="21835" href="/Subtyping/#21806" class="Bound">As&lt;:Bs</a>
</pre>
<h2 id="progress">Progress</h2>

<pre class="Agda"><a id="21864" class="Keyword">data</a> <a id="Progress"></a><a id="21869" href="/Subtyping/#21869" class="Datatype">Progress</a> <a id="21878" class="Symbol">(</a><a id="21879" href="/Subtyping/#21879" class="Bound">M</a> <a id="21881" class="Symbol">:</a> <a id="21883" href="/Subtyping/#15043" class="Datatype">Term</a><a id="21887" class="Symbol">)</a> <a id="21889" class="Symbol">:</a> <a id="21891" class="PrimitiveType">Set</a> <a id="21895" class="Keyword">where</a>

  <a id="Progress.step"></a><a id="21904" href="/Subtyping/#21904" class="InductiveConstructor">step</a> <a id="21909" class="Symbol">:</a> <a id="21911" class="Symbol">∀</a> <a id="21913" class="Symbol">{</a><a id="21914" href="/Subtyping/#21914" class="Bound">N</a><a id="21915" class="Symbol">}</a>
    <a id="21921" class="Symbol">→</a> <a id="21923" href="/Subtyping/#21879" class="Bound">M</a> <a id="21925" href="/Subtyping/#18802" class="Datatype Operator">—→</a> <a id="21928" href="/Subtyping/#21914" class="Bound">N</a>
      <a id="21936" class="Comment">----------</a>
    <a id="21951" class="Symbol">→</a> <a id="21953" href="/Subtyping/#21869" class="Datatype">Progress</a> <a id="21962" href="/Subtyping/#21879" class="Bound">M</a>

  <a id="Progress.done"></a><a id="21967" href="/Subtyping/#21967" class="InductiveConstructor">done</a> <a id="21972" class="Symbol">:</a>
      <a id="21980" href="/Subtyping/#18483" class="Datatype">Value</a> <a id="21986" href="/Subtyping/#21879" class="Bound">M</a>
      <a id="21994" class="Comment">----------</a>
    <a id="22009" class="Symbol">→</a> <a id="22011" href="/Subtyping/#21869" class="Datatype">Progress</a> <a id="22020" href="/Subtyping/#21879" class="Bound">M</a>
</pre>
<pre class="Agda"><a id="progress"></a><a id="22031" href="/Subtyping/#22031" class="Function">progress</a> <a id="22040" class="Symbol">:</a> <a id="22042" class="Symbol">∀</a> <a id="22044" class="Symbol">{</a><a id="22045" href="/Subtyping/#22045" class="Bound">M</a> <a id="22047" href="/Subtyping/#22047" class="Bound">A</a><a id="22048" class="Symbol">}</a>
  <a id="22052" class="Symbol">→</a> <a id="22054" href="/Subtyping/#14686" class="InductiveConstructor">∅</a> <a id="22056" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="22058" href="/Subtyping/#22045" class="Bound">M</a> <a id="22060" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="22062" href="/Subtyping/#22047" class="Bound">A</a>
    <a id="22068" class="Comment">----------</a>
  <a id="22081" class="Symbol">→</a> <a id="22083" href="/Subtyping/#21869" class="Datatype">Progress</a> <a id="22092" href="/Subtyping/#22045" class="Bound">M</a>
<a id="22094" href="/Subtyping/#22031" class="Function">progress</a> <a id="22103" class="Symbol">(</a><a id="22104" href="/Subtyping/#15600" class="InductiveConstructor">⊢`</a> <a id="22107" class="Symbol">())</a>
<a id="22111" href="/Subtyping/#22031" class="Function">progress</a> <a id="22120" class="Symbol">(</a><a id="22121" href="/Subtyping/#15670" class="InductiveConstructor">⊢ƛ</a> <a id="22124" href="/Subtyping/#22124" class="Bound">⊢N</a><a id="22126" class="Symbol">)</a>                            <a id="22155" class="Symbol">=</a> <a id="22157" href="/Subtyping/#21967" class="InductiveConstructor">done</a> <a id="22162" href="/Subtyping/#18511" class="InductiveConstructor">V-ƛ</a>
<a id="22166" href="/Subtyping/#22031" class="Function">progress</a> <a id="22175" class="Symbol">(</a><a id="22176" href="/Subtyping/#15759" class="InductiveConstructor">⊢·</a> <a id="22179" href="/Subtyping/#22179" class="Bound">⊢L</a> <a id="22182" href="/Subtyping/#22182" class="Bound">⊢M</a><a id="22184" class="Symbol">)</a>
    <a id="22190" class="Keyword">with</a> <a id="22195" href="/Subtyping/#22031" class="Function">progress</a> <a id="22204" href="/Subtyping/#22179" class="Bound">⊢L</a>
<a id="22207" class="Symbol">...</a> <a id="22211" class="Symbol">|</a> <a id="22213" href="/Subtyping/#21904" class="InductiveConstructor">step</a> <a id="22218" href="/Subtyping/#22218" class="Bound">L—→L′</a>                            <a id="22251" class="Symbol">=</a> <a id="22253" href="/Subtyping/#21904" class="InductiveConstructor">step</a> <a id="22258" class="Symbol">(</a><a id="22259" href="/Subtyping/#18836" class="InductiveConstructor">ξ-·₁</a> <a id="22264" href="/Subtyping/#22218" class="Bound">L—→L′</a><a id="22269" class="Symbol">)</a>
<a id="22271" class="Symbol">...</a> <a id="22275" class="Symbol">|</a> <a id="22277" href="/Subtyping/#21967" class="InductiveConstructor">done</a> <a id="22282" href="/Subtyping/#22282" class="Bound">VL</a>
        <a id="22293" class="Keyword">with</a> <a id="22298" href="/Subtyping/#22031" class="Function">progress</a> <a id="22307" class="Bound">⊢M</a>
<a id="22310" class="Symbol">...</a>     <a id="22318" class="Symbol">|</a> <a id="22320" href="/Subtyping/#21904" class="InductiveConstructor">step</a> <a id="22325" href="/Subtyping/#22325" class="Bound">M—→M′</a>                        <a id="22354" class="Symbol">=</a> <a id="22356" href="/Subtyping/#21904" class="InductiveConstructor">step</a> <a id="22361" class="Symbol">(</a><a id="22362" href="/Subtyping/#18922" class="InductiveConstructor">ξ-·₂</a> <a id="22367" class="Bound">VL</a> <a id="22370" href="/Subtyping/#22325" class="Bound">M—→M′</a><a id="22375" class="Symbol">)</a>
<a id="22377" class="Symbol">...</a>     <a id="22385" class="Symbol">|</a> <a id="22387" href="/Subtyping/#21967" class="InductiveConstructor">done</a> <a id="22392" href="/Subtyping/#22392" class="Bound">VM</a> 
        <a id="22404" class="Keyword">with</a> <a id="22409" href="/Subtyping/#20571" class="Function">canonical</a> <a id="22419" class="Bound">⊢L</a> <a id="22422" class="Bound">VL</a> 
<a id="22426" class="Symbol">...</a>     <a id="22434" class="Symbol">|</a> <a id="22436" href="/Subtyping/#20024" class="InductiveConstructor">C-ƛ</a> <a id="22440" href="/Subtyping/#22440" class="Bound">⊢N</a> <a id="22443" class="Symbol">_</a>                          <a id="22470" class="Symbol">=</a> <a id="22472" href="/Subtyping/#21904" class="InductiveConstructor">step</a> <a id="22477" class="Symbol">(</a><a id="22478" href="/Subtyping/#19023" class="InductiveConstructor">β-ƛ</a> <a id="22482" class="Bound">VM</a><a id="22484" class="Symbol">)</a>
<a id="22486" href="/Subtyping/#22031" class="Function">progress</a> <a id="22495" href="/Subtyping/#15857" class="InductiveConstructor">⊢zero</a>                              <a id="22530" class="Symbol">=</a>  <a id="22533" href="/Subtyping/#21967" class="InductiveConstructor">done</a> <a id="22538" href="/Subtyping/#18562" class="InductiveConstructor">V-zero</a>
<a id="22545" href="/Subtyping/#22031" class="Function">progress</a> <a id="22554" class="Symbol">(</a><a id="22555" href="/Subtyping/#15916" class="InductiveConstructor">⊢suc</a> <a id="22560" href="/Subtyping/#22560" class="Bound">⊢M</a><a id="22562" class="Symbol">)</a> <a id="22564" class="Keyword">with</a> <a id="22569" href="/Subtyping/#22031" class="Function">progress</a> <a id="22578" href="/Subtyping/#22560" class="Bound">⊢M</a>
<a id="22581" class="Symbol">...</a>  <a id="22586" class="Symbol">|</a> <a id="22588" href="/Subtyping/#21904" class="InductiveConstructor">step</a> <a id="22593" href="/Subtyping/#22593" class="Bound">M—→M′</a>                           <a id="22625" class="Symbol">=</a>  <a id="22628" href="/Subtyping/#21904" class="InductiveConstructor">step</a> <a id="22633" class="Symbol">(</a><a id="22634" href="/Subtyping/#19115" class="InductiveConstructor">ξ-suc</a> <a id="22640" href="/Subtyping/#22593" class="Bound">M—→M′</a><a id="22645" class="Symbol">)</a>
<a id="22647" class="Symbol">...</a>  <a id="22652" class="Symbol">|</a> <a id="22654" href="/Subtyping/#21967" class="InductiveConstructor">done</a> <a id="22659" href="/Subtyping/#22659" class="Bound">VM</a>                              <a id="22691" class="Symbol">=</a>  <a id="22694" href="/Subtyping/#21967" class="InductiveConstructor">done</a> <a id="22699" class="Symbol">(</a><a id="22700" href="/Subtyping/#18614" class="InductiveConstructor">V-suc</a> <a id="22706" href="/Subtyping/#22659" class="Bound">VM</a><a id="22708" class="Symbol">)</a>
<a id="22710" href="/Subtyping/#22031" class="Function">progress</a> <a id="22719" class="Symbol">(</a><a id="22720" href="/Subtyping/#15995" class="InductiveConstructor">⊢case</a> <a id="22726" href="/Subtyping/#22726" class="Bound">⊢L</a> <a id="22729" href="/Subtyping/#22729" class="Bound">⊢M</a> <a id="22732" href="/Subtyping/#22732" class="Bound">⊢N</a><a id="22734" class="Symbol">)</a> <a id="22736" class="Keyword">with</a> <a id="22741" href="/Subtyping/#22031" class="Function">progress</a> <a id="22750" href="/Subtyping/#22726" class="Bound">⊢L</a>
<a id="22753" class="Symbol">...</a> <a id="22757" class="Symbol">|</a> <a id="22759" href="/Subtyping/#21904" class="InductiveConstructor">step</a> <a id="22764" href="/Subtyping/#22764" class="Bound">L—→L′</a>                            <a id="22797" class="Symbol">=</a>  <a id="22800" href="/Subtyping/#21904" class="InductiveConstructor">step</a> <a id="22805" class="Symbol">(</a><a id="22806" href="/Subtyping/#19204" class="InductiveConstructor">ξ-case</a> <a id="22813" href="/Subtyping/#22764" class="Bound">L—→L′</a><a id="22818" class="Symbol">)</a>
<a id="22820" class="Symbol">...</a> <a id="22824" class="Symbol">|</a> <a id="22826" href="/Subtyping/#21967" class="InductiveConstructor">done</a> <a id="22831" href="/Subtyping/#22831" class="Bound">VL</a> <a id="22834" class="Keyword">with</a> <a id="22839" href="/Subtyping/#20571" class="Function">canonical</a> <a id="22849" class="Bound">⊢L</a> <a id="22852" href="/Subtyping/#22831" class="Bound">VL</a>
<a id="22855" class="Symbol">...</a>   <a id="22861" class="Symbol">|</a> <a id="22863" href="/Subtyping/#20153" class="InductiveConstructor">C-zero</a>                              <a id="22899" class="Symbol">=</a>  <a id="22902" href="/Subtyping/#21904" class="InductiveConstructor">step</a> <a id="22907" href="/Subtyping/#19374" class="InductiveConstructor">β-zero</a>
<a id="22914" class="Symbol">...</a>   <a id="22920" class="Symbol">|</a> <a id="22922" href="/Subtyping/#20219" class="InductiveConstructor">C-suc</a> <a id="22928" href="/Subtyping/#22928" class="Bound">CL</a>                            <a id="22958" class="Symbol">=</a>  <a id="22961" href="/Subtyping/#21904" class="InductiveConstructor">step</a> <a id="22966" class="Symbol">(</a><a id="22967" href="/Subtyping/#19484" class="InductiveConstructor">β-suc</a> <a id="22973" class="Symbol">(</a><a id="22974" href="/Subtyping/#21418" class="Function">value</a> <a id="22980" href="/Subtyping/#22928" class="Bound">CL</a><a id="22982" class="Symbol">))</a>
<a id="22985" href="/Subtyping/#22031" class="Function">progress</a> <a id="22994" class="Symbol">(</a><a id="22995" href="/Subtyping/#16154" class="InductiveConstructor">⊢μ</a> <a id="22998" href="/Subtyping/#22998" class="Bound">⊢M</a><a id="23000" class="Symbol">)</a>                          <a id="23027" class="Symbol">=</a> <a id="23029" href="/Subtyping/#21904" class="InductiveConstructor">step</a> <a id="23034" href="/Subtyping/#19626" class="InductiveConstructor">β-μ</a>
<a id="23038" href="/Subtyping/#22031" class="Function">progress</a> <a id="23047" class="Symbol">(</a><a id="23048" href="/Subtyping/#16387" class="InductiveConstructor">⊢#</a> <a id="23051" class="Symbol">{</a><a id="23052" href="/Subtyping/#23052" class="Bound">Γ</a><a id="23053" class="Symbol">}{</a><a id="23055" href="/Subtyping/#23055" class="Bound">A</a><a id="23056" class="Symbol">}{</a><a id="23058" href="/Subtyping/#23058" class="Bound">M</a><a id="23059" class="Symbol">}{</a><a id="23061" href="/Subtyping/#23061" class="Bound">n</a><a id="23062" class="Symbol">}{</a><a id="23064" href="/Subtyping/#23064" class="Bound">ls</a><a id="23066" class="Symbol">}{</a><a id="23068" href="/Subtyping/#23068" class="Bound">As</a><a id="23070" class="Symbol">}{</a><a id="23072" href="/Subtyping/#23072" class="Bound">d</a><a id="23073" class="Symbol">}{</a><a id="23075" href="/Subtyping/#23075" class="Bound">i</a><a id="23076" class="Symbol">}{</a><a id="23078" href="/Subtyping/#23078" class="Bound">f</a><a id="23079" class="Symbol">}</a> <a id="23081" href="/Subtyping/#23081" class="Bound">⊢R</a> <a id="23084" href="/Subtyping/#23084" class="Bound">lif</a> <a id="23088" href="/Subtyping/#23088" class="Bound">liA</a><a id="23091" class="Symbol">)</a>
    <a id="23097" class="Keyword">with</a> <a id="23102" href="/Subtyping/#22031" class="Function">progress</a> <a id="23111" href="/Subtyping/#23081" class="Bound">⊢R</a>
<a id="23114" class="Symbol">...</a> <a id="23118" class="Symbol">|</a> <a id="23120" href="/Subtyping/#21904" class="InductiveConstructor">step</a> <a id="23125" href="/Subtyping/#23125" class="Bound">R—→R′</a>                          <a id="23156" class="Symbol">=</a> <a id="23158" href="/Subtyping/#21904" class="InductiveConstructor">step</a> <a id="23163" class="Symbol">(</a><a id="23164" href="/Subtyping/#19694" class="InductiveConstructor">ξ-#</a> <a id="23168" href="/Subtyping/#23125" class="Bound">R—→R′</a><a id="23173" class="Symbol">)</a>
<a id="23175" class="Symbol">...</a> <a id="23179" class="Symbol">|</a> <a id="23181" href="/Subtyping/#21967" class="InductiveConstructor">done</a> <a id="23186" href="/Subtyping/#23186" class="Bound">VR</a>
    <a id="23193" class="Keyword">with</a> <a id="23198" href="/Subtyping/#20571" class="Function">canonical</a> <a id="23208" class="Bound">⊢R</a> <a id="23211" href="/Subtyping/#23186" class="Bound">VR</a>
<a id="23214" class="Symbol">...</a> <a id="23218" class="Symbol">|</a> <a id="23220" href="/Subtyping/#20315" class="InductiveConstructor">C-rcd</a> <a id="23226" href="/Subtyping/#23226" class="Bound">⊢Ms</a> <a id="23230" href="/Subtyping/#23230" class="Bound">dks</a> <a id="23234" class="Symbol">(</a><a id="23235" href="/Subtyping/#8947" class="InductiveConstructor">&lt;:-rcd</a> <a id="23242" href="/Subtyping/#23242" class="Bound">ls⊆ls&#39;</a> <a id="23249" class="Symbol">_)</a>
    <a id="23256" class="Keyword">with</a> <a id="23261" href="/Subtyping/#7771" class="Function">lookup-⊆</a> <a id="23270" class="Symbol">{</a><a id="23271" class="Argument">i</a> <a id="23273" class="Symbol">=</a> <a id="23275" class="Bound">i</a><a id="23276" class="Symbol">}</a> <a id="23278" href="/Subtyping/#23242" class="Bound">ls⊆ls&#39;</a>
<a id="23285" class="Symbol">...</a> <a id="23289" class="Symbol">|</a> <a id="23291" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="23293" href="/Subtyping/#23293" class="Bound">k</a> <a id="23295" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="23297" href="/Subtyping/#23297" class="Bound">eq</a> <a id="23300" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a> <a id="23302" class="Keyword">rewrite</a> <a id="23310" href="/Subtyping/#23297" class="Bound">eq</a> <a id="23313" class="Symbol">=</a> <a id="23315" href="/Subtyping/#21904" class="InductiveConstructor">step</a> <a id="23320" class="Symbol">(</a><a id="23321" href="/Subtyping/#19758" class="InductiveConstructor">β-#</a> <a id="23325" class="Symbol">{</a><a id="23326" class="Argument">j</a> <a id="23328" class="Symbol">=</a> <a id="23330" href="/Subtyping/#23293" class="Bound">k</a><a id="23331" class="Symbol">}</a> <a id="23333" class="Bound">lif</a><a id="23336" class="Symbol">)</a>
<a id="23338" href="/Subtyping/#22031" class="Function">progress</a> <a id="23347" class="Symbol">(</a><a id="23348" href="/Subtyping/#16230" class="InductiveConstructor">⊢rcd</a> <a id="23353" href="/Subtyping/#23353" class="Bound">x</a> <a id="23355" href="/Subtyping/#23355" class="Bound">d</a><a id="23356" class="Symbol">)</a>                       <a id="23380" class="Symbol">=</a> <a id="23382" href="/Subtyping/#21967" class="InductiveConstructor">done</a> <a id="23387" href="/Subtyping/#18687" class="InductiveConstructor">V-rcd</a>
<a id="23393" href="/Subtyping/#22031" class="Function">progress</a> <a id="23402" class="Symbol">(</a><a id="23403" href="/Subtyping/#16551" class="InductiveConstructor">⊢&lt;:</a> <a id="23407" class="Symbol">{</a><a id="23408" class="Argument">A</a> <a id="23410" class="Symbol">=</a> <a id="23412" href="/Subtyping/#23412" class="Bound">A</a><a id="23413" class="Symbol">}{</a><a id="23415" href="/Subtyping/#23415" class="Bound">B</a><a id="23416" class="Symbol">}</a> <a id="23418" href="/Subtyping/#23418" class="Bound">⊢M</a> <a id="23421" href="/Subtyping/#23421" class="Bound">A&lt;:B</a><a id="23425" class="Symbol">)</a>         <a id="23435" class="Symbol">=</a> <a id="23437" href="/Subtyping/#22031" class="Function">progress</a> <a id="23446" href="/Subtyping/#23418" class="Bound">⊢M</a>
</pre>

<h2 id="preservation">Preservation</h2>

<pre class="Agda"><a id="_⦂ᵣ_⇒_"></a><a id="23477" href="/Subtyping/#23477" class="Function Operator">_⦂ᵣ_⇒_</a> <a id="23484" class="Symbol">:</a> <a id="23486" class="Symbol">(</a><a id="23487" href="/Subtyping/#15013" class="Function">Id</a> <a id="23490" class="Symbol">→</a> <a id="23492" href="/Subtyping/#15013" class="Function">Id</a><a id="23494" class="Symbol">)</a> <a id="23496" class="Symbol">→</a> <a id="23498" href="/Subtyping/#14664" class="Datatype">Context</a> <a id="23506" class="Symbol">→</a> <a id="23508" href="/Subtyping/#14664" class="Datatype">Context</a> <a id="23516" class="Symbol">→</a> <a id="23518" class="PrimitiveType">Set</a>
<a id="23522" href="/Subtyping/#23522" class="Bound">ρ</a> <a id="23524" href="/Subtyping/#23477" class="Function Operator">⦂ᵣ</a> <a id="23527" href="/Subtyping/#23527" class="Bound">Γ</a> <a id="23529" href="/Subtyping/#23477" class="Function Operator">⇒</a> <a id="23531" href="/Subtyping/#23531" class="Bound">Δ</a> <a id="23533" class="Symbol">=</a> <a id="23535" class="Symbol">∀</a> <a id="23537" class="Symbol">{</a><a id="23538" href="/Subtyping/#23538" class="Bound">x</a> <a id="23540" href="/Subtyping/#23540" class="Bound">A</a><a id="23541" class="Symbol">}</a> <a id="23543" class="Symbol">→</a> <a id="23545" href="/Subtyping/#23527" class="Bound">Γ</a> <a id="23547" href="/Subtyping/#14785" class="Datatype Operator">∋</a> <a id="23549" href="/Subtyping/#23538" class="Bound">x</a> <a id="23551" href="/Subtyping/#14785" class="Datatype Operator">⦂</a> <a id="23553" href="/Subtyping/#23540" class="Bound">A</a> <a id="23555" class="Symbol">→</a> <a id="23557" href="/Subtyping/#23531" class="Bound">Δ</a> <a id="23559" href="/Subtyping/#14785" class="Datatype Operator">∋</a> <a id="23561" href="/Subtyping/#23522" class="Bound">ρ</a> <a id="23563" href="/Subtyping/#23538" class="Bound">x</a> <a id="23565" href="/Subtyping/#14785" class="Datatype Operator">⦂</a> <a id="23567" href="/Subtyping/#23540" class="Bound">A</a>
</pre>
<pre class="Agda"><a id="ext-pres"></a><a id="23578" href="/Subtyping/#23578" class="Function">ext-pres</a> <a id="23587" class="Symbol">:</a> <a id="23589" class="Symbol">∀</a> <a id="23591" class="Symbol">{</a><a id="23592" href="/Subtyping/#23592" class="Bound">Γ</a> <a id="23594" href="/Subtyping/#23594" class="Bound">Δ</a> <a id="23596" href="/Subtyping/#23596" class="Bound">ρ</a> <a id="23598" href="/Subtyping/#23598" class="Bound">B</a><a id="23599" class="Symbol">}</a>
  <a id="23603" class="Symbol">→</a> <a id="23605" href="/Subtyping/#23596" class="Bound">ρ</a> <a id="23607" href="/Subtyping/#23477" class="Function Operator">⦂ᵣ</a> <a id="23610" href="/Subtyping/#23592" class="Bound">Γ</a> <a id="23612" href="/Subtyping/#23477" class="Function Operator">⇒</a> <a id="23614" href="/Subtyping/#23594" class="Bound">Δ</a>
    <a id="23620" class="Comment">--------------------------------</a>
  <a id="23655" class="Symbol">→</a> <a id="23657" href="/Subtyping/#16854" class="Function">ext</a> <a id="23661" href="/Subtyping/#23596" class="Bound">ρ</a> <a id="23663" href="/Subtyping/#23477" class="Function Operator">⦂ᵣ</a> <a id="23666" class="Symbol">(</a><a id="23667" href="/Subtyping/#23592" class="Bound">Γ</a> <a id="23669" href="/Subtyping/#14702" class="InductiveConstructor Operator">,</a> <a id="23671" href="/Subtyping/#23598" class="Bound">B</a><a id="23672" class="Symbol">)</a> <a id="23674" href="/Subtyping/#23477" class="Function Operator">⇒</a> <a id="23676" class="Symbol">(</a><a id="23677" href="/Subtyping/#23594" class="Bound">Δ</a> <a id="23679" href="/Subtyping/#14702" class="InductiveConstructor Operator">,</a> <a id="23681" href="/Subtyping/#23598" class="Bound">B</a><a id="23682" class="Symbol">)</a>
<a id="23684" href="/Subtyping/#23578" class="Function">ext-pres</a> <a id="23693" class="Symbol">{</a><a id="23694" class="Argument">ρ</a> <a id="23696" class="Symbol">=</a> <a id="23698" href="/Subtyping/#23698" class="Bound">ρ</a> <a id="23700" class="Symbol">}</a> <a id="23702" href="/Subtyping/#23702" class="Bound">ρ⦂</a> <a id="23705" href="/Subtyping/#14827" class="InductiveConstructor">Z</a> <a id="23707" class="Symbol">=</a> <a id="23709" href="/Subtyping/#14827" class="InductiveConstructor">Z</a>
<a id="23711" href="/Subtyping/#23578" class="Function">ext-pres</a> <a id="23720" class="Symbol">{</a><a id="23721" class="Argument">ρ</a> <a id="23723" class="Symbol">=</a> <a id="23725" href="/Subtyping/#23725" class="Bound">ρ</a> <a id="23727" class="Symbol">}</a> <a id="23729" href="/Subtyping/#23729" class="Bound">ρ⦂</a> <a id="23732" class="Symbol">(</a><a id="23733" href="/Subtyping/#14887" class="InductiveConstructor">S</a> <a id="23735" class="Symbol">{</a><a id="23736" class="Argument">x</a> <a id="23738" class="Symbol">=</a> <a id="23740" href="/Subtyping/#23740" class="Bound">x</a><a id="23741" class="Symbol">}</a> <a id="23743" href="/Subtyping/#23743" class="Bound">∋x</a><a id="23745" class="Symbol">)</a> <a id="23747" class="Symbol">=</a>  <a id="23750" href="/Subtyping/#14887" class="InductiveConstructor">S</a> <a id="23752" class="Symbol">(</a><a id="23753" href="/Subtyping/#23729" class="Bound">ρ⦂</a> <a id="23756" href="/Subtyping/#23743" class="Bound">∋x</a><a id="23758" class="Symbol">)</a>
</pre>
<pre class="Agda"><a id="ren-vec-pres"></a><a id="23769" href="/Subtyping/#23769" class="Function">ren-vec-pres</a> <a id="23782" class="Symbol">:</a> <a id="23784" class="Symbol">∀</a> <a id="23786" class="Symbol">{</a><a id="23787" href="/Subtyping/#23787" class="Bound">Γ</a> <a id="23789" href="/Subtyping/#23789" class="Bound">Δ</a> <a id="23791" href="/Subtyping/#23791" class="Bound">ρ</a><a id="23792" class="Symbol">}{</a><a id="23794" href="/Subtyping/#23794" class="Bound">n</a><a id="23795" class="Symbol">}{</a><a id="23797" href="/Subtyping/#23797" class="Bound">Ms</a> <a id="23800" class="Symbol">:</a> <a id="23802" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="23806" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="23811" href="/Subtyping/#23794" class="Bound">n</a><a id="23812" class="Symbol">}{</a><a id="23814" href="/Subtyping/#23814" class="Bound">As</a> <a id="23817" class="Symbol">:</a> <a id="23819" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="23823" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="23828" href="/Subtyping/#23794" class="Bound">n</a><a id="23829" class="Symbol">}</a>
  <a id="23833" class="Symbol">→</a> <a id="23835" href="/Subtyping/#23791" class="Bound">ρ</a> <a id="23837" href="/Subtyping/#23477" class="Function Operator">⦂ᵣ</a> <a id="23840" href="/Subtyping/#23787" class="Bound">Γ</a> <a id="23842" href="/Subtyping/#23477" class="Function Operator">⇒</a> <a id="23844" href="/Subtyping/#23789" class="Bound">Δ</a>
  <a id="23848" class="Symbol">→</a> <a id="23850" href="/Subtyping/#23787" class="Bound">Γ</a> <a id="23852" href="/Subtyping/#15491" class="Datatype Operator">⊢*</a> <a id="23855" href="/Subtyping/#23797" class="Bound">Ms</a> <a id="23858" href="/Subtyping/#15491" class="Datatype Operator">⦂</a> <a id="23860" href="/Subtyping/#23814" class="Bound">As</a>
    <a id="23867" class="Comment">---------------------</a>
  <a id="23891" class="Symbol">→</a> <a id="23893" href="/Subtyping/#23789" class="Bound">Δ</a> <a id="23895" href="/Subtyping/#15491" class="Datatype Operator">⊢*</a> <a id="23898" href="/Subtyping/#16937" class="Function">rename-vec</a> <a id="23909" href="/Subtyping/#23791" class="Bound">ρ</a> <a id="23911" href="/Subtyping/#23797" class="Bound">Ms</a> <a id="23914" href="/Subtyping/#15491" class="Datatype Operator">⦂</a> <a id="23916" href="/Subtyping/#23814" class="Bound">As</a>

<a id="rename-pres"></a><a id="23920" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="23932" class="Symbol">:</a> <a id="23934" class="Symbol">∀</a> <a id="23936" class="Symbol">{</a><a id="23937" href="/Subtyping/#23937" class="Bound">Γ</a> <a id="23939" href="/Subtyping/#23939" class="Bound">Δ</a> <a id="23941" href="/Subtyping/#23941" class="Bound">ρ</a> <a id="23943" href="/Subtyping/#23943" class="Bound">M</a> <a id="23945" href="/Subtyping/#23945" class="Bound">A</a><a id="23946" class="Symbol">}</a>
  <a id="23950" class="Symbol">→</a> <a id="23952" href="/Subtyping/#23941" class="Bound">ρ</a> <a id="23954" href="/Subtyping/#23477" class="Function Operator">⦂ᵣ</a> <a id="23957" href="/Subtyping/#23937" class="Bound">Γ</a> <a id="23959" href="/Subtyping/#23477" class="Function Operator">⇒</a> <a id="23961" href="/Subtyping/#23939" class="Bound">Δ</a>
  <a id="23965" class="Symbol">→</a> <a id="23967" href="/Subtyping/#23937" class="Bound">Γ</a> <a id="23969" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="23971" href="/Subtyping/#23943" class="Bound">M</a> <a id="23973" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="23975" href="/Subtyping/#23945" class="Bound">A</a>
    <a id="23981" class="Comment">------------------</a>
  <a id="24002" class="Symbol">→</a> <a id="24004" href="/Subtyping/#23939" class="Bound">Δ</a> <a id="24006" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="24008" href="/Subtyping/#16994" class="Function">rename</a> <a id="24015" href="/Subtyping/#23941" class="Bound">ρ</a> <a id="24017" href="/Subtyping/#23943" class="Bound">M</a> <a id="24019" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="24021" href="/Subtyping/#23945" class="Bound">A</a>
<a id="24023" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24035" href="/Subtyping/#24035" class="Bound">ρ⦂</a> <a id="24038" class="Symbol">(</a><a id="24039" href="/Subtyping/#15600" class="InductiveConstructor">⊢`</a> <a id="24042" href="/Subtyping/#24042" class="Bound">∋w</a><a id="24044" class="Symbol">)</a>           <a id="24056" class="Symbol">=</a>  <a id="24059" href="/Subtyping/#15600" class="InductiveConstructor">⊢`</a> <a id="24062" class="Symbol">(</a><a id="24063" href="/Subtyping/#24035" class="Bound">ρ⦂</a> <a id="24066" href="/Subtyping/#24042" class="Bound">∋w</a><a id="24068" class="Symbol">)</a>
<a id="24070" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24082" class="Symbol">{</a><a id="24083" class="Argument">ρ</a> <a id="24085" class="Symbol">=</a> <a id="24087" href="/Subtyping/#24087" class="Bound">ρ</a><a id="24088" class="Symbol">}</a> <a id="24090" href="/Subtyping/#24090" class="Bound">ρ⦂</a> <a id="24093" class="Symbol">(</a><a id="24094" href="/Subtyping/#15670" class="InductiveConstructor">⊢ƛ</a> <a id="24097" href="/Subtyping/#24097" class="Bound">⊢N</a><a id="24099" class="Symbol">)</a>   <a id="24103" class="Symbol">=</a>  <a id="24106" href="/Subtyping/#15670" class="InductiveConstructor">⊢ƛ</a> <a id="24109" class="Symbol">(</a><a id="24110" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24122" class="Symbol">{</a><a id="24123" class="Argument">ρ</a> <a id="24125" class="Symbol">=</a> <a id="24127" href="/Subtyping/#16854" class="Function">ext</a> <a id="24131" href="/Subtyping/#24087" class="Bound">ρ</a><a id="24132" class="Symbol">}</a> <a id="24134" class="Symbol">(</a><a id="24135" href="/Subtyping/#23578" class="Function">ext-pres</a> <a id="24144" class="Symbol">{</a><a id="24145" class="Argument">ρ</a> <a id="24147" class="Symbol">=</a> <a id="24149" href="/Subtyping/#24087" class="Bound">ρ</a><a id="24150" class="Symbol">}</a> <a id="24152" href="/Subtyping/#24090" class="Bound">ρ⦂</a><a id="24154" class="Symbol">)</a> <a id="24156" href="/Subtyping/#24097" class="Bound">⊢N</a><a id="24158" class="Symbol">)</a>
<a id="24160" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24172" class="Symbol">{</a><a id="24173" class="Argument">ρ</a> <a id="24175" class="Symbol">=</a> <a id="24177" href="/Subtyping/#24177" class="Bound">ρ</a><a id="24178" class="Symbol">}</a> <a id="24180" href="/Subtyping/#24180" class="Bound">ρ⦂</a> <a id="24183" class="Symbol">(</a><a id="24184" href="/Subtyping/#15759" class="InductiveConstructor">⊢·</a> <a id="24187" href="/Subtyping/#24187" class="Bound">⊢L</a> <a id="24190" href="/Subtyping/#24190" class="Bound">⊢M</a><a id="24192" class="Symbol">)=</a>  <a id="24196" href="/Subtyping/#15759" class="InductiveConstructor">⊢·</a> <a id="24199" class="Symbol">(</a><a id="24200" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24212" class="Symbol">{</a><a id="24213" class="Argument">ρ</a> <a id="24215" class="Symbol">=</a> <a id="24217" href="/Subtyping/#24177" class="Bound">ρ</a><a id="24218" class="Symbol">}</a> <a id="24220" href="/Subtyping/#24180" class="Bound">ρ⦂</a> <a id="24223" href="/Subtyping/#24187" class="Bound">⊢L</a><a id="24225" class="Symbol">)</a> <a id="24227" class="Symbol">(</a><a id="24228" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24240" class="Symbol">{</a><a id="24241" class="Argument">ρ</a> <a id="24243" class="Symbol">=</a> <a id="24245" href="/Subtyping/#24177" class="Bound">ρ</a><a id="24246" class="Symbol">}</a> <a id="24248" href="/Subtyping/#24180" class="Bound">ρ⦂</a> <a id="24251" href="/Subtyping/#24190" class="Bound">⊢M</a><a id="24253" class="Symbol">)</a>
<a id="24255" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24267" class="Symbol">{</a><a id="24268" class="Argument">ρ</a> <a id="24270" class="Symbol">=</a> <a id="24272" href="/Subtyping/#24272" class="Bound">ρ</a><a id="24273" class="Symbol">}</a> <a id="24275" href="/Subtyping/#24275" class="Bound">ρ⦂</a> <a id="24278" class="Symbol">(</a><a id="24279" href="/Subtyping/#16154" class="InductiveConstructor">⊢μ</a> <a id="24282" href="/Subtyping/#24282" class="Bound">⊢M</a><a id="24284" class="Symbol">)</a>   <a id="24288" class="Symbol">=</a>  <a id="24291" href="/Subtyping/#16154" class="InductiveConstructor">⊢μ</a> <a id="24294" class="Symbol">(</a><a id="24295" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24307" class="Symbol">{</a><a id="24308" class="Argument">ρ</a> <a id="24310" class="Symbol">=</a> <a id="24312" href="/Subtyping/#16854" class="Function">ext</a> <a id="24316" href="/Subtyping/#24272" class="Bound">ρ</a><a id="24317" class="Symbol">}</a> <a id="24319" class="Symbol">(</a><a id="24320" href="/Subtyping/#23578" class="Function">ext-pres</a> <a id="24329" class="Symbol">{</a><a id="24330" class="Argument">ρ</a> <a id="24332" class="Symbol">=</a> <a id="24334" href="/Subtyping/#24272" class="Bound">ρ</a><a id="24335" class="Symbol">}</a> <a id="24337" href="/Subtyping/#24275" class="Bound">ρ⦂</a><a id="24339" class="Symbol">)</a> <a id="24341" href="/Subtyping/#24282" class="Bound">⊢M</a><a id="24343" class="Symbol">)</a>
<a id="24345" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24357" href="/Subtyping/#24357" class="Bound">ρ⦂</a> <a id="24360" class="Symbol">(</a><a id="24361" href="/Subtyping/#16230" class="InductiveConstructor">⊢rcd</a> <a id="24366" href="/Subtyping/#24366" class="Bound">⊢Ms</a> <a id="24370" href="/Subtyping/#24370" class="Bound">dls</a><a id="24373" class="Symbol">)</a>    <a id="24378" class="Symbol">=</a> <a id="24380" href="/Subtyping/#16230" class="InductiveConstructor">⊢rcd</a> <a id="24385" class="Symbol">(</a><a id="24386" href="/Subtyping/#23769" class="Function">ren-vec-pres</a> <a id="24399" href="/Subtyping/#24357" class="Bound">ρ⦂</a> <a id="24402" href="/Subtyping/#24366" class="Bound">⊢Ms</a> <a id="24406" class="Symbol">)</a> <a id="24408" href="/Subtyping/#24370" class="Bound">dls</a>
<a id="24412" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24424" class="Symbol">{</a><a id="24425" class="Argument">ρ</a> <a id="24427" class="Symbol">=</a> <a id="24429" href="/Subtyping/#24429" class="Bound">ρ</a><a id="24430" class="Symbol">}</a> <a id="24432" href="/Subtyping/#24432" class="Bound">ρ⦂</a> <a id="24435" class="Symbol">(</a><a id="24436" href="/Subtyping/#16387" class="InductiveConstructor">⊢#</a> <a id="24439" class="Symbol">{</a><a id="24440" class="Argument">d</a> <a id="24442" class="Symbol">=</a> <a id="24444" href="/Subtyping/#24444" class="Bound">d</a><a id="24445" class="Symbol">}</a> <a id="24447" href="/Subtyping/#24447" class="Bound">⊢R</a> <a id="24450" href="/Subtyping/#24450" class="Bound">lif</a> <a id="24454" href="/Subtyping/#24454" class="Bound">liA</a><a id="24457" class="Symbol">)</a> <a id="24459" class="Symbol">=</a> <a id="24461" href="/Subtyping/#16387" class="InductiveConstructor">⊢#</a> <a id="24464" class="Symbol">{</a><a id="24465" class="Argument">d</a> <a id="24467" class="Symbol">=</a> <a id="24469" href="/Subtyping/#24444" class="Bound">d</a><a id="24470" class="Symbol">}(</a><a id="24472" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24484" class="Symbol">{</a><a id="24485" class="Argument">ρ</a> <a id="24487" class="Symbol">=</a> <a id="24489" href="/Subtyping/#24429" class="Bound">ρ</a><a id="24490" class="Symbol">}</a> <a id="24492" href="/Subtyping/#24432" class="Bound">ρ⦂</a> <a id="24495" href="/Subtyping/#24447" class="Bound">⊢R</a><a id="24497" class="Symbol">)</a> <a id="24499" href="/Subtyping/#24450" class="Bound">lif</a> <a id="24503" href="/Subtyping/#24454" class="Bound">liA</a>
<a id="24507" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24519" class="Symbol">{</a><a id="24520" class="Argument">ρ</a> <a id="24522" class="Symbol">=</a> <a id="24524" href="/Subtyping/#24524" class="Bound">ρ</a><a id="24525" class="Symbol">}</a> <a id="24527" href="/Subtyping/#24527" class="Bound">ρ⦂</a> <a id="24530" class="Symbol">(</a><a id="24531" href="/Subtyping/#16551" class="InductiveConstructor">⊢&lt;:</a> <a id="24535" href="/Subtyping/#24535" class="Bound">⊢M</a> <a id="24538" href="/Subtyping/#24538" class="Bound">lt</a><a id="24540" class="Symbol">)</a> <a id="24542" class="Symbol">=</a> <a id="24544" href="/Subtyping/#16551" class="InductiveConstructor">⊢&lt;:</a> <a id="24548" class="Symbol">(</a><a id="24549" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24561" class="Symbol">{</a><a id="24562" class="Argument">ρ</a> <a id="24564" class="Symbol">=</a> <a id="24566" href="/Subtyping/#24524" class="Bound">ρ</a><a id="24567" class="Symbol">}</a> <a id="24569" href="/Subtyping/#24527" class="Bound">ρ⦂</a> <a id="24572" href="/Subtyping/#24535" class="Bound">⊢M</a><a id="24574" class="Symbol">)</a> <a id="24576" href="/Subtyping/#24538" class="Bound">lt</a>
<a id="24579" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24591" href="/Subtyping/#24591" class="Bound">ρ⦂</a> <a id="24594" href="/Subtyping/#15857" class="InductiveConstructor">⊢zero</a>               <a id="24614" class="Symbol">=</a> <a id="24616" href="/Subtyping/#15857" class="InductiveConstructor">⊢zero</a>
<a id="24622" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24634" href="/Subtyping/#24634" class="Bound">ρ⦂</a> <a id="24637" class="Symbol">(</a><a id="24638" href="/Subtyping/#15916" class="InductiveConstructor">⊢suc</a> <a id="24643" href="/Subtyping/#24643" class="Bound">⊢M</a><a id="24645" class="Symbol">)</a>           <a id="24657" class="Symbol">=</a> <a id="24659" href="/Subtyping/#15916" class="InductiveConstructor">⊢suc</a> <a id="24664" class="Symbol">(</a><a id="24665" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24677" href="/Subtyping/#24634" class="Bound">ρ⦂</a> <a id="24680" href="/Subtyping/#24643" class="Bound">⊢M</a><a id="24682" class="Symbol">)</a>
<a id="24684" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24696" href="/Subtyping/#24696" class="Bound">ρ⦂</a> <a id="24699" class="Symbol">(</a><a id="24700" href="/Subtyping/#15995" class="InductiveConstructor">⊢case</a> <a id="24706" href="/Subtyping/#24706" class="Bound">⊢L</a> <a id="24709" href="/Subtyping/#24709" class="Bound">⊢M</a> <a id="24712" href="/Subtyping/#24712" class="Bound">⊢N</a><a id="24714" class="Symbol">)</a>    <a id="24719" class="Symbol">=</a>
    <a id="24725" href="/Subtyping/#15995" class="InductiveConstructor">⊢case</a> <a id="24731" class="Symbol">(</a><a id="24732" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24744" href="/Subtyping/#24696" class="Bound">ρ⦂</a> <a id="24747" href="/Subtyping/#24706" class="Bound">⊢L</a><a id="24749" class="Symbol">)</a> <a id="24751" class="Symbol">(</a><a id="24752" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24764" href="/Subtyping/#24696" class="Bound">ρ⦂</a> <a id="24767" href="/Subtyping/#24709" class="Bound">⊢M</a><a id="24769" class="Symbol">)</a> <a id="24771" class="Symbol">(</a><a id="24772" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24784" class="Symbol">(</a><a id="24785" href="/Subtyping/#23578" class="Function">ext-pres</a> <a id="24794" href="/Subtyping/#24696" class="Bound">ρ⦂</a><a id="24796" class="Symbol">)</a> <a id="24798" href="/Subtyping/#24712" class="Bound">⊢N</a><a id="24800" class="Symbol">)</a>

<a id="24803" href="/Subtyping/#23769" class="Function">ren-vec-pres</a> <a id="24816" href="/Subtyping/#24816" class="Bound">ρ⦂</a> <a id="24819" href="/Subtyping/#16659" class="InductiveConstructor">⊢*-[]</a> <a id="24825" class="Symbol">=</a> <a id="24827" href="/Subtyping/#16659" class="InductiveConstructor">⊢*-[]</a>
<a id="24833" href="/Subtyping/#23769" class="Function">ren-vec-pres</a> <a id="24846" class="Symbol">{</a><a id="24847" class="Argument">ρ</a> <a id="24849" class="Symbol">=</a> <a id="24851" href="/Subtyping/#24851" class="Bound">ρ</a><a id="24852" class="Symbol">}</a> <a id="24854" href="/Subtyping/#24854" class="Bound">ρ⦂</a> <a id="24857" class="Symbol">(</a><a id="24858" href="/Subtyping/#16690" class="InductiveConstructor">⊢*-∷</a> <a id="24863" href="/Subtyping/#24863" class="Bound">⊢M</a> <a id="24866" href="/Subtyping/#24866" class="Bound">⊢Ms</a><a id="24869" class="Symbol">)</a> <a id="24871" class="Symbol">=</a>
  <a id="24875" class="Keyword">let</a> <a id="24879" href="/Subtyping/#24879" class="Bound">IH</a> <a id="24882" class="Symbol">=</a> <a id="24884" href="/Subtyping/#23769" class="Function">ren-vec-pres</a> <a id="24897" class="Symbol">{</a><a id="24898" class="Argument">ρ</a> <a id="24900" class="Symbol">=</a> <a id="24902" href="/Subtyping/#24851" class="Bound">ρ</a><a id="24903" class="Symbol">}</a> <a id="24905" href="/Subtyping/#24854" class="Bound">ρ⦂</a> <a id="24908" href="/Subtyping/#24866" class="Bound">⊢Ms</a> <a id="24912" class="Keyword">in</a>
  <a id="24917" href="/Subtyping/#16690" class="InductiveConstructor">⊢*-∷</a> <a id="24922" class="Symbol">(</a><a id="24923" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="24935" class="Symbol">{</a><a id="24936" class="Argument">ρ</a> <a id="24938" class="Symbol">=</a> <a id="24940" href="/Subtyping/#24851" class="Bound">ρ</a><a id="24941" class="Symbol">}</a> <a id="24943" href="/Subtyping/#24854" class="Bound">ρ⦂</a> <a id="24946" href="/Subtyping/#24863" class="Bound">⊢M</a><a id="24948" class="Symbol">)</a> <a id="24950" href="/Subtyping/#24879" class="Bound">IH</a>
</pre>
<pre class="Agda"><a id="_⦂_⇒_"></a><a id="24962" href="/Subtyping/#24962" class="Function Operator">_⦂_⇒_</a> <a id="24968" class="Symbol">:</a> <a id="24970" class="Symbol">(</a><a id="24971" href="/Subtyping/#15013" class="Function">Id</a> <a id="24974" class="Symbol">→</a> <a id="24976" href="/Subtyping/#15043" class="Datatype">Term</a><a id="24980" class="Symbol">)</a> <a id="24982" class="Symbol">→</a> <a id="24984" href="/Subtyping/#14664" class="Datatype">Context</a> <a id="24992" class="Symbol">→</a> <a id="24994" href="/Subtyping/#14664" class="Datatype">Context</a> <a id="25002" class="Symbol">→</a> <a id="25004" class="PrimitiveType">Set</a>
<a id="25008" href="/Subtyping/#25008" class="Bound">σ</a> <a id="25010" href="/Subtyping/#24962" class="Function Operator">⦂</a> <a id="25012" href="/Subtyping/#25012" class="Bound">Γ</a> <a id="25014" href="/Subtyping/#24962" class="Function Operator">⇒</a> <a id="25016" href="/Subtyping/#25016" class="Bound">Δ</a> <a id="25018" class="Symbol">=</a> <a id="25020" class="Symbol">∀</a> <a id="25022" class="Symbol">{</a><a id="25023" href="/Subtyping/#25023" class="Bound">A</a> <a id="25025" href="/Subtyping/#25025" class="Bound">x</a><a id="25026" class="Symbol">}</a> <a id="25028" class="Symbol">→</a> <a id="25030" href="/Subtyping/#25012" class="Bound">Γ</a> <a id="25032" href="/Subtyping/#14785" class="Datatype Operator">∋</a> <a id="25034" href="/Subtyping/#25025" class="Bound">x</a> <a id="25036" href="/Subtyping/#14785" class="Datatype Operator">⦂</a> <a id="25038" href="/Subtyping/#25023" class="Bound">A</a> <a id="25040" class="Symbol">→</a> <a id="25042" href="/Subtyping/#25016" class="Bound">Δ</a> <a id="25044" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="25046" href="/Subtyping/#17730" class="Function">subst</a> <a id="25052" href="/Subtyping/#25008" class="Bound">σ</a> <a id="25054" class="Symbol">(</a><a id="25055" href="/Subtyping/#15062" class="InductiveConstructor Operator">`</a> <a id="25057" href="/Subtyping/#25025" class="Bound">x</a><a id="25058" class="Symbol">)</a> <a id="25060" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="25062" href="/Subtyping/#25023" class="Bound">A</a>
</pre>
<pre class="Agda"><a id="exts-pres"></a><a id="25073" href="/Subtyping/#25073" class="Function">exts-pres</a> <a id="25083" class="Symbol">:</a> <a id="25085" class="Symbol">∀</a> <a id="25087" class="Symbol">{</a><a id="25088" href="/Subtyping/#25088" class="Bound">Γ</a> <a id="25090" href="/Subtyping/#25090" class="Bound">Δ</a> <a id="25092" href="/Subtyping/#25092" class="Bound">σ</a> <a id="25094" href="/Subtyping/#25094" class="Bound">B</a><a id="25095" class="Symbol">}</a>
  <a id="25099" class="Symbol">→</a> <a id="25101" href="/Subtyping/#25092" class="Bound">σ</a> <a id="25103" href="/Subtyping/#24962" class="Function Operator">⦂</a> <a id="25105" href="/Subtyping/#25088" class="Bound">Γ</a> <a id="25107" href="/Subtyping/#24962" class="Function Operator">⇒</a> <a id="25109" href="/Subtyping/#25090" class="Bound">Δ</a>
    <a id="25115" class="Comment">--------------------------------</a>
  <a id="25150" class="Symbol">→</a> <a id="25152" href="/Subtyping/#17573" class="Function">exts</a> <a id="25157" href="/Subtyping/#25092" class="Bound">σ</a> <a id="25159" href="/Subtyping/#24962" class="Function Operator">⦂</a> <a id="25161" class="Symbol">(</a><a id="25162" href="/Subtyping/#25088" class="Bound">Γ</a> <a id="25164" href="/Subtyping/#14702" class="InductiveConstructor Operator">,</a> <a id="25166" href="/Subtyping/#25094" class="Bound">B</a><a id="25167" class="Symbol">)</a> <a id="25169" href="/Subtyping/#24962" class="Function Operator">⇒</a> <a id="25171" class="Symbol">(</a><a id="25172" href="/Subtyping/#25090" class="Bound">Δ</a> <a id="25174" href="/Subtyping/#14702" class="InductiveConstructor Operator">,</a> <a id="25176" href="/Subtyping/#25094" class="Bound">B</a><a id="25177" class="Symbol">)</a>
<a id="25179" href="/Subtyping/#25073" class="Function">exts-pres</a> <a id="25189" class="Symbol">{</a><a id="25190" class="Argument">σ</a> <a id="25192" class="Symbol">=</a> <a id="25194" href="/Subtyping/#25194" class="Bound">σ</a><a id="25195" class="Symbol">}</a> <a id="25197" href="/Subtyping/#25197" class="Bound">σ⦂</a> <a id="25200" href="/Subtyping/#14827" class="InductiveConstructor">Z</a> <a id="25202" class="Symbol">=</a> <a id="25204" href="/Subtyping/#15600" class="InductiveConstructor">⊢`</a> <a id="25207" href="/Subtyping/#14827" class="InductiveConstructor">Z</a>
<a id="25209" href="/Subtyping/#25073" class="Function">exts-pres</a> <a id="25219" class="Symbol">{</a><a id="25220" class="Argument">σ</a> <a id="25222" class="Symbol">=</a> <a id="25224" href="/Subtyping/#25224" class="Bound">σ</a><a id="25225" class="Symbol">}</a> <a id="25227" href="/Subtyping/#25227" class="Bound">σ⦂</a> <a id="25230" class="Symbol">(</a><a id="25231" href="/Subtyping/#14887" class="InductiveConstructor">S</a> <a id="25233" class="Symbol">{</a><a id="25234" class="Argument">x</a> <a id="25236" class="Symbol">=</a> <a id="25238" href="/Subtyping/#25238" class="Bound">x</a><a id="25239" class="Symbol">}</a> <a id="25241" href="/Subtyping/#25241" class="Bound">∋x</a><a id="25243" class="Symbol">)</a> <a id="25245" class="Symbol">=</a> <a id="25247" href="/Subtyping/#23920" class="Function">rename-pres</a> <a id="25259" class="Symbol">{</a><a id="25260" class="Argument">ρ</a> <a id="25262" class="Symbol">=</a> <a id="25264" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a><a id="25267" class="Symbol">}</a> <a id="25269" href="/Subtyping/#14887" class="InductiveConstructor">S</a> <a id="25271" class="Symbol">(</a><a id="25272" href="/Subtyping/#25227" class="Bound">σ⦂</a> <a id="25275" href="/Subtyping/#25241" class="Bound">∋x</a><a id="25277" class="Symbol">)</a>
</pre>

<pre class="Agda"><a id="subst-vec-pres"></a><a id="25289" href="/Subtyping/#25289" class="Function">subst-vec-pres</a> <a id="25304" class="Symbol">:</a> <a id="25306" class="Symbol">∀</a> <a id="25308" class="Symbol">{</a><a id="25309" href="/Subtyping/#25309" class="Bound">Γ</a> <a id="25311" href="/Subtyping/#25311" class="Bound">Δ</a> <a id="25313" href="/Subtyping/#25313" class="Bound">σ</a><a id="25314" class="Symbol">}{</a><a id="25316" href="/Subtyping/#25316" class="Bound">n</a><a id="25317" class="Symbol">}{</a><a id="25319" href="/Subtyping/#25319" class="Bound">Ms</a> <a id="25322" class="Symbol">:</a> <a id="25324" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="25328" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="25333" href="/Subtyping/#25316" class="Bound">n</a><a id="25334" class="Symbol">}{</a><a id="25336" href="/Subtyping/#25336" class="Bound">A</a><a id="25337" class="Symbol">}</a>
  <a id="25341" class="Symbol">→</a> <a id="25343" href="/Subtyping/#25313" class="Bound">σ</a> <a id="25345" href="/Subtyping/#24962" class="Function Operator">⦂</a> <a id="25347" href="/Subtyping/#25309" class="Bound">Γ</a> <a id="25349" href="/Subtyping/#24962" class="Function Operator">⇒</a> <a id="25351" href="/Subtyping/#25311" class="Bound">Δ</a>
  <a id="25355" class="Symbol">→</a> <a id="25357" href="/Subtyping/#25309" class="Bound">Γ</a> <a id="25359" href="/Subtyping/#15491" class="Datatype Operator">⊢*</a> <a id="25362" href="/Subtyping/#25319" class="Bound">Ms</a> <a id="25365" href="/Subtyping/#15491" class="Datatype Operator">⦂</a> <a id="25367" href="/Subtyping/#25336" class="Bound">A</a>
    <a id="25373" class="Comment">-----------------</a>
  <a id="25393" class="Symbol">→</a> <a id="25395" href="/Subtyping/#25311" class="Bound">Δ</a> <a id="25397" href="/Subtyping/#15491" class="Datatype Operator">⊢*</a> <a id="25400" href="/Subtyping/#17672" class="Function">subst-vec</a> <a id="25410" href="/Subtyping/#25313" class="Bound">σ</a> <a id="25412" href="/Subtyping/#25319" class="Bound">Ms</a> <a id="25415" href="/Subtyping/#15491" class="Datatype Operator">⦂</a> <a id="25417" href="/Subtyping/#25336" class="Bound">A</a>

<a id="subst-pres"></a><a id="25420" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="25431" class="Symbol">:</a> <a id="25433" class="Symbol">∀</a> <a id="25435" class="Symbol">{</a><a id="25436" href="/Subtyping/#25436" class="Bound">Γ</a> <a id="25438" href="/Subtyping/#25438" class="Bound">Δ</a> <a id="25440" href="/Subtyping/#25440" class="Bound">σ</a> <a id="25442" href="/Subtyping/#25442" class="Bound">N</a> <a id="25444" href="/Subtyping/#25444" class="Bound">A</a><a id="25445" class="Symbol">}</a>
  <a id="25449" class="Symbol">→</a> <a id="25451" href="/Subtyping/#25440" class="Bound">σ</a> <a id="25453" href="/Subtyping/#24962" class="Function Operator">⦂</a> <a id="25455" href="/Subtyping/#25436" class="Bound">Γ</a> <a id="25457" href="/Subtyping/#24962" class="Function Operator">⇒</a> <a id="25459" href="/Subtyping/#25438" class="Bound">Δ</a>
  <a id="25463" class="Symbol">→</a> <a id="25465" href="/Subtyping/#25436" class="Bound">Γ</a> <a id="25467" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="25469" href="/Subtyping/#25442" class="Bound">N</a> <a id="25471" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="25473" href="/Subtyping/#25444" class="Bound">A</a>
    <a id="25479" class="Comment">-----------------</a>
  <a id="25499" class="Symbol">→</a> <a id="25501" href="/Subtyping/#25438" class="Bound">Δ</a> <a id="25503" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="25505" href="/Subtyping/#17730" class="Function">subst</a> <a id="25511" href="/Subtyping/#25440" class="Bound">σ</a> <a id="25513" href="/Subtyping/#25442" class="Bound">N</a> <a id="25515" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="25517" href="/Subtyping/#25444" class="Bound">A</a>
<a id="25519" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="25530" href="/Subtyping/#25530" class="Bound">σ⦂</a> <a id="25533" class="Symbol">(</a><a id="25534" href="/Subtyping/#15600" class="InductiveConstructor">⊢`</a> <a id="25537" href="/Subtyping/#25537" class="Bound">eq</a><a id="25539" class="Symbol">)</a>            <a id="25552" class="Symbol">=</a> <a id="25554" href="/Subtyping/#25530" class="Bound">σ⦂</a> <a id="25557" href="/Subtyping/#25537" class="Bound">eq</a>
<a id="25560" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="25571" class="Symbol">{</a><a id="25572" class="Argument">σ</a> <a id="25574" class="Symbol">=</a> <a id="25576" href="/Subtyping/#25576" class="Bound">σ</a><a id="25577" class="Symbol">}</a> <a id="25579" href="/Subtyping/#25579" class="Bound">σ⦂</a> <a id="25582" class="Symbol">(</a><a id="25583" href="/Subtyping/#15670" class="InductiveConstructor">⊢ƛ</a> <a id="25586" href="/Subtyping/#25586" class="Bound">⊢N</a><a id="25588" class="Symbol">)</a>    <a id="25593" class="Symbol">=</a> <a id="25595" href="/Subtyping/#15670" class="InductiveConstructor">⊢ƛ</a> <a id="25598" class="Symbol">(</a><a id="25599" href="/Subtyping/#25420" class="Function">subst-pres</a><a id="25609" class="Symbol">{</a><a id="25610" class="Argument">σ</a> <a id="25612" class="Symbol">=</a> <a id="25614" href="/Subtyping/#17573" class="Function">exts</a> <a id="25619" href="/Subtyping/#25576" class="Bound">σ</a><a id="25620" class="Symbol">}(</a><a id="25622" href="/Subtyping/#25073" class="Function">exts-pres</a> <a id="25632" class="Symbol">{</a><a id="25633" class="Argument">σ</a> <a id="25635" class="Symbol">=</a> <a id="25637" href="/Subtyping/#25576" class="Bound">σ</a><a id="25638" class="Symbol">}</a> <a id="25640" href="/Subtyping/#25579" class="Bound">σ⦂</a><a id="25642" class="Symbol">)</a> <a id="25644" href="/Subtyping/#25586" class="Bound">⊢N</a><a id="25646" class="Symbol">)</a> 
<a id="25649" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="25660" class="Symbol">{</a><a id="25661" class="Argument">σ</a> <a id="25663" class="Symbol">=</a> <a id="25665" href="/Subtyping/#25665" class="Bound">σ</a><a id="25666" class="Symbol">}</a> <a id="25668" href="/Subtyping/#25668" class="Bound">σ⦂</a> <a id="25671" class="Symbol">(</a><a id="25672" href="/Subtyping/#15759" class="InductiveConstructor">⊢·</a> <a id="25675" href="/Subtyping/#25675" class="Bound">⊢L</a> <a id="25678" href="/Subtyping/#25678" class="Bound">⊢M</a><a id="25680" class="Symbol">)</a> <a id="25682" class="Symbol">=</a> <a id="25684" href="/Subtyping/#15759" class="InductiveConstructor">⊢·</a> <a id="25687" class="Symbol">(</a><a id="25688" href="/Subtyping/#25420" class="Function">subst-pres</a><a id="25698" class="Symbol">{</a><a id="25699" class="Argument">σ</a> <a id="25701" class="Symbol">=</a> <a id="25703" href="/Subtyping/#25665" class="Bound">σ</a><a id="25704" class="Symbol">}</a> <a id="25706" href="/Subtyping/#25668" class="Bound">σ⦂</a> <a id="25709" href="/Subtyping/#25675" class="Bound">⊢L</a><a id="25711" class="Symbol">)</a> <a id="25713" class="Symbol">(</a><a id="25714" href="/Subtyping/#25420" class="Function">subst-pres</a><a id="25724" class="Symbol">{</a><a id="25725" class="Argument">σ</a> <a id="25727" class="Symbol">=</a> <a id="25729" href="/Subtyping/#25665" class="Bound">σ</a><a id="25730" class="Symbol">}</a> <a id="25732" href="/Subtyping/#25668" class="Bound">σ⦂</a> <a id="25735" href="/Subtyping/#25678" class="Bound">⊢M</a><a id="25737" class="Symbol">)</a> 
<a id="25740" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="25751" class="Symbol">{</a><a id="25752" class="Argument">σ</a> <a id="25754" class="Symbol">=</a> <a id="25756" href="/Subtyping/#25756" class="Bound">σ</a><a id="25757" class="Symbol">}</a> <a id="25759" href="/Subtyping/#25759" class="Bound">σ⦂</a> <a id="25762" class="Symbol">(</a><a id="25763" href="/Subtyping/#16154" class="InductiveConstructor">⊢μ</a> <a id="25766" href="/Subtyping/#25766" class="Bound">⊢M</a><a id="25768" class="Symbol">)</a>    <a id="25773" class="Symbol">=</a> <a id="25775" href="/Subtyping/#16154" class="InductiveConstructor">⊢μ</a> <a id="25778" class="Symbol">(</a><a id="25779" href="/Subtyping/#25420" class="Function">subst-pres</a><a id="25789" class="Symbol">{</a><a id="25790" class="Argument">σ</a> <a id="25792" class="Symbol">=</a> <a id="25794" href="/Subtyping/#17573" class="Function">exts</a> <a id="25799" href="/Subtyping/#25756" class="Bound">σ</a><a id="25800" class="Symbol">}</a> <a id="25802" class="Symbol">(</a><a id="25803" href="/Subtyping/#25073" class="Function">exts-pres</a><a id="25812" class="Symbol">{</a><a id="25813" class="Argument">σ</a> <a id="25815" class="Symbol">=</a> <a id="25817" href="/Subtyping/#25756" class="Bound">σ</a><a id="25818" class="Symbol">}</a> <a id="25820" href="/Subtyping/#25759" class="Bound">σ⦂</a><a id="25822" class="Symbol">)</a> <a id="25824" href="/Subtyping/#25766" class="Bound">⊢M</a><a id="25826" class="Symbol">)</a> 
<a id="25829" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="25840" href="/Subtyping/#25840" class="Bound">σ⦂</a> <a id="25843" class="Symbol">(</a><a id="25844" href="/Subtyping/#16230" class="InductiveConstructor">⊢rcd</a> <a id="25849" href="/Subtyping/#25849" class="Bound">⊢Ms</a> <a id="25853" href="/Subtyping/#25853" class="Bound">dls</a><a id="25856" class="Symbol">)</a> <a id="25858" class="Symbol">=</a> <a id="25860" href="/Subtyping/#16230" class="InductiveConstructor">⊢rcd</a> <a id="25865" class="Symbol">(</a><a id="25866" href="/Subtyping/#25289" class="Function">subst-vec-pres</a> <a id="25881" href="/Subtyping/#25840" class="Bound">σ⦂</a> <a id="25884" href="/Subtyping/#25849" class="Bound">⊢Ms</a> <a id="25888" class="Symbol">)</a> <a id="25890" href="/Subtyping/#25853" class="Bound">dls</a>
<a id="25894" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="25905" class="Symbol">{</a><a id="25906" class="Argument">σ</a> <a id="25908" class="Symbol">=</a> <a id="25910" href="/Subtyping/#25910" class="Bound">σ</a><a id="25911" class="Symbol">}</a> <a id="25913" href="/Subtyping/#25913" class="Bound">σ⦂</a> <a id="25916" class="Symbol">(</a><a id="25917" href="/Subtyping/#16387" class="InductiveConstructor">⊢#</a> <a id="25920" class="Symbol">{</a><a id="25921" class="Argument">d</a> <a id="25923" class="Symbol">=</a> <a id="25925" href="/Subtyping/#25925" class="Bound">d</a><a id="25926" class="Symbol">}</a> <a id="25928" href="/Subtyping/#25928" class="Bound">⊢R</a> <a id="25931" href="/Subtyping/#25931" class="Bound">lif</a> <a id="25935" href="/Subtyping/#25935" class="Bound">liA</a><a id="25938" class="Symbol">)</a> <a id="25940" class="Symbol">=</a>
    <a id="25946" href="/Subtyping/#16387" class="InductiveConstructor">⊢#</a> <a id="25949" class="Symbol">{</a><a id="25950" class="Argument">d</a> <a id="25952" class="Symbol">=</a> <a id="25954" href="/Subtyping/#25925" class="Bound">d</a><a id="25955" class="Symbol">}</a> <a id="25957" class="Symbol">(</a><a id="25958" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="25969" class="Symbol">{</a><a id="25970" class="Argument">σ</a> <a id="25972" class="Symbol">=</a> <a id="25974" href="/Subtyping/#25910" class="Bound">σ</a><a id="25975" class="Symbol">}</a> <a id="25977" href="/Subtyping/#25913" class="Bound">σ⦂</a> <a id="25980" href="/Subtyping/#25928" class="Bound">⊢R</a><a id="25982" class="Symbol">)</a> <a id="25984" href="/Subtyping/#25931" class="Bound">lif</a> <a id="25988" href="/Subtyping/#25935" class="Bound">liA</a>
<a id="25992" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="26003" class="Symbol">{</a><a id="26004" class="Argument">σ</a> <a id="26006" class="Symbol">=</a> <a id="26008" href="/Subtyping/#26008" class="Bound">σ</a><a id="26009" class="Symbol">}</a> <a id="26011" href="/Subtyping/#26011" class="Bound">σ⦂</a> <a id="26014" class="Symbol">(</a><a id="26015" href="/Subtyping/#16551" class="InductiveConstructor">⊢&lt;:</a> <a id="26019" href="/Subtyping/#26019" class="Bound">⊢N</a> <a id="26022" href="/Subtyping/#26022" class="Bound">lt</a><a id="26024" class="Symbol">)</a> <a id="26026" class="Symbol">=</a> <a id="26028" href="/Subtyping/#16551" class="InductiveConstructor">⊢&lt;:</a> <a id="26032" class="Symbol">(</a><a id="26033" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="26044" class="Symbol">{</a><a id="26045" class="Argument">σ</a> <a id="26047" class="Symbol">=</a> <a id="26049" href="/Subtyping/#26008" class="Bound">σ</a><a id="26050" class="Symbol">}</a> <a id="26052" href="/Subtyping/#26011" class="Bound">σ⦂</a> <a id="26055" href="/Subtyping/#26019" class="Bound">⊢N</a><a id="26057" class="Symbol">)</a> <a id="26059" href="/Subtyping/#26022" class="Bound">lt</a>
<a id="26062" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="26073" href="/Subtyping/#26073" class="Bound">σ⦂</a> <a id="26076" href="/Subtyping/#15857" class="InductiveConstructor">⊢zero</a> <a id="26082" class="Symbol">=</a> <a id="26084" href="/Subtyping/#15857" class="InductiveConstructor">⊢zero</a>
<a id="26090" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="26101" href="/Subtyping/#26101" class="Bound">σ⦂</a> <a id="26104" class="Symbol">(</a><a id="26105" href="/Subtyping/#15916" class="InductiveConstructor">⊢suc</a> <a id="26110" href="/Subtyping/#26110" class="Bound">⊢M</a><a id="26112" class="Symbol">)</a> <a id="26114" class="Symbol">=</a> <a id="26116" href="/Subtyping/#15916" class="InductiveConstructor">⊢suc</a> <a id="26121" class="Symbol">(</a><a id="26122" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="26133" href="/Subtyping/#26101" class="Bound">σ⦂</a> <a id="26136" href="/Subtyping/#26110" class="Bound">⊢M</a><a id="26138" class="Symbol">)</a>
<a id="26140" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="26151" href="/Subtyping/#26151" class="Bound">σ⦂</a> <a id="26154" class="Symbol">(</a><a id="26155" href="/Subtyping/#15995" class="InductiveConstructor">⊢case</a> <a id="26161" href="/Subtyping/#26161" class="Bound">⊢L</a> <a id="26164" href="/Subtyping/#26164" class="Bound">⊢M</a> <a id="26167" href="/Subtyping/#26167" class="Bound">⊢N</a><a id="26169" class="Symbol">)</a> <a id="26171" class="Symbol">=</a>
    <a id="26177" href="/Subtyping/#15995" class="InductiveConstructor">⊢case</a> <a id="26183" class="Symbol">(</a><a id="26184" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="26195" href="/Subtyping/#26151" class="Bound">σ⦂</a> <a id="26198" href="/Subtyping/#26161" class="Bound">⊢L</a><a id="26200" class="Symbol">)</a> <a id="26202" class="Symbol">(</a><a id="26203" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="26214" href="/Subtyping/#26151" class="Bound">σ⦂</a> <a id="26217" href="/Subtyping/#26164" class="Bound">⊢M</a><a id="26219" class="Symbol">)</a> <a id="26221" class="Symbol">(</a><a id="26222" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="26233" class="Symbol">(</a><a id="26234" href="/Subtyping/#25073" class="Function">exts-pres</a> <a id="26244" href="/Subtyping/#26151" class="Bound">σ⦂</a><a id="26246" class="Symbol">)</a> <a id="26248" href="/Subtyping/#26167" class="Bound">⊢N</a><a id="26250" class="Symbol">)</a>

<a id="26253" href="/Subtyping/#25289" class="Function">subst-vec-pres</a> <a id="26268" href="/Subtyping/#26268" class="Bound">σ⦂</a> <a id="26271" href="/Subtyping/#16659" class="InductiveConstructor">⊢*-[]</a> <a id="26277" class="Symbol">=</a> <a id="26279" href="/Subtyping/#16659" class="InductiveConstructor">⊢*-[]</a>
<a id="26285" href="/Subtyping/#25289" class="Function">subst-vec-pres</a> <a id="26300" class="Symbol">{</a><a id="26301" class="Argument">σ</a> <a id="26303" class="Symbol">=</a> <a id="26305" href="/Subtyping/#26305" class="Bound">σ</a><a id="26306" class="Symbol">}</a> <a id="26308" href="/Subtyping/#26308" class="Bound">σ⦂</a> <a id="26311" class="Symbol">(</a><a id="26312" href="/Subtyping/#16690" class="InductiveConstructor">⊢*-∷</a> <a id="26317" href="/Subtyping/#26317" class="Bound">⊢M</a> <a id="26320" href="/Subtyping/#26320" class="Bound">⊢Ms</a><a id="26323" class="Symbol">)</a> <a id="26325" class="Symbol">=</a>
    <a id="26331" href="/Subtyping/#16690" class="InductiveConstructor">⊢*-∷</a> <a id="26336" class="Symbol">(</a><a id="26337" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="26348" class="Symbol">{</a><a id="26349" class="Argument">σ</a> <a id="26351" class="Symbol">=</a> <a id="26353" href="/Subtyping/#26305" class="Bound">σ</a><a id="26354" class="Symbol">}</a> <a id="26356" href="/Subtyping/#26308" class="Bound">σ⦂</a> <a id="26359" href="/Subtyping/#26317" class="Bound">⊢M</a><a id="26361" class="Symbol">)</a> <a id="26363" class="Symbol">(</a><a id="26364" href="/Subtyping/#25289" class="Function">subst-vec-pres</a> <a id="26379" href="/Subtyping/#26308" class="Bound">σ⦂</a> <a id="26382" href="/Subtyping/#26320" class="Bound">⊢Ms</a><a id="26385" class="Symbol">)</a>
</pre>
<pre class="Agda"><a id="substitution"></a><a id="26396" href="/Subtyping/#26396" class="Function">substitution</a> <a id="26409" class="Symbol">:</a> <a id="26411" class="Symbol">∀{</a><a id="26413" href="/Subtyping/#26413" class="Bound">Γ</a> <a id="26415" href="/Subtyping/#26415" class="Bound">A</a> <a id="26417" href="/Subtyping/#26417" class="Bound">B</a> <a id="26419" href="/Subtyping/#26419" class="Bound">M</a> <a id="26421" href="/Subtyping/#26421" class="Bound">N</a><a id="26422" class="Symbol">}</a>
   <a id="26427" class="Symbol">→</a> <a id="26429" href="/Subtyping/#26413" class="Bound">Γ</a> <a id="26431" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="26433" href="/Subtyping/#26419" class="Bound">M</a> <a id="26435" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="26437" href="/Subtyping/#26415" class="Bound">A</a>
   <a id="26442" class="Symbol">→</a> <a id="26444" class="Symbol">(</a><a id="26445" href="/Subtyping/#26413" class="Bound">Γ</a> <a id="26447" href="/Subtyping/#14702" class="InductiveConstructor Operator">,</a> <a id="26449" href="/Subtyping/#26415" class="Bound">A</a><a id="26450" class="Symbol">)</a> <a id="26452" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="26454" href="/Subtyping/#26421" class="Bound">N</a> <a id="26456" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="26458" href="/Subtyping/#26417" class="Bound">B</a>
     <a id="26465" class="Comment">---------------</a>
   <a id="26484" class="Symbol">→</a> <a id="26486" href="/Subtyping/#26413" class="Bound">Γ</a> <a id="26488" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="26490" href="/Subtyping/#26421" class="Bound">N</a> <a id="26492" href="/Subtyping/#18397" class="Function Operator">[</a> <a id="26494" href="/Subtyping/#26419" class="Bound">M</a> <a id="26496" href="/Subtyping/#18397" class="Function Operator">]</a> <a id="26498" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="26500" href="/Subtyping/#26417" class="Bound">B</a>
<a id="26502" href="/Subtyping/#26396" class="Function">substitution</a> <a id="26515" class="Symbol">{</a><a id="26516" href="/Subtyping/#26516" class="Bound">Γ</a><a id="26517" class="Symbol">}{</a><a id="26519" href="/Subtyping/#26519" class="Bound">A</a><a id="26520" class="Symbol">}{</a><a id="26522" href="/Subtyping/#26522" class="Bound">B</a><a id="26523" class="Symbol">}{</a><a id="26525" href="/Subtyping/#26525" class="Bound">M</a><a id="26526" class="Symbol">}{</a><a id="26528" href="/Subtyping/#26528" class="Bound">N</a><a id="26529" class="Symbol">}</a> <a id="26531" href="/Subtyping/#26531" class="Bound">⊢M</a> <a id="26534" href="/Subtyping/#26534" class="Bound">⊢N</a> <a id="26537" class="Symbol">=</a> <a id="26539" href="/Subtyping/#25420" class="Function">subst-pres</a> <a id="26550" class="Symbol">{</a><a id="26551" class="Argument">σ</a> <a id="26553" class="Symbol">=</a> <a id="26555" href="/Subtyping/#18312" class="Function">subst-zero</a> <a id="26566" href="/Subtyping/#26525" class="Bound">M</a><a id="26567" class="Symbol">}</a> <a id="26569" href="/Subtyping/#26588" class="Function">G</a> <a id="26571" href="/Subtyping/#26534" class="Bound">⊢N</a>
    <a id="26578" class="Keyword">where</a>
    <a id="26588" href="/Subtyping/#26588" class="Function">G</a> <a id="26590" class="Symbol">:</a> <a id="26592" class="Symbol">∀</a> <a id="26594" class="Symbol">{</a><a id="26595" href="/Subtyping/#26595" class="Bound">C</a> <a id="26597" class="Symbol">:</a> <a id="26599" href="/Subtyping/#8185" class="Datatype">Type</a><a id="26603" class="Symbol">}</a> <a id="26605" class="Symbol">{</a><a id="26606" href="/Subtyping/#26606" class="Bound">x</a> <a id="26608" class="Symbol">:</a> <a id="26610" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="26611" class="Symbol">}</a>
      <a id="26619" class="Symbol">→</a> <a id="26621" class="Symbol">(</a><a id="26622" href="/Subtyping/#26516" class="Bound">Γ</a> <a id="26624" href="/Subtyping/#14702" class="InductiveConstructor Operator">,</a> <a id="26626" href="/Subtyping/#26519" class="Bound">A</a><a id="26627" class="Symbol">)</a> <a id="26629" href="/Subtyping/#14785" class="Datatype Operator">∋</a> <a id="26631" href="/Subtyping/#26606" class="Bound">x</a> <a id="26633" href="/Subtyping/#14785" class="Datatype Operator">⦂</a> <a id="26635" href="/Subtyping/#26595" class="Bound">C</a> <a id="26637" class="Symbol">→</a> <a id="26639" href="/Subtyping/#26516" class="Bound">Γ</a> <a id="26641" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="26643" href="/Subtyping/#17730" class="Function">subst</a> <a id="26649" class="Symbol">(</a><a id="26650" href="/Subtyping/#18312" class="Function">subst-zero</a> <a id="26661" href="/Subtyping/#26525" class="Bound">M</a><a id="26662" class="Symbol">)</a> <a id="26664" class="Symbol">(</a><a id="26665" href="/Subtyping/#15062" class="InductiveConstructor Operator">`</a> <a id="26667" href="/Subtyping/#26606" class="Bound">x</a><a id="26668" class="Symbol">)</a> <a id="26670" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="26672" href="/Subtyping/#26595" class="Bound">C</a>
    <a id="26678" href="/Subtyping/#26588" class="Function">G</a> <a id="26680" class="Symbol">{</a><a id="26681" href="/Subtyping/#26681" class="Bound">C</a><a id="26682" class="Symbol">}</a> <a id="26684" class="Symbol">{</a><a id="26685" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a><a id="26689" class="Symbol">}</a> <a id="26691" href="/Subtyping/#14827" class="InductiveConstructor">Z</a> <a id="26693" class="Symbol">=</a> <a id="26695" href="/Subtyping/#26531" class="Bound">⊢M</a>
    <a id="26702" href="/Subtyping/#26588" class="Function">G</a> <a id="26704" class="Symbol">{</a><a id="26705" href="/Subtyping/#26705" class="Bound">C</a><a id="26706" class="Symbol">}</a> <a id="26708" class="Symbol">{</a><a id="26709" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="26713" href="/Subtyping/#26713" class="Bound">x</a><a id="26714" class="Symbol">}</a> <a id="26716" class="Symbol">(</a><a id="26717" href="/Subtyping/#14887" class="InductiveConstructor">S</a> <a id="26719" href="/Subtyping/#26719" class="Bound">∋x</a><a id="26721" class="Symbol">)</a> <a id="26723" class="Symbol">=</a> <a id="26725" href="/Subtyping/#15600" class="InductiveConstructor">⊢`</a> <a id="26728" href="/Subtyping/#26719" class="Bound">∋x</a>
</pre>
<pre class="Agda"><a id="field-pres"></a><a id="26740" href="/Subtyping/#26740" class="Function">field-pres</a> <a id="26751" class="Symbol">:</a> <a id="26753" class="Symbol">∀{</a><a id="26755" href="/Subtyping/#26755" class="Bound">n</a><a id="26756" class="Symbol">}{</a><a id="26758" href="/Subtyping/#26758" class="Bound">As</a> <a id="26761" class="Symbol">:</a> <a id="26763" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="26767" href="/Subtyping/#8185" class="Datatype">Type</a> <a id="26772" href="/Subtyping/#26755" class="Bound">n</a><a id="26773" class="Symbol">}{</a><a id="26775" href="/Subtyping/#26775" class="Bound">A</a><a id="26776" class="Symbol">}{</a><a id="26778" href="/Subtyping/#26778" class="Bound">Ms</a> <a id="26781" class="Symbol">:</a> <a id="26783" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#935" class="Datatype">Vec</a> <a id="26787" href="/Subtyping/#15043" class="Datatype">Term</a> <a id="26792" href="/Subtyping/#26755" class="Bound">n</a><a id="26793" class="Symbol">}{</a><a id="26795" href="/Subtyping/#26795" class="Bound">i</a> <a id="26797" class="Symbol">:</a> <a id="26799" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1000" class="Datatype">Fin</a> <a id="26803" href="/Subtyping/#26755" class="Bound">n</a><a id="26804" class="Symbol">}</a>
         <a id="26815" class="Symbol">→</a> <a id="26817" href="/Subtyping/#14686" class="InductiveConstructor">∅</a> <a id="26819" href="/Subtyping/#15491" class="Datatype Operator">⊢*</a> <a id="26822" href="/Subtyping/#26778" class="Bound">Ms</a> <a id="26825" href="/Subtyping/#15491" class="Datatype Operator">⦂</a> <a id="26827" href="/Subtyping/#26758" class="Bound">As</a>
         <a id="26839" class="Symbol">→</a> <a id="26841" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="26848" href="/Subtyping/#26758" class="Bound">As</a> <a id="26851" href="/Subtyping/#26795" class="Bound">i</a> <a id="26853" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="26855" href="/Subtyping/#26775" class="Bound">A</a>
         <a id="26866" class="Symbol">→</a> <a id="26868" href="/Subtyping/#14686" class="InductiveConstructor">∅</a> <a id="26870" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="26872" href="https://agda.github.io/agda-stdlib/v1.1/Data.Vec.Base.html#1491" class="Function">lookup</a> <a id="26879" href="/Subtyping/#26778" class="Bound">Ms</a> <a id="26882" href="/Subtyping/#26795" class="Bound">i</a> <a id="26884" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="26886" href="/Subtyping/#26775" class="Bound">A</a>
<a id="26888" href="/Subtyping/#26740" class="Function">field-pres</a> <a id="26899" class="Symbol">{</a><a id="26900" class="Argument">i</a> <a id="26902" class="Symbol">=</a> <a id="26904" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1022" class="InductiveConstructor">zero</a><a id="26908" class="Symbol">}</a> <a id="26910" class="Symbol">(</a><a id="26911" href="/Subtyping/#16690" class="InductiveConstructor">⊢*-∷</a> <a id="26916" href="/Subtyping/#26916" class="Bound">⊢M</a> <a id="26919" href="/Subtyping/#26919" class="Bound">⊢Ms</a><a id="26922" class="Symbol">)</a> <a id="26924" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="26929" class="Symbol">=</a> <a id="26931" href="/Subtyping/#26916" class="Bound">⊢M</a>
<a id="26934" href="/Subtyping/#26740" class="Function">field-pres</a> <a id="26945" class="Symbol">{</a><a id="26946" class="Argument">i</a> <a id="26948" class="Symbol">=</a> <a id="26950" href="https://agda.github.io/agda-stdlib/v1.1/Data.Fin.Base.html#1053" class="InductiveConstructor">suc</a> <a id="26954" href="/Subtyping/#26954" class="Bound">i</a><a id="26955" class="Symbol">}</a> <a id="26957" class="Symbol">(</a><a id="26958" href="/Subtyping/#16690" class="InductiveConstructor">⊢*-∷</a> <a id="26963" href="/Subtyping/#26963" class="Bound">⊢M</a> <a id="26966" href="/Subtyping/#26966" class="Bound">⊢Ms</a><a id="26969" class="Symbol">)</a> <a id="26971" href="/Subtyping/#26971" class="Bound">As[i]=A</a> <a id="26979" class="Symbol">=</a> <a id="26981" href="/Subtyping/#26740" class="Function">field-pres</a> <a id="26992" href="/Subtyping/#26966" class="Bound">⊢Ms</a> <a id="26996" href="/Subtyping/#26971" class="Bound">As[i]=A</a>

</pre>
<pre class="Agda"><a id="preserve"></a><a id="27014" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27023" class="Symbol">:</a> <a id="27025" class="Symbol">∀</a> <a id="27027" class="Symbol">{</a><a id="27028" href="/Subtyping/#27028" class="Bound">M</a> <a id="27030" href="/Subtyping/#27030" class="Bound">N</a> <a id="27032" href="/Subtyping/#27032" class="Bound">A</a><a id="27033" class="Symbol">}</a>
  <a id="27037" class="Symbol">→</a> <a id="27039" href="/Subtyping/#14686" class="InductiveConstructor">∅</a> <a id="27041" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="27043" href="/Subtyping/#27028" class="Bound">M</a> <a id="27045" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="27047" href="/Subtyping/#27032" class="Bound">A</a>
  <a id="27051" class="Symbol">→</a> <a id="27053" href="/Subtyping/#27028" class="Bound">M</a> <a id="27055" href="/Subtyping/#18802" class="Datatype Operator">—→</a> <a id="27058" href="/Subtyping/#27030" class="Bound">N</a>
    <a id="27064" class="Comment">----------</a>
  <a id="27077" class="Symbol">→</a> <a id="27079" href="/Subtyping/#14686" class="InductiveConstructor">∅</a> <a id="27081" href="/Subtyping/#15555" class="Datatype Operator">⊢</a> <a id="27083" href="/Subtyping/#27030" class="Bound">N</a> <a id="27085" href="/Subtyping/#15555" class="Datatype Operator">⦂</a> <a id="27087" href="/Subtyping/#27032" class="Bound">A</a>
<a id="27089" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27098" class="Symbol">(</a><a id="27099" href="/Subtyping/#15600" class="InductiveConstructor">⊢`</a> <a id="27102" class="Symbol">())</a>
<a id="27106" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27115" class="Symbol">(</a><a id="27116" href="/Subtyping/#15670" class="InductiveConstructor">⊢ƛ</a> <a id="27119" href="/Subtyping/#27119" class="Bound">⊢N</a><a id="27121" class="Symbol">)</a>                 <a id="27139" class="Symbol">()</a>
<a id="27142" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27151" class="Symbol">(</a><a id="27152" href="/Subtyping/#15759" class="InductiveConstructor">⊢·</a> <a id="27155" href="/Subtyping/#27155" class="Bound">⊢L</a> <a id="27158" href="/Subtyping/#27158" class="Bound">⊢M</a><a id="27160" class="Symbol">)</a>              <a id="27175" class="Symbol">(</a><a id="27176" href="/Subtyping/#18836" class="InductiveConstructor">ξ-·₁</a> <a id="27181" href="/Subtyping/#27181" class="Bound">L—→L′</a><a id="27186" class="Symbol">)</a>     <a id="27192" class="Symbol">=</a>  <a id="27195" href="/Subtyping/#15759" class="InductiveConstructor">⊢·</a> <a id="27198" class="Symbol">(</a><a id="27199" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27208" href="/Subtyping/#27155" class="Bound">⊢L</a> <a id="27211" href="/Subtyping/#27181" class="Bound">L—→L′</a><a id="27216" class="Symbol">)</a> <a id="27218" href="/Subtyping/#27158" class="Bound">⊢M</a>
<a id="27221" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27230" class="Symbol">(</a><a id="27231" href="/Subtyping/#15759" class="InductiveConstructor">⊢·</a> <a id="27234" href="/Subtyping/#27234" class="Bound">⊢L</a> <a id="27237" href="/Subtyping/#27237" class="Bound">⊢M</a><a id="27239" class="Symbol">)</a>              <a id="27254" class="Symbol">(</a><a id="27255" href="/Subtyping/#18922" class="InductiveConstructor">ξ-·₂</a> <a id="27260" href="/Subtyping/#27260" class="Bound">VL</a> <a id="27263" href="/Subtyping/#27263" class="Bound">M—→M′</a><a id="27268" class="Symbol">)</a>  <a id="27271" class="Symbol">=</a>  <a id="27274" href="/Subtyping/#15759" class="InductiveConstructor">⊢·</a> <a id="27277" href="/Subtyping/#27234" class="Bound">⊢L</a> <a id="27280" class="Symbol">(</a><a id="27281" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27290" href="/Subtyping/#27237" class="Bound">⊢M</a> <a id="27293" href="/Subtyping/#27263" class="Bound">M—→M′</a><a id="27298" class="Symbol">)</a>
<a id="27300" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27309" class="Symbol">(</a><a id="27310" href="/Subtyping/#15759" class="InductiveConstructor">⊢·</a> <a id="27313" href="/Subtyping/#27313" class="Bound">⊢L</a> <a id="27316" href="/Subtyping/#27316" class="Bound">⊢M</a><a id="27318" class="Symbol">)</a>              <a id="27333" class="Symbol">(</a><a id="27334" href="/Subtyping/#19023" class="InductiveConstructor">β-ƛ</a> <a id="27338" href="/Subtyping/#27338" class="Bound">VL</a><a id="27340" class="Symbol">)</a>
    <a id="27346" class="Keyword">with</a> <a id="27351" href="/Subtyping/#20571" class="Function">canonical</a> <a id="27361" href="/Subtyping/#27313" class="Bound">⊢L</a> <a id="27364" href="/Subtyping/#18511" class="InductiveConstructor">V-ƛ</a>
<a id="27368" class="Symbol">...</a> <a id="27372" class="Symbol">|</a> <a id="27374" href="/Subtyping/#20024" class="InductiveConstructor">C-ƛ</a> <a id="27378" href="/Subtyping/#27378" class="Bound">⊢N</a> <a id="27381" class="Symbol">(</a><a id="27382" href="/Subtyping/#8850" class="InductiveConstructor">&lt;:-fun</a> <a id="27389" href="/Subtyping/#27389" class="Bound">CA</a> <a id="27392" href="/Subtyping/#27392" class="Bound">BC</a><a id="27394" class="Symbol">)</a>                       <a id="27418" class="Symbol">=</a>  <a id="27421" href="/Subtyping/#16551" class="InductiveConstructor">⊢&lt;:</a> <a id="27425" class="Symbol">(</a><a id="27426" href="/Subtyping/#26396" class="Function">substitution</a> <a id="27439" class="Symbol">(</a><a id="27440" href="/Subtyping/#16551" class="InductiveConstructor">⊢&lt;:</a> <a id="27444" class="Bound">⊢M</a> <a id="27447" href="/Subtyping/#27389" class="Bound">CA</a><a id="27449" class="Symbol">)</a> <a id="27451" href="/Subtyping/#27378" class="Bound">⊢N</a><a id="27453" class="Symbol">)</a> <a id="27455" href="/Subtyping/#27392" class="Bound">BC</a>
<a id="27458" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27467" href="/Subtyping/#15857" class="InductiveConstructor">⊢zero</a>                   <a id="27491" class="Symbol">()</a>
<a id="27494" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27503" class="Symbol">(</a><a id="27504" href="/Subtyping/#15916" class="InductiveConstructor">⊢suc</a> <a id="27509" href="/Subtyping/#27509" class="Bound">⊢M</a><a id="27511" class="Symbol">)</a>               <a id="27527" class="Symbol">(</a><a id="27528" href="/Subtyping/#19115" class="InductiveConstructor">ξ-suc</a> <a id="27534" href="/Subtyping/#27534" class="Bound">M—→M′</a><a id="27539" class="Symbol">)</a>    <a id="27544" class="Symbol">=</a>  <a id="27547" href="/Subtyping/#15916" class="InductiveConstructor">⊢suc</a> <a id="27552" class="Symbol">(</a><a id="27553" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27562" href="/Subtyping/#27509" class="Bound">⊢M</a> <a id="27565" href="/Subtyping/#27534" class="Bound">M—→M′</a><a id="27570" class="Symbol">)</a>
<a id="27572" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27581" class="Symbol">(</a><a id="27582" href="/Subtyping/#15995" class="InductiveConstructor">⊢case</a> <a id="27588" href="/Subtyping/#27588" class="Bound">⊢L</a> <a id="27591" href="/Subtyping/#27591" class="Bound">⊢M</a> <a id="27594" href="/Subtyping/#27594" class="Bound">⊢N</a><a id="27596" class="Symbol">)</a>        <a id="27605" class="Symbol">(</a><a id="27606" href="/Subtyping/#19204" class="InductiveConstructor">ξ-case</a> <a id="27613" href="/Subtyping/#27613" class="Bound">L—→L′</a><a id="27618" class="Symbol">)</a>   <a id="27622" class="Symbol">=</a>  <a id="27625" href="/Subtyping/#15995" class="InductiveConstructor">⊢case</a> <a id="27631" class="Symbol">(</a><a id="27632" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27641" href="/Subtyping/#27588" class="Bound">⊢L</a> <a id="27644" href="/Subtyping/#27613" class="Bound">L—→L′</a><a id="27649" class="Symbol">)</a> <a id="27651" href="/Subtyping/#27591" class="Bound">⊢M</a> <a id="27654" href="/Subtyping/#27594" class="Bound">⊢N</a>
<a id="27657" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27666" class="Symbol">(</a><a id="27667" href="/Subtyping/#15995" class="InductiveConstructor">⊢case</a> <a id="27673" href="/Subtyping/#27673" class="Bound">⊢L</a> <a id="27676" href="/Subtyping/#27676" class="Bound">⊢M</a> <a id="27679" href="/Subtyping/#27679" class="Bound">⊢N</a><a id="27681" class="Symbol">)</a>        <a id="27690" class="Symbol">(</a><a id="27691" href="/Subtyping/#19374" class="InductiveConstructor">β-zero</a><a id="27697" class="Symbol">)</a>         <a id="27707" class="Symbol">=</a>  <a id="27710" href="/Subtyping/#27676" class="Bound">⊢M</a>
<a id="27713" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27722" class="Symbol">(</a><a id="27723" href="/Subtyping/#15995" class="InductiveConstructor">⊢case</a> <a id="27729" href="/Subtyping/#27729" class="Bound">⊢L</a> <a id="27732" href="/Subtyping/#27732" class="Bound">⊢M</a> <a id="27735" href="/Subtyping/#27735" class="Bound">⊢N</a><a id="27737" class="Symbol">)</a>        <a id="27746" class="Symbol">(</a><a id="27747" href="/Subtyping/#19484" class="InductiveConstructor">β-suc</a> <a id="27753" href="/Subtyping/#27753" class="Bound">VV</a><a id="27755" class="Symbol">)</a>
    <a id="27761" class="Keyword">with</a> <a id="27766" href="/Subtyping/#20571" class="Function">canonical</a> <a id="27776" href="/Subtyping/#27729" class="Bound">⊢L</a> <a id="27779" class="Symbol">(</a><a id="27780" href="/Subtyping/#18614" class="InductiveConstructor">V-suc</a> <a id="27786" href="/Subtyping/#27753" class="Bound">VV</a><a id="27788" class="Symbol">)</a>
<a id="27790" class="Symbol">...</a> <a id="27794" class="Symbol">|</a> <a id="27796" href="/Subtyping/#20219" class="InductiveConstructor">C-suc</a> <a id="27802" href="/Subtyping/#27802" class="Bound">CV</a>                                    <a id="27840" class="Symbol">=</a> <a id="27842" href="/Subtyping/#26396" class="Function">substitution</a> <a id="27855" class="Symbol">(</a><a id="27856" href="/Subtyping/#21618" class="Function">typed</a> <a id="27862" href="/Subtyping/#27802" class="Bound">CV</a><a id="27864" class="Symbol">)</a> <a id="27866" class="Bound">⊢N</a>
<a id="27869" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27878" class="Symbol">(</a><a id="27879" href="/Subtyping/#16154" class="InductiveConstructor">⊢μ</a> <a id="27882" href="/Subtyping/#27882" class="Bound">⊢M</a><a id="27884" class="Symbol">)</a>                 <a id="27902" class="Symbol">(</a><a id="27903" href="/Subtyping/#19626" class="InductiveConstructor">β-μ</a><a id="27906" class="Symbol">)</a>            <a id="27919" class="Symbol">=</a>  <a id="27922" href="/Subtyping/#26396" class="Function">substitution</a> <a id="27935" class="Symbol">(</a><a id="27936" href="/Subtyping/#16154" class="InductiveConstructor">⊢μ</a> <a id="27939" href="/Subtyping/#27882" class="Bound">⊢M</a><a id="27941" class="Symbol">)</a> <a id="27943" href="/Subtyping/#27882" class="Bound">⊢M</a>
<a id="27946" href="/Subtyping/#27014" class="Function">preserve</a> <a id="27955" class="Symbol">(</a><a id="27956" href="/Subtyping/#16387" class="InductiveConstructor">⊢#</a> <a id="27959" class="Symbol">{</a><a id="27960" class="Argument">d</a> <a id="27962" class="Symbol">=</a> <a id="27964" href="/Subtyping/#27964" class="Bound">d</a><a id="27965" class="Symbol">}</a> <a id="27967" href="/Subtyping/#27967" class="Bound">⊢M</a> <a id="27970" href="/Subtyping/#27970" class="Bound">lsi</a> <a id="27974" href="/Subtyping/#27974" class="Bound">Asi</a><a id="27977" class="Symbol">)</a> <a id="27979" class="Symbol">(</a><a id="27980" href="/Subtyping/#19694" class="InductiveConstructor">ξ-#</a> <a id="27984" href="/Subtyping/#27984" class="Bound">M—→M′</a><a id="27989" class="Symbol">)</a>      <a id="27996" class="Symbol">=</a> <a id="27998" href="/Subtyping/#16387" class="InductiveConstructor">⊢#</a> <a id="28001" class="Symbol">{</a><a id="28002" class="Argument">d</a> <a id="28004" class="Symbol">=</a> <a id="28006" href="/Subtyping/#27964" class="Bound">d</a><a id="28007" class="Symbol">}</a> <a id="28009" class="Symbol">(</a><a id="28010" href="/Subtyping/#27014" class="Function">preserve</a> <a id="28019" href="/Subtyping/#27967" class="Bound">⊢M</a> <a id="28022" href="/Subtyping/#27984" class="Bound">M—→M′</a><a id="28027" class="Symbol">)</a> <a id="28029" href="/Subtyping/#27970" class="Bound">lsi</a> <a id="28033" href="/Subtyping/#27974" class="Bound">Asi</a>
<a id="28037" href="/Subtyping/#27014" class="Function">preserve</a> <a id="28046" class="Symbol">(</a><a id="28047" href="/Subtyping/#16387" class="InductiveConstructor">⊢#</a> <a id="28050" class="Symbol">{</a><a id="28051" class="Argument">ls</a> <a id="28054" class="Symbol">=</a> <a id="28056" href="/Subtyping/#28056" class="Bound">ls′</a><a id="28059" class="Symbol">}{</a><a id="28061" class="Argument">i</a> <a id="28063" class="Symbol">=</a> <a id="28065" href="/Subtyping/#28065" class="Bound">i</a><a id="28066" class="Symbol">}</a> <a id="28068" href="/Subtyping/#28068" class="Bound">⊢M</a> <a id="28071" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="28076" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="28080" class="Symbol">)</a> <a id="28082" class="Symbol">(</a><a id="28083" href="/Subtyping/#19758" class="InductiveConstructor">β-#</a> <a id="28087" class="Symbol">{</a><a id="28088" class="Argument">ls</a> <a id="28091" class="Symbol">=</a> <a id="28093" href="/Subtyping/#28093" class="Bound">ks</a><a id="28095" class="Symbol">}{</a><a id="28097" href="/Subtyping/#28097" class="Bound">Ms</a><a id="28099" class="Symbol">}{</a><a id="28101" class="Argument">j</a> <a id="28103" class="Symbol">=</a> <a id="28105" href="/Subtyping/#28105" class="Bound">j</a><a id="28106" class="Symbol">}</a> <a id="28108" href="/Subtyping/#28108" class="Bound">ks[j]=l</a><a id="28115" class="Symbol">)</a>
    <a id="28121" class="Keyword">with</a> <a id="28126" href="/Subtyping/#20571" class="Function">canonical</a> <a id="28136" href="/Subtyping/#28068" class="Bound">⊢M</a> <a id="28139" href="/Subtyping/#18687" class="InductiveConstructor">V-rcd</a>
<a id="28145" class="Symbol">...</a> <a id="28149" class="Symbol">|</a> <a id="28151" href="/Subtyping/#20315" class="InductiveConstructor">C-rcd</a> <a id="28157" href="/Subtyping/#28157" class="Bound">⊢Ms</a> <a id="28161" href="/Subtyping/#28161" class="Bound">dks</a> <a id="28165" class="Symbol">(</a><a id="28166" href="/Subtyping/#8947" class="InductiveConstructor">&lt;:-rcd</a> <a id="28173" class="Symbol">{</a><a id="28174" class="Argument">ks</a> <a id="28177" class="Symbol">=</a> <a id="28179" class="Bound">ks</a><a id="28181" class="Symbol">}{</a><a id="28183" href="/Subtyping/#28183" class="Bound">ls</a><a id="28185" class="Symbol">}</a> <a id="28187" href="/Subtyping/#28187" class="Bound">ls⊆ks</a> <a id="28193" href="/Subtyping/#28193" class="Bound">As&lt;:Bs</a><a id="28199" class="Symbol">)</a>
    <a id="28205" class="Keyword">with</a> <a id="28210" href="/Subtyping/#7771" class="Function">lookup-⊆</a> <a id="28219" class="Symbol">{</a><a id="28220" class="Argument">i</a> <a id="28222" class="Symbol">=</a> <a id="28224" class="Bound">i</a><a id="28225" class="Symbol">}</a> <a id="28227" href="/Subtyping/#28187" class="Bound">ls⊆ks</a>
<a id="28233" class="Symbol">...</a> <a id="28237" class="Symbol">|</a> <a id="28239" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟨</a> <a id="28241" href="/Subtyping/#28241" class="Bound">k</a> <a id="28243" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="28245" href="/Subtyping/#28245" class="Bound">ls′[i]=ks[k]</a> <a id="28258" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">⟩</a>
    <a id="28264" class="Keyword">with</a> <a id="28269" href="/Subtyping/#26740" class="Function">field-pres</a> <a id="28280" class="Symbol">{</a><a id="28281" class="Argument">i</a> <a id="28283" class="Symbol">=</a> <a id="28285" href="/Subtyping/#28241" class="Bound">k</a><a id="28286" class="Symbol">}</a> <a id="28288" class="Bound">⊢Ms</a> <a id="28292" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
<a id="28297" class="Symbol">...</a> <a id="28301" class="Symbol">|</a> <a id="28303" href="/Subtyping/#28303" class="Bound">⊢Ms[k]</a>
    <a id="28314" class="Keyword">rewrite</a> <a id="28322" href="/Subtyping/#5337" class="Function">distinct-lookup-inj</a> <a id="28342" class="Bound">dks</a> <a id="28346" class="Symbol">(</a><a id="28347" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#984" class="Function">trans</a> <a id="28353" class="Bound">ks[j]=l</a> <a id="28361" class="Bound">ls′[i]=ks[k]</a><a id="28373" class="Symbol">)</a> <a id="28375" class="Symbol">=</a>
    <a id="28381" href="/Subtyping/#16551" class="InductiveConstructor">⊢&lt;:</a> <a id="28385" href="/Subtyping/#28303" class="Bound">⊢Ms[k]</a> <a id="28392" class="Symbol">(</a><a id="28393" class="Bound">As&lt;:Bs</a> <a id="28400" class="Symbol">(</a><a id="28401" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.Core.html#939" class="Function">sym</a> <a id="28405" class="Bound">ls′[i]=ks[k]</a><a id="28417" class="Symbol">))</a>
<a id="28420" href="/Subtyping/#27014" class="Function">preserve</a> <a id="28429" class="Symbol">(</a><a id="28430" href="/Subtyping/#16551" class="InductiveConstructor">⊢&lt;:</a> <a id="28434" href="/Subtyping/#28434" class="Bound">⊢M</a> <a id="28437" href="/Subtyping/#28437" class="Bound">A&lt;:B</a><a id="28441" class="Symbol">)</a> <a id="28443" href="/Subtyping/#28443" class="Bound">M—→N</a>                       <a id="28470" class="Symbol">=</a>  <a id="28473" href="/Subtyping/#16551" class="InductiveConstructor">⊢&lt;:</a> <a id="28477" class="Symbol">(</a><a id="28478" href="/Subtyping/#27014" class="Function">preserve</a> <a id="28487" href="/Subtyping/#28434" class="Bound">⊢M</a> <a id="28490" href="/Subtyping/#28443" class="Bound">M—→N</a><a id="28494" class="Symbol">)</a> <a id="28496" href="/Subtyping/#28437" class="Bound">A&lt;:B</a>
</pre>
<h4 id="exercise-intrinsic-records-stretch">Exercise <code class="language-plaintext highlighter-rouge">intrinsic-records</code> (stretch)</h4>

<p>Formulate the language of this chapter, STLC with records, using
intrinsicaly typed terms. This requires taking an algorithmic approach
to the type system, which means that there is no subsumption rule and
instead subtyping is used in the elimination rules. For example,
the rule for function application would be:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>_·_ : ∀ {Γ A B C}
  → Γ ⊢ A ⇒ B
  → Γ ⊢ C
  → C &lt;: A
    -------
  → Γ ⊢ B
</code></pre></div></div>

<h4 id="exercise-type-check-records-practice">Exercise <code class="language-plaintext highlighter-rouge">type-check-records</code> (practice)</h4>

<p>Write a recursive function whose input is a <code class="language-plaintext highlighter-rouge">Term</code> and whose output
is a typing derivation for that term, if one exists.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>type-check : (M : Term) → (Γ : Context) → Maybe (Σ[ A ∈ Type ] Γ ⊢ M ⦂ A)
</code></pre></div></div>

<h3 id="exercise-variants-recommended">Exercise <code class="language-plaintext highlighter-rouge">variants</code> (recommended)</h3>

<p>Add variants to the language of this Chapter and update the proofs of
progress and preservation. The variant type is a generalization of a
sum type, similar to the way the record type is a generalization of
product. The following summarizes the treatement of variants in the
book Types and Programming Languages. A variant type is traditionally
written:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>〈l₁:A₁, ..., lᵤ:Aᵤ〉
</code></pre></div></div>

<p>The term for introducing a variant is</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>〈l=t〉
</code></pre></div></div>

<p>and the term for eliminating a variant is</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>case L of 〈l₁=x₁〉 ⇒ M₁ | ... | 〈lᵤ=xᵤ〉 ⇒ Mᵤ
</code></pre></div></div>

<p>The typing rules for these terms are</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(T-Variant)
Γ ⊢ Mⱼ : Aⱼ
---------------------------------
Γ ⊢ 〈lⱼ=Mⱼ〉 : 〈l₁=A₁, ... , lᵤ=Aᵤ〉


(T-Case)
Γ ⊢ L : 〈l₁=A₁, ... , lᵤ=Aᵤ〉
∀ i ∈ 1..u,   Γ,xᵢ:Aᵢ ⊢ Mᵢ : B
---------------------------------------------------
Γ ⊢ case L of 〈l₁=x₁〉 ⇒ M₁ | ... | 〈lᵤ=xᵤ〉 ⇒ Mᵤ  : B
</code></pre></div></div>

<p>The non-algorithmic subtyping rules for variants are</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(S-VariantWidth)
------------------------------------------------------------
〈l₁=A₁, ..., lᵤ=Aᵤ〉   &lt;:   〈l₁=A₁, ..., lᵤ=Aᵤ, ..., lᵤ₊ₓ=Aᵤ₊ₓ〉

(S-VariantDepth)
∀ i ∈ 1..u,    Aᵢ &lt;: Bᵢ
---------------------------------------------
〈l₁=A₁, ..., lᵤ=Aᵤ〉   &lt;:   〈l₁=B₁, ..., lᵤ=Bᵤ〉

(S-VariantPerm)
∀i∈1..u, ∃j∈1..u, kⱼ = lᵢ and Aⱼ = Bᵢ
----------------------------------------------
〈k₁=A₁, ..., kᵤ=Aᵤ〉   &lt;:   〈l₁=B₁, ..., lᵤ=Bᵤ〉
</code></pre></div></div>

<p>Come up with an algorithmic subtyping rule for variant types.</p>

<h3 id="exercise--alternative-stretch">Exercise <code class="language-plaintext highlighter-rouge">&lt;:-alternative</code> (stretch)</h3>

<p>Revise this formalization of records with subtyping (including proofs
of progress and preservation) to use the non-algorithmic subtyping
rules for Chapter 15 of TAPL, which we list here:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(S-RcdWidth)
--------------------------------------------------------------
{ l₁:A₁, ..., lᵤ:Aᵤ, ..., lᵤ₊ₓ:Aᵤ₊ₓ } &lt;: { l₁:A₁, ..., lᵤ:Aᵤ }

(S-RcdDepth)
    ∀i∈1..u, Aᵢ &lt;: Bᵢ
----------------------------------------------
{ l₁:A₁, ..., lᵤ:Aᵤ } &lt;: { l₁:B₁, ..., lᵤ:Bᵤ }

(S-RcdPerm)
∀i∈1..u, ∃j∈1..u, kⱼ = lᵢ and Aⱼ = Bᵢ
----------------------------------------------
{ k₁:A₁, ..., kᵤ:Aᵤ } &lt;: { l₁:B₁, ..., lᵤ:Bᵤ }
</code></pre></div></div>

<p>You will most likely need to prove inversion lemmas for the subtype relation
of the form:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>If S &lt;: T₁ ⇒ T₂, then S ≡ S₁ ⇒ S₂, T₁ &lt;: S₁, and S₂ &lt;: T₂, for some S₁, S₂.

If S &lt;: { lᵢ : Tᵢ | i ∈ 1..n }, then S ≡ { kⱼ : Sⱼ | j ∈ 1..m }
and { lᵢ | i ∈ 1..n } ⊆ { kⱼ | j ∈ 1..m }
and Sⱼ &lt;: Tᵢ for every i and j such that lᵢ = kⱼ. 
</code></pre></div></div>

<h2 id="references">References</h2>

<ul>
  <li>
    <p>Reynolds 1980</p>
  </li>
  <li>
    <p>Cardelli 1984</p>
  </li>
  <li>
    <p>Liskov</p>
  </li>
  <li>
    <p>Types and Programming Languages. Benjamin C. Pierce. The MIT Press. 2002.</p>
  </li>
</ul>

  </div>

  <p style="text-align:center;">
    
    <a alt="Previous chapter" href="/More/">Prev</a>
    
    
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/plfa/plfa.github.io/blob/dev/src/plfa/part2/Subtyping.lagda.md">Source</a>
    
    
    &bullet;
    
    
    <a alt="Next chapter" href="/Bisimulation/">Next</a>
    
</p>


</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Programming Language Foundations in Agda
</h2><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Philip Wadler</li>
          <li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk">wadler@inf.ed.ac.uk</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wadler"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wadler</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Wen Kokke</li>
          <li><a class="u-email" href="mailto:wen.kokke@ed.ac.uk">wen.kokke@ed.ac.uk</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wenkokke"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wenkokke</span></a></li><li><a href="https://www.twitter.com/wenkokke"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">wenkokke</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Jeremy G. Siek</li>
          <li><a class="u-email" href="mailto:jsiek@indiana.edu">jsiek@indiana.edu</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jsiek"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jsiek</span></a></li><li><a href="https://www.twitter.com/jeremysiek"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jeremysiek</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
  </div>
</footer>
<script type="text/javascript">
     // Fix sandwich menu
     $('.menu-icon').click(function(){
         $('.trigger').toggle();
     });
    </script><!-- Import jQuery -->
<script type="text/javascript" src="/assets/jquery.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.2/anchor.min.js" integrity="sha256-E4RlfxwyJVmkkk0szw7LYJxuPlp6evtPSBDlWHsYYL8=" crossorigin="anonymous"></script>
<script type="text/javascript">
 // Add anchors on DOMContentLoaded
 document.addEventListener('DOMContentLoaded', function(event) {
     anchors.add();
 });
</script>

<script type="text/javascript">
 // Script which allows for foldable code blocks
 $('div.foldable pre').each(function(){
     var autoHeight = $(this).height();
     var lineHeight = parseFloat($(this).css('line-height'));

     var plus    = $("<div></div>");
     var horLine = $("<div></div>");
     var verLine = $("<div></div>");
     $(this).prepend(plus);
     plus.css({
         'position'         : 'relative',
         'float'            : 'right',
         'right'            : '-' + (0.5 * lineHeight - 1.5) + 'px',
         'width'            : lineHeight,
         'height'           : lineHeight});
     verLine.css({
         'position'         : 'relative',
         'height'           : lineHeight,
         'width'            : '3px',
         'background-color' : '#C1E0FF'});
     horLine.css({
         'position'         : 'relative',
         'top'              : '-' + (0.5 * lineHeight + 1.5) + 'px',
         'left'             : '-' + (0.5 * lineHeight - 1.5) + 'px',
         'height'           : '3px',
         'width'            : lineHeight,
         'background-color' : '#C1E0FF'});
     plus.append(verLine);
     plus.append(horLine);

     $(this).height(2.0 * lineHeight);
     $(this).css('overflow','hidden');

     $(this).click(function(){
         if ($(this).height() == autoHeight) {
             $(this).height(2.0 * lineHeight);
             plus.show();
         }
         else {
             $(this).height('auto');
             plus.hide();
         }
     });
 });
</script>

<!-- Import KaTeX -->
<script type="text/javascript" src="/assets/katex.js"></script>

<!-- Script which renders TeX using KaTeX -->
<script type="text/javascript">
 $("script[type='math/tex']").replaceWith(
     function(){
         var tex = $(this).text();
         return "<span class=\"inline-equation\">" +
                katex.renderToString(tex) +
                "</span>";
     });
 $("script[type='math/tex; mode=display']").replaceWith(
     function(){
         var tex = $(this).text().replace(/%.*?(\n|$)/g,"");
         return "<div class=\"equation\">" +
                katex.renderToString("\\displaystyle "+tex) +
                "</div>";
     });
</script>
</body>

</html>
